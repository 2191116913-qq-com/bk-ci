(window.webpackJsonp=window.webpackJsonp||[]).push([["nodeDetail"],{"+QAm":function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=d(a("snOE")),r=d(a("tZmG")),i=d(a("/9Wh")),o=d(a("06Hw")),s=d(a("YYXh")),l=d(a("gdmg"));a("32Xi"),a("08K/"),a("pGVq");var u=a("CmRT"),c=a("2K1W");function d(e){return e&&e.__esModule?e:{default:e}}t.default={components:{chart:l.default},data:function(){return{isEmptyCpu:!1,isEmptyMemory:!1,isEmptyNetwork:!1,isEmptyDiskio:!1,cpuToggleRangeStr:"1小时",memToggleRangeStr:"1小时",networkToggleRangeStr:"1小时",storageToggleRangeStr:"1小时",cpuLine:u.nodeOverview.cpu,memoryLine:u.nodeOverview.memory,networkLine:u.nodeOverview.network,storageLine:u.nodeOverview.storage,calcSrc:a("/Co+")}},computed:{projectId:function(){return this.$route.params.projectId},nodeHashId:function(){return this.$route.params.nodeHashId}},created:function(){var e=this;c.bus.$off("refreshCharts"),c.bus.$on("refreshCharts",(function(){e.fetchData("cpu_summary","1小时"===e.cpuToggleRangeStr?"1":"24小时"===e.cpuToggleRangeStr?"2":"3"),e.fetchData("mem","1小时"===e.memToggleRangeStr?"1":"24小时"===e.memToggleRangeStr?"2":"3"),e.fetchData("net","1小时"===e.networkToggleRangeStr?"1":"24小时"===e.networkToggleRangeStr?"2":"3"),e.fetchData("io","1小时"===e.storageToggleRangeStr?"1":"24小时"===e.storageToggleRangeStr?"2":"3")}))},mounted:function(){this.fetchData("cpu_summary","1"),this.fetchData("mem","1"),this.fetchData("net","1"),this.fetchData("io","1")},methods:{toggleRange:function(e,t,a,n){"1"===n?this[t]="1小时":"2"===n?this[t]="24小时":"3"===n&&(this[t]="近7天"),this.$refs[e].hide(),this.fetchData(a,n)},fetchData:function(e,t){var a=this;return(0,s.default)(o.default.mark((function n(){var r,i,s;return o.default.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:r={projectId:a.projectId,nodeHashId:a.nodeHashId,timeRange:"1"===t?"HOUR":"2"===t?"DAY":"WEEK"},i=void 0,s=void 0,"cpu_summary"===e?(i=a.$refs.cpuLine1,s="setCpuData"):"mem"===e?(i=a.$refs.memoryLine1,s="setMemData"):"io"===e?(i=a.$refs.storageLine1,s="setStorageData"):"net"===e&&(i=a.$refs.networkLine1,s="setNetworkData"),i&&i.showLoading({text:"正在加载",color:"#30d878",maskColor:"rgba(255, 255, 255, 0.8)"}),s&&a[s](i,r);case 6:case"end":return n.stop()}}),n,a)})))()},setCpuData:function(e,t){var a=this;return(0,s.default)(o.default.mark((function n(){var r,i,s,l,u;return o.default.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(e){n.next=2;break}return n.abrupt("return");case 2:return r=[],i=[],n.prev=4,n.next=7,a.$store.dispatch("environment/getNodeCpuMetrics",{params:t});case 7:(s=n.sent).usage_user.length?(a.isEmptyCpu=!1,s.usage_user.forEach((function(e){r.push({value:[e.time,e.usage_user&&e.usage_user.toFixed(2)]}),i.push(0)})),(l=a.cpuLine.series[0].data).splice.apply(l,[0,a.cpuLine.series[0].data.length].concat(r)),e.hideLoading()):a.isEmptyCpu=!0,n.next=16;break;case 11:n.prev=11,n.t0=n.catch(4),u=n.t0.message?n.t0.message:n.t0,"error",a.$bkMessage({message:u,theme:"error"});case 16:case"end":return n.stop()}}),n,a,[[4,11]])})))()},setMemData:function(e,t){var a=this;return(0,s.default)(o.default.mark((function n(){var r,i,s,l,u;return o.default.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(e){n.next=2;break}return n.abrupt("return");case 2:return r=[],i=[],n.prev=4,n.next=7,a.$store.dispatch("environment/getNodeMemoryMetrics",{params:t});case 7:(s=n.sent).used_percent.length?(a.isEmptyMemory=!1,s.used_percent.forEach((function(e){r.push({value:[e.time,e.used_percent&&e.used_percent.toFixed(2)]}),i.push(0)})),(l=a.memoryLine.series[0].data).splice.apply(l,[0,a.memoryLine.series[0].data.length].concat(r)),e.hideLoading()):a.isEmptyMemory=!0,n.next=16;break;case 11:n.prev=11,n.t0=n.catch(4),u=n.t0.message?n.t0.message:n.t0,"error",a.$bkMessage({message:u,theme:"error"});case 16:case"end":return n.stop()}}),n,a,[[4,11]])})))()},setNetworkData:function(e,t){var a=this;return(0,s.default)(o.default.mark((function s(){var l,u,c,d;return o.default.wrap((function(o){for(;;)switch(o.prev=o.next){case 0:if(e){o.next=2;break}return o.abrupt("return");case 2:return o.prev=2,o.next=5,a.$store.dispatch("environment/getNodeNetworkMetrics",{params:t});case 5:l=o.sent,"{}"===(0,i.default)(l)?a.isEmptyNetwork=!0:(c=[],a.isEmptyNetwork=!1,(0,r.default)(l).forEach((function(e){var t=[];l[e].forEach((function(a){t.push({value:[a.time,a[e]&&a[e].toFixed(2)]})})),c.push({type:"line",name:e,showSymbol:!1,data:t,itemStyle:{normal:{lineStyle:{width:1}}}})})),(u=a.networkLine.series).splice.apply(u,[0,a.networkLine.series.length].concat((0,n.default)(c||[]))),a.$refs.networkLine1.hideLoading()),o.next=14;break;case 9:o.prev=9,o.t0=o.catch(2),d=o.t0.message?o.t0.message:o.t0,"error",a.$bkMessage({message:d,theme:"error"});case 14:case"end":return o.stop()}}),s,a,[[2,9]])})))()},setStorageData:function(e,t){var a=this;return(0,s.default)(o.default.mark((function s(){var l,u,c,d;return o.default.wrap((function(o){for(;;)switch(o.prev=o.next){case 0:if(e){o.next=2;break}return o.abrupt("return");case 2:return o.prev=2,o.next=5,a.$store.dispatch("environment/getNodeDiskioMetrics",{params:t});case 5:l=o.sent,"{}"===(0,i.default)(l)?a.isEmptyDiskio=!0:(c=[],a.isEmptyDiskio=!1,(0,r.default)(l).forEach((function(e){var t=[];l[e].forEach((function(a){t.push({value:[a.time,a[e]&&a[e].toFixed(2)]})})),c.push({type:"line",name:e,showSymbol:!1,data:t,itemStyle:{normal:{lineStyle:{width:1}}}})})),(u=a.storageLine.series).splice.apply(u,[0,a.storageLine.series.length].concat((0,n.default)(c||[]))),a.$refs.storageLine1.hideLoading()),o.next=14;break;case 9:o.prev=9,o.t0=o.catch(2),d=o.t0.message?o.t0.message:o.t0,"error",a.$bkMessage({message:d,theme:"error"});case 14:case"end":return o.stop()}}),s,a,[[2,9]])})))()}}}},"/Co+":function(e,t){e.exports="data:image/png;base64,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"},"0MFF":function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=c(a("06Hw")),r=c(a("snOE")),i=c(a("YYXh")),o=c(a("/9Wh")),s=c(a("Kz1y")),l=a("WIBD"),u=a("2K1W");function c(e){return e&&e.__esModule?e:{default:e}}t.default={data:function(){return{editable:!1,paramList:[],editableList:[]}},computed:(0,s.default)({},(0,l.mapState)("environment",["nodeDetails"]),{projectId:function(){return this.$route.params.projectId},nodeHashId:function(){return this.$route.params.nodeHashId},renderList:function(){return this.editable?this.editableList:this.paramList}}),mounted:function(){this.requestEnvs()},created:function(){var e=this;u.bus.$off("refreshEnv"),u.bus.$on("refreshEnv",(function(){e.requestEnvs()}))},methods:{edithandle:function(){this.editable=!0,this.editableList=JSON.parse((0,o.default)(this.paramList))},requestEnvs:function(){var e=this;return(0,i.default)(n.default.mark((function t(){var a,i,o;return n.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e.$store.dispatch("environment/requestEnvs",{projectId:e.projectId,nodeHashId:e.nodeHashId});case 3:i=t.sent,(a=e.paramList).splice.apply(a,[0,e.paramList.length].concat((0,r.default)(i||[]))),e.editable=!1,t.next=13;break;case 8:t.prev=8,t.t0=t.catch(0),o=t.t0.message?t.t0.message:t.t0,"error",e.$bkMessage({message:o,theme:"error"});case 13:case"end":return t.stop()}}),t,e,[[0,8]])})))()},addHandle:function(){this.nodeDetails.canEdit&&(this.editable=!0,this.editableList.push({name:"",value:"",secure:!1}))},reduceHandle:function(e,t){this.editableList.splice(e,1)},toggleInputType:function(e){this.editableList=this.editableList.map((function(t,a){return(0,s.default)({},t,{secure:a===e?!t.secure:t.secure})}))},save:function(){var e=this;return(0,i.default)(n.default.mark((function t(){var a,r,i;return n.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.$validator.validate();case 2:if(!t.sent){t.next=21;break}return a=void 0,r=void 0,i=e.editableList,t.prev=6,t.next=9,e.$store.dispatch("environment/saveEnvs",{projectId:e.projectId,nodeHashId:e.nodeHashId,params:i});case 9:a="保存成功",r="success",e.requestEnvs(),t.next=18;break;case 14:t.prev=14,t.t0=t.catch(6),a=t.t0.message?t.t0.message:t.t0,r="error";case 18:return t.prev=18,e.$bkMessage({message:a,theme:r}),t.finish(18);case 21:case"end":return t.stop()}}),t,e,[[6,14,18,21]])})))()}}}},"0bq2":function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={props:{size:{type:String,default:"small"},align:{type:String,default:"right"},showLimit:{type:Boolean,default:!0},pageCountConfig:{type:Object,default:function(){return{list:[],perPageCountSelected:0,totalCount:0}}},pagingConfig:{type:Object,default:function(){return{totalPage:1,curPage:1}}}},mounted:function(){var e=this.pageCountConfig;this.$emit("update:pagingConfig",{totalPage:Math.ceil(e.totalCount/e.perPageCountSelected),curPage:1})},methods:{itemSelectedHandler:function(e){var t=this,a=this.pageCountConfig;this.$emit("update:pageCountConfig",{perPageCountSelected:e,totalCount:a.totalCount}),this.$nextTick((function(){t.$emit("page-count-changed",e,t.changed())}))},pageChangeHandler:function(e){this.$emit("page-changed",e,this.changed())},changed:function(){var e=this.pagingConfig.curPage,t=this.pageCountConfig.perPageCountSelected,a=(e-1)*t;return{start:a,end:a+t}}}}},"2K1W":function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.bus=void 0;var n,r=a("i7/w"),i=(n=r)&&n.__esModule?n:{default:n};t.bus=new i.default},"3Xfd":function(e,t,a){},"59i7":function(e,t,a){"use strict";var n=a("8dLW");a.n(n).a},"5pLk":function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"machine-record-wrapper"},[a("bk-table",{staticClass:"record-table",attrs:{size:"small","outer-border":!1,data:e.recordList,"empty-text":"暂无数据"}},[a("bk-table-column",{attrs:{label:"时间",prop:"actionTime","min-width":"160"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n                "+e._s(e.localConvertTime(t.row.actionTime))+"\n            ")]}}])}),e._v(" "),a("bk-table-column",{attrs:{label:"所属Job",prop:"action","min-width":"160"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",{class:"ONLINE"===t.row.action?"online":"offline",attrs:{title:t.row.action}},[e._v(e._s("ONLINE"===t.row.action?"上线":"下线"))])]}}])})],1),e._v(" "),e.recordList.length?a("full-paging",{attrs:{size:"small","page-count-config":e.pageCountConfig,"paging-config":e.pagingConfig},on:{"update:pageCountConfig":function(t){e.pageCountConfig=t},"update:page-count-config":function(t){e.pageCountConfig=t},"update:pagingConfig":function(t){e.pagingConfig=t},"update:paging-config":function(t){e.pagingConfig=t},"page-count-changed":e.pageCountChanged,"page-changed":e.pageChanged}}):e._e()],1)},r=[];n._withStripped=!0,a.d(t,"a",(function(){return n})),a.d(t,"b",(function(){return r}))},"6xtU":function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=u(a("06Hw")),r=u(a("snOE")),i=u(a("YYXh")),o=u(a("Lped")),s=a("ygAv"),l=a("2K1W");function u(e){return e&&e.__esModule?e:{default:e}}t.default={components:{fullPaging:o.default},data:function(){return{recordList:[],pageCountConfig:{totalCount:30,list:[{id:10,name:10},{id:20,name:20},{id:50,name:50},{id:100,name:100}],perPageCountSelected:10},pagingConfig:{totalPage:10,curPage:1}}},computed:{projectId:function(){return this.$route.params.projectId},nodeHashId:function(){return this.$route.params.nodeHashId}},created:function(){var e=this;l.bus.$off("refreshAction"),l.bus.$on("refreshAction",(function(){e.requestActionList(e.pagingConfig.curPage,e.pageCountConfig.perPageCountSelected)}))},mounted:function(){this.requestActionList(1,10)},methods:{requestActionList:function(e,t){var a=this;return(0,i.default)(n.default.mark((function i(){var o,s,l;return n.default.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,a.$store.dispatch("environment/requestActionList",{projectId:a.projectId,nodeHashId:a.nodeHashId,page:e||1,pageSize:t||10});case 3:s=n.sent,(o=a.recordList).splice.apply(o,[0,a.recordList.length].concat((0,r.default)(s.records||[]))),a.pageCountConfig.totalCount=s.count,a.pagingConfig.totalPage=Math.ceil(a.pageCountConfig.totalCount/t),n.next=14;break;case 9:n.prev=9,n.t0=n.catch(0),l=n.t0.message?n.t0.message:n.t0,"error",a.$bkMessage({message:l,theme:"error"});case 14:case"end":return n.stop()}}),i,a,[[0,9]])})))()},pageCountChanged:function(){var e=this;return(0,i.default)(n.default.mark((function t(){return n.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.pagingConfig.curPage=1,t.next=3,e.requestActionList(e.pagingConfig.curPage,e.pageCountConfig.perPageCountSelected);case 3:case"end":return t.stop()}}),t,e)})))()},pageChanged:function(){var e=this;return(0,i.default)(n.default.mark((function t(){return n.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.requestActionList(e.pagingConfig.curPage,e.pageCountConfig.perPageCountSelected);case 2:case"end":return t.stop()}}),t,e)})))()},localConvertTime:function(e){return(0,s.convertTime)(1e3*e)}}}},"8dLW":function(e,t,a){},"9q33":function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"node-overview-chart-wrapper"},[a("div",{staticClass:"node-overview-chart"},[a("div",{staticClass:"part top-left"},[a("div",{staticClass:"info"},[a("div",{staticClass:"left"},[e._v("CPU使用率")]),e._v(" "),a("div",{staticClass:"right"},[a("bk-dropdown-menu",{ref:"cpuDropdown",attrs:{align:"right"}},[a("div",{staticStyle:{cursor:"pointer"},attrs:{slot:"dropdown-trigger"},slot:"dropdown-trigger"},[a("span",[e._v(e._s(e.cpuToggleRangeStr))]),e._v(" "),a("button",{staticClass:"dropdown-button"},[a("i",{staticClass:"bk-icon icon-angle-down"})])]),e._v(" "),a("ul",{staticClass:"bk-dropdown-list",attrs:{slot:"dropdown-content"},slot:"dropdown-content"},[a("li",[a("a",{attrs:{href:"javascript:;"},on:{click:function(t){return t.stopPropagation(),e.toggleRange("cpuDropdown","cpuToggleRangeStr","cpu_summary","1")}}},[e._v("1小时")])]),e._v(" "),a("li",[a("a",{attrs:{href:"javascript:;"},on:{click:function(t){return t.stopPropagation(),e.toggleRange("cpuDropdown","cpuToggleRangeStr","cpu_summary","2")}}},[e._v("24小时")])]),e._v(" "),a("li",[a("a",{attrs:{href:"javascript:;"},on:{click:function(t){return t.stopPropagation(),e.toggleRange("cpuDropdown","cpuToggleRangeStr","cpu_summary","3")}}},[e._v("近7天")])])])])],1)]),e._v(" "),a("chart",{directives:[{name:"show",rawName:"v-show",value:!e.isEmptyCpu,expression:"!isEmptyCpu"}],ref:"cpuLine1",attrs:{options:e.cpuLine,"auto-resize":""}}),e._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:e.isEmptyCpu,expression:"isEmptyCpu"}],staticClass:"paas-ci-empty"},[a("img",{staticClass:"empty-pic",attrs:{src:e.calcSrc,alt:"暂无数据"}})])],1),e._v(" "),a("div",{staticClass:"part top-right"},[a("div",{staticClass:"info"},[a("div",{staticClass:"left"},[e._v("内存使用率")]),e._v(" "),a("div",{staticClass:"right"},[a("bk-dropdown-menu",{ref:"memoryDropdown",attrs:{align:"right"}},[a("div",{staticStyle:{cursor:"pointer"},attrs:{slot:"dropdown-trigger"},slot:"dropdown-trigger"},[a("span",[e._v(e._s(e.memToggleRangeStr))]),e._v(" "),a("button",{staticClass:"dropdown-button"},[a("i",{staticClass:"bk-icon icon-angle-down"})])]),e._v(" "),a("ul",{staticClass:"bk-dropdown-list",attrs:{slot:"dropdown-content"},slot:"dropdown-content"},[a("li",[a("a",{attrs:{href:"javascript:;"},on:{click:function(t){return t.stopPropagation(),e.toggleRange("memoryDropdown","memToggleRangeStr","mem","1")}}},[e._v("1小时")])]),e._v(" "),a("li",[a("a",{attrs:{href:"javascript:;"},on:{click:function(t){return t.stopPropagation(),e.toggleRange("memoryDropdown","memToggleRangeStr","mem","2")}}},[e._v("24小时")])]),e._v(" "),a("li",[a("a",{attrs:{href:"javascript:;"},on:{click:function(t){return t.stopPropagation(),e.toggleRange("memoryDropdown","memToggleRangeStr","mem","3")}}},[e._v("近7天")])])])])],1)]),e._v(" "),a("chart",{directives:[{name:"show",rawName:"v-show",value:!e.isEmptyMemory,expression:"!isEmptyMemory"}],ref:"memoryLine1",attrs:{options:e.memoryLine,"auto-resize":""}}),e._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:e.isEmptyMemory,expression:"isEmptyMemory"}],staticClass:"paas-ci-empty"},[a("img",{staticClass:"empty-pic",attrs:{src:e.calcSrc,alt:"暂无数据"}})])],1)]),e._v(" "),a("div",{staticClass:"node-overview-chart"},[a("div",{staticClass:"part bottom-left"},[a("div",{staticClass:"info"},[a("div",{staticClass:"left"},[e._v("网络IO")]),e._v(" "),a("div",{staticClass:"right"},[a("bk-dropdown-menu",{ref:"networkDropdown",attrs:{align:"right"}},[a("div",{staticStyle:{cursor:"pointer"},attrs:{slot:"dropdown-trigger"},slot:"dropdown-trigger"},[a("span",[e._v(e._s(e.networkToggleRangeStr))]),e._v(" "),a("button",{staticClass:"dropdown-button"},[a("i",{staticClass:"bk-icon icon-angle-down"})])]),e._v(" "),a("ul",{staticClass:"bk-dropdown-list",attrs:{slot:"dropdown-content"},slot:"dropdown-content"},[a("li",[a("a",{attrs:{href:"javascript:;"},on:{click:function(t){return t.stopPropagation(),e.toggleRange("networkDropdown","networkToggleRangeStr","net","1")}}},[e._v("1小时")])]),e._v(" "),a("li",[a("a",{attrs:{href:"javascript:;"},on:{click:function(t){return t.stopPropagation(),e.toggleRange("networkDropdown","networkToggleRangeStr","net","2")}}},[e._v("24小时")])]),e._v(" "),a("li",[a("a",{attrs:{href:"javascript:;"},on:{click:function(t){return t.stopPropagation(),e.toggleRange("networkDropdown","networkToggleRangeStr","net","3")}}},[e._v("近7天")])])])])],1)]),e._v(" "),a("chart",{directives:[{name:"show",rawName:"v-show",value:!e.isEmptyNetwork,expression:"!isEmptyNetwork"}],ref:"networkLine1",attrs:{options:e.networkLine,"auto-resize":""}}),e._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:e.isEmptyNetwork,expression:"isEmptyNetwork"}],staticClass:"paas-ci-empty"},[a("img",{staticClass:"empty-pic",attrs:{src:e.calcSrc,alt:"暂无数据"}})])],1),e._v(" "),a("div",{staticClass:"part"},[a("div",{staticClass:"info"},[a("div",{staticClass:"left"},[e._v("磁盘IO")]),e._v(" "),a("div",{staticClass:"right"},[a("bk-dropdown-menu",{ref:"storageDropdown",attrs:{align:"right"}},[a("div",{staticStyle:{cursor:"pointer"},attrs:{slot:"dropdown-trigger"},slot:"dropdown-trigger"},[a("span",[e._v(e._s(e.storageToggleRangeStr))]),e._v(" "),a("button",{staticClass:"dropdown-button"},[a("i",{staticClass:"bk-icon icon-angle-down"})])]),e._v(" "),a("ul",{staticClass:"bk-dropdown-list",attrs:{slot:"dropdown-content"},slot:"dropdown-content"},[a("li",[a("a",{attrs:{href:"javascript:;"},on:{click:function(t){return t.stopPropagation(),e.toggleRange("storageDropdown","storageToggleRangeStr","io","1")}}},[e._v("1小时")])]),e._v(" "),a("li",[a("a",{attrs:{href:"javascript:;"},on:{click:function(t){return t.stopPropagation(),e.toggleRange("storageDropdown","storageToggleRangeStr","io","2")}}},[e._v("24小时")])]),e._v(" "),a("li",[a("a",{attrs:{href:"javascript:;"},on:{click:function(t){return t.stopPropagation(),e.toggleRange("storageDropdown","storageToggleRangeStr","io","3")}}},[e._v("近7天")])])])])],1)]),e._v(" "),a("chart",{directives:[{name:"show",rawName:"v-show",value:!e.isEmptyDiskio,expression:"!isEmptyDiskio"}],ref:"storageLine1",attrs:{options:e.storageLine,"auto-resize":""}}),e._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:e.isEmptyDiskio,expression:"isEmptyDiskio"}],staticClass:"paas-ci-empty"},[a("img",{staticClass:"empty-pic",attrs:{src:e.calcSrc,alt:"暂无数据"}})])],1)])])},r=[];n._withStripped=!0,a.d(t,"a",(function(){return n})),a.d(t,"b",(function(){return r}))},CmRT:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.nodeOverview=void 0;var n=a("ygAv");t.nodeOverview={cpu:{tooltip:{trigger:"axis",confine:!0,axisPointer:{type:"line",animation:!1,label:{backgroundColor:"#6a7985"}},formatter:function(e,t,a){return void 0===e[0].value[1]?"<div>没有数据</div>":"\n                        <div>"+(0,n.convertTime)(Date.parse(e[0].value[0]))+"</div>\n                        <div>"+e[0].marker+"CPU使用率："+e[0].value[1]+"%</div>\n                    "}},grid:{show:!1,top:"4%",left:"4%",right:"5%",bottom:"3%",containLabel:!0},xAxis:[{type:"time",boundaryGap:!1,axisLine:{show:!0,lineStyle:{color:"#dde4eb"}},axisTick:{alignWithLabel:!0,length:5,lineStyle:{color:"#ebf0f5"}},axisLabel:{color:"#868b97"},splitLine:{show:!0,lineStyle:{color:["#ebf0f5"],type:"dashed"}}}],yAxis:[{boundaryGap:[0,"2%"],type:"value",axisLine:{show:!0,lineStyle:{color:"#dde4eb"}},axisTick:{alignWithLabel:!0,length:0,lineStyle:{color:"red"}},axisLabel:{color:"#868b97",formatter:function(e,t){return e+"%"}},splitLine:{show:!0,lineStyle:{color:["#ebf0f5"],type:"dashed"}}}],series:[{type:"line",name:"CPU使用率",showSymbol:!1,smooth:!0,hoverAnimation:!1,areaStyle:{normal:{color:{type:"linear",x:0,y:0,x2:0,y2:1,colorStops:[{offset:0,color:"#30d878"},{offset:1,color:"#c0f3d6"}],globalCoord:!1}}},itemStyle:{normal:{color:"#30d878"}},data:[]}]},memory:{tooltip:{trigger:"axis",axisPointer:{type:"line",animation:!1,label:{backgroundColor:"#6a7985"}},formatter:function(e,t,a){return void 0===e[0].value[1]?"<div>没有数据</div>":"\n                        <div>"+(0,n.convertTime)(Date.parse(e[0].value[0]))+"</div>\n                        <div>"+e[0].marker+"内存使用率："+e[0].value[1]+"%</div>\n                    "}},grid:{show:!1,top:"4%",left:"4%",right:"5%",bottom:"3%",containLabel:!0},xAxis:[{type:"time",boundaryGap:!1,axisLine:{show:!0,lineStyle:{color:"#dde4eb"}},axisTick:{alignWithLabel:!0,length:5,lineStyle:{color:"#ebf0f5"}},axisLabel:{color:"#868b97"},splitLine:{show:!0,lineStyle:{color:["#ebf0f5"],type:"dashed"}}}],yAxis:[{boundaryGap:[0,"2%"],type:"value",axisLine:{show:!0,lineStyle:{color:"#dde4eb"}},axisTick:{alignWithLabel:!0,length:0,lineStyle:{color:"red"}},axisLabel:{color:"#868b97",formatter:function(e,t){return e+"%"}},splitLine:{show:!0,lineStyle:{color:["#ebf0f5"],type:"dashed"}}}],series:[{type:"line",name:"total",smooth:!0,showSymbol:!1,hoverAnimation:!1,areaStyle:{normal:{}},data:[]}]},network:{tooltip:{trigger:"axis",position:function(e,t,a,n,r){var i=r.contentSize[1];return[e[0]+20,e[1]-i/2]},axisPointer:{type:"line",animation:!1,label:{backgroundColor:"#6a7985"}},formatter:function(e,t,a){var r=void 0;return r="<div>"+(0,n.convertTime)(Date.parse(e[0].value[0]))+"</div>",e.forEach((function(e){var t=void 0;t=e.value[1]/8589934592>=1?(e.value[1]/8589934592||0).toFixed(2)+"G":e.value[1]/8388608>=1?(e.value[1]/8388608||0).toFixed(2)+"MB":e.value[1]/8192>=1?(e.value[1]/8192||0).toFixed(2)+"KB":(e.value[1]/8||0).toFixed(2)+"B",r+="<div>"+e.marker+e.seriesName+"："+t+"</div>"})),r}},grid:{show:!1,top:"4%",left:"4%",right:"5%",bottom:"3%",containLabel:!0},xAxis:[{type:"time",boundaryGap:!1,axisLine:{show:!0,lineStyle:{color:"#dde4eb"}},axisTick:{alignWithLabel:!0,length:5,lineStyle:{color:"#ebf0f5"}},axisLabel:{color:"#868b97"},splitLine:{show:!0,lineStyle:{color:["#ebf0f5"],type:"dashed"}}}],yAxis:[{boundaryGap:[0,"2%"],type:"value",axisLine:{show:!0,lineStyle:{color:"#dde4eb"}},axisTick:{alignWithLabel:!0,length:0,lineStyle:{color:"red"}},axisLabel:{color:"#868b97",formatter:function(e,t){return e/8589934592>1?(e/8589934592).toFixed(0)+"G":e/8388608>1?(e/8388608).toFixed(0)+"MB":e/8192>1?(e/8192).toFixed(0)+"KB":e/8+"B"}},splitLine:{show:!0,lineStyle:{color:["#ebf0f5"],type:"dashed"}}}],series:[{type:"line",smooth:!0,showSymbol:!1,hoverAnimation:!1,areaStyle:{normal:{}},itemStyle:{normal:{color:"#ffbe21"}},data:[]},{type:"line",smooth:!0,showSymbol:!1,hoverAnimation:!1,areaStyle:{normal:{}},itemStyle:{normal:{color:"red"}},data:[]}]},storage:{tooltip:{trigger:"axis",axisPointer:{type:"line",animation:!1,label:{backgroundColor:"#6a7985"}},formatter:function(e,t,a){var r=void 0;return r="<div>"+(0,n.convertTime)(Date.parse(e[0].value[0]))+"</div>",e.forEach((function(e){var t=void 0;t=e.value[1]/1073741824>=1?(e.value[1]/1073741824||0).toFixed(2)+"G":e.value[1]/1048576>=1?(e.value[1]/1048576||0).toFixed(2)+"MB":e.value[1]/1024>=1?(e.value[1]/1024||0).toFixed(2)+"KB":(e.value[1]||0)+"B",r+="<div>"+e.marker+e.seriesName+"："+t+"</div>"})),r}},grid:{show:!1,top:"4%",left:"4%",right:"5%",bottom:"3%",containLabel:!0},xAxis:[{type:"time",boundaryGap:!1,axisLine:{show:!0,lineStyle:{color:"#dde4eb"}},axisTick:{alignWithLabel:!0,length:5,lineStyle:{color:"#ebf0f5"}},axisLabel:{color:"#868b97"},splitLine:{show:!0,lineStyle:{color:["#ebf0f5"],type:"dashed"}}}],yAxis:[{boundaryGap:[0,"2%"],type:"value",axisLine:{show:!0,lineStyle:{color:"#dde4eb"}},axisTick:{alignWithLabel:!0,length:0,lineStyle:{color:"red"}},axisLabel:{color:"#868b97",formatter:function(e,t){return e/1073741824>1?(e/1073741824).toFixed(0)+"G":e/1048576>1?(e/1048576).toFixed(0)+"MB":e/1024>1?(e/1024).toFixed(0)+"KB":e+"B"}},splitLine:{lineStyle:{color:["#ebf0f5"],type:"dashed"}}}],series:[{type:"line",smooth:!0,showSymbol:!1,hoverAnimation:!1,areaStyle:{normal:{}},itemStyle:{normal:{color:"#ffbe21"}},data:[]},{type:"line",smooth:!0,showSymbol:!1,hoverAnimation:!1,areaStyle:{normal:{}},itemStyle:{normal:{color:"red"}},data:[]}]}}},GExB:function(e,t,a){"use strict";a.r(t);var n=a("9q33"),r=a("MWXw");for(var i in r)"default"!==i&&function(e){a.d(t,e,(function(){return r[e]}))}(i);a("bFJR");var o=a("psIG"),s=Object(o.a)(r.default,n.a,n.b,!1,null,null,null);s.options.__file="src/components/devops/node-overview-chart.vue",t.default=s.exports},Lped:function(e,t,a){"use strict";a.r(t);var n=a("rPYl"),r=a("QSgt");for(var i in r)"default"!==i&&function(e){a.d(t,e,(function(){return r[e]}))}(i);var o=a("psIG"),s=Object(o.a)(r.default,n.a,n.b,!1,null,null,null);s.options.__file="src/components/common/full-paging/index.vue",t.default=s.exports},MWXw:function(e,t,a){"use strict";a.r(t);var n=a("+QAm"),r=a.n(n);for(var i in n)"default"!==i&&function(e){a.d(t,e,(function(){return n[e]}))}(i);t.default=r.a},NN3h:function(e,t,a){},"O+bJ":function(e,t,a){},OCyj:function(e,t,a){},OFF3:function(e,t,a){"use strict";var n=a("O+bJ");a.n(n).a},Q2xN:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n,r=p(a("06Hw")),i=p(a("YYXh")),o=p(a("Kz1y")),s=a("WIBD"),l=a("2K1W"),u=a("ygAv"),c=p(a("jLoI")),d=p(a("GExB"));function p(e){return e&&e.__esModule?e:{default:e}}t.default={components:{nodeDetailTab:c.default,nodeOverviewChart:d.default},data:function(){return{showContent:!1,editable:!1,basePrototypeList:[{id:"hostname",name:"主机名",value:""},{id:"ip",name:"IP",value:""},{id:"ncpus",name:"CPU",value:""},{id:"memTotal",name:"内存",value:""},{id:"createdUser",name:"拥有者",value:""},{id:"osName",name:"操作系统",value:""}],loading:{isLoading:!1,title:"数据加载中，请稍候"}}},computed:(0,o.default)({},(0,s.mapState)("environment",["nodeDetails"]),{projectId:function(){return this.$route.params.projectId},nodeHashId:function(){return this.$route.params.nodeHashId},agentLink:function(){return"WINDOWS"===this.nodeDetails.os?this.nodeDetails.agentUrl:this.nodeDetails.agentScript}}),watch:{projectId:(n=(0,i.default)(r.default.mark((function e(t){return r.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.$router.push({name:"envList"});case 1:case"end":return e.stop()}}),e,this)}))),function(e){return n.apply(this,arguments)}),nodeDetails:function(e){this.basePrototypeList.forEach((function(t){t.value=e[t.id]}))}},mounted:function(){var e=this;return(0,i.default)(r.default.mark((function t(){return r.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.requestNodeDetail();case 1:case"end":return t.stop()}}),t,e)})))()},methods:{toNodeList:function(){this.$router.push({name:"nodeList"})},requestNodeDetail:function(){var e=this;return(0,i.default)(r.default.mark((function t(){var a,n;return r.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.loading.isLoading=!0,t.prev=1,t.next=4,e.$store.dispatch("environment/requestNodeDetail",{projectId:e.projectId,nodeHashId:e.nodeHashId});case 4:a=t.sent,e.$store.commit("environment/updateNodeDetail",{res:a}),t.next=13;break;case 8:t.prev=8,t.t0=t.catch(1),n=t.t0.message?t.t0.message:t.t0,"error",e.$bkMessage({message:n,theme:"error"});case 13:return t.prev=13,e.loading.isLoading=!1,e.showContent=!0,t.finish(13);case 17:case"end":return t.stop()}}),t,e,[[1,8,13,17]])})))()},copyHandle:function(){(0,u.copyText)(this.agentLink)&&this.$bkMessage({theme:"success",message:"复制成功"})},downloadHandle:function(){window.location.href=this.nodeDetails.agentUrl},saveName:function(){var e=this;return(0,i.default)(r.default.mark((function t(){var a;return r.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e.nodeDetails.displayName){t.next=4;break}e.$bkMessage({theme:"error",message:"请输入别名"}),t.next=14;break;case 4:return a={displayName:e.nodeDetails.displayName.trim()},t.prev=5,t.next=8,e.$store.dispatch("environment/updateDisplayName",{projectId:e.projectId,nodeHashId:e.nodeHashId,params:a});case 8:e.editable=!1,t.next=14;break;case 11:t.prev=11,t.t0=t.catch(5),e.$bkMessage({theme:"error",message:t.t0.message?t.t0.message:t.t0});case 14:case"end":return t.stop()}}),t,e,[[5,11]])})))()},editNodeName:function(){var e=this;this.editable=!0,this.$nextTick((function(){e.$refs.nodeName.focus()}))},refresh:function(){this.requestNodeDetail(),l.bus.$emit("refreshEnv"),l.bus.$emit("refreshBuild"),l.bus.$emit("refreshAction"),l.bus.$emit("refreshCharts")}}}},QSgt:function(e,t,a){"use strict";a.r(t);var n=a("0bq2"),r=a.n(n);for(var i in n)"default"!==i&&function(e){a.d(t,e,(function(){return n[e]}))}(i);t.default=r.a},RAJ3:function(e,t,a){"use strict";var n=a("wyF2");a.n(n).a},RINE:function(e,t,a){"use strict";a.r(t);var n=a("Q2xN"),r=a.n(n);for(var i in n)"default"!==i&&function(e){a.d(t,e,(function(){return n[e]}))}(i);t.default=r.a},"TtH/":function(e,t,a){},Xzaf:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=u(a("snOE")),r=u(a("06Hw")),i=u(a("YYXh")),o=u(a("Lped")),s=a("ygAv"),l=a("2K1W");function u(e){return e&&e.__esModule?e:{default:e}}t.default={components:{fullPaging:o.default},data:function(){return{loopTimer:"",pipelineList:[],pageCountConfig:{totalCount:30,list:[{id:10,name:10},{id:20,name:20},{id:50,name:50},{id:100,name:100}],perPageCountSelected:10},pagingConfig:{totalPage:10,curPage:1},statusMap:{QUEUE:"排队中",RUNNING:"执行中",DONE:"已完成",FAIL:"执行失败"}}},computed:{projectId:function(){return this.$route.params.projectId},nodeHashId:function(){return this.$route.params.nodeHashId}},created:function(){var e=this;l.bus.$off("refreshBuild"),l.bus.$on("refreshBuild",(function(){e.requestBuildList(e.pagingConfig.curPage,e.pageCountConfig.perPageCountSelected),e.loopCheck()}))},mounted:function(){var e=this;return(0,i.default)(r.default.mark((function t(){return r.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.requestBuildList(1,10);case 2:e.loopCheck();case 3:case"end":return t.stop()}}),t,e)})))()},beforeDestroy:function(){clearTimeout(this.loopTimer),this.loopTimer=null},methods:{requestBuildList:function(e,t){var a=this;return(0,i.default)(r.default.mark((function i(){var o,s,l;return r.default.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,a.$store.dispatch("environment/requestBuildList",{projectId:a.projectId,nodeHashId:a.nodeHashId,page:e,pageSize:t});case 3:s=r.sent,(o=a.pipelineList).splice.apply(o,[0,a.pipelineList.length].concat((0,n.default)(s.records||[]))),a.pageCountConfig.totalCount=s.count,a.pagingConfig.totalPage=Math.ceil(a.pageCountConfig.totalCount/t),r.next=14;break;case 9:r.prev=9,r.t0=r.catch(0),l=r.t0.message?r.t0.message:r.t0,"error",a.$bkMessage({message:l,theme:"error"});case 14:case"end":return r.stop()}}),i,a,[[0,9]])})))()},pageCountChanged:function(){var e=this;return(0,i.default)(r.default.mark((function t(){return r.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.pagingConfig.curPage=1,t.next=3,e.requestBuildList(e.pagingConfig.curPage,e.pageCountConfig.perPageCountSelected);case 3:e.loopCheck();case 4:case"end":return t.stop()}}),t,e)})))()},pageChanged:function(){var e=this;return(0,i.default)(r.default.mark((function t(){return r.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.requestBuildList(e.pagingConfig.curPage,e.pageCountConfig.perPageCountSelected);case 2:e.loopCheck();case 3:case"end":return t.stop()}}),t,e)})))()},loopCheck:function(){var e=this;clearTimeout(this.loopTimer),this.pipelineList.some((function(e){return"RUNNING"===e.status||e.agentTask&&"RUNNING"===e.agentTask.status}))&&(this.loopTimer=setTimeout((0,i.default)(r.default.mark((function t(){return r.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e.requestBuildList(e.pagingConfig.curPage,e.pageCountConfig.perPageCountSelected);case 3:e.loopCheck(),t.next=9;break;case 6:t.prev=6,t.t0=t.catch(0),e.$bkMessage({message:t.t0.message||t.t0,theme:"error"});case 9:case"end":return t.stop()}}),t,e,[[0,6]])}))),5e3))},localConvertTime:function(e){return(0,s.convertTime)(1e3*e)}}}},ZSDv:function(e,t,a){"use strict";a.r(t);var n=a("kQFL"),r=a.n(n);for(var i in n)"default"!==i&&function(e){a.d(t,e,(function(){return n[e]}))}(i);t.default=r.a},a6MN:function(e,t,a){"use strict";a.r(t);var n=a("0MFF"),r=a.n(n);for(var i in n)"default"!==i&&function(e){a.d(t,e,(function(){return n[e]}))}(i);t.default=r.a},bFJR:function(e,t,a){"use strict";var n=a("TtH/");a.n(n).a},bnPf:function(e,t,a){"use strict";a.r(t);var n=a("sQLI"),r=a("RINE");for(var i in r)"default"!==i&&function(e){a.d(t,e,(function(){return r[e]}))}(i);a("gCEp");var o=a("psIG"),s=Object(o.a)(r.default,n.a,n.b,!1,null,null,null);s.options.__file="src/views/node_detail.vue",t.default=s.exports},dQ2S:function(e,t,a){"use strict";a.r(t);var n=a("6xtU"),r=a.n(n);for(var i in n)"default"!==i&&function(e){a.d(t,e,(function(){return n[e]}))}(i);t.default=r.a},gCEp:function(e,t,a){"use strict";var n=a("NN3h");a.n(n).a},j5WL:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"pipeline-list-wrapper"},[a("bk-table",{staticClass:"pipeline-table",attrs:{size:"small","outer-border":!1,data:e.pipelineList,"empty-text":"暂无数据"}},[a("bk-table-column",{attrs:{label:"流水线",prop:"pipelineName","min-width":"200"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("a",{staticClass:"item-pipelinename",attrs:{title:t.row.pipelineName,target:"_blank",href:"/console/pipeline/"+e.projectId+"/"+t.row.pipelineId+"/detail/"+t.row.buildId}},[e._v(e._s(t.row.pipelineName)+"\n                ")])]}}])}),e._v(" "),a("bk-table-column",{attrs:{label:"构建号",prop:"buildNumber"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s(t.row.buildNumber))])]}}])}),e._v(" "),a("bk-table-column",{attrs:{label:"所属Job",prop:"taskName","min-width":"160"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",{attrs:{title:t.row.taskName}},[e._v(e._s(t.row.taskName))])]}}])}),e._v(" "),a("bk-table-column",{attrs:{label:"构建任务状态",prop:"status"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",{class:{"is-success":"DONE"===t.row.status,"is-fail":"FAIL"===t.row.status}},[e._v(e._s(e.statusMap[t.row.status]))]),e._v(" "),t.row.agentTask&&"RUNNING"===t.row.agentTask.status?a("span",[e._v("（agent任务运行中）")]):e._e()]}}])}),e._v(" "),a("bk-table-column",{attrs:{label:"创建时间",prop:"createdTime","min-width":"160"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n                "+e._s(e.localConvertTime(t.row.createdTime))+"\n            ")]}}])}),e._v(" "),a("bk-table-column",{attrs:{label:"更新时间",prop:"updatedTime","min-width":"160"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n                "+e._s(e.localConvertTime(t.row.updatedTime))+"\n            ")]}}])})],1),e._v(" "),e.pipelineList.length?a("full-paging",{attrs:{size:"small","page-count-config":e.pageCountConfig,"paging-config":e.pagingConfig},on:{"update:pageCountConfig":function(t){e.pageCountConfig=t},"update:page-count-config":function(t){e.pageCountConfig=t},"update:pagingConfig":function(t){e.pagingConfig=t},"update:paging-config":function(t){e.pagingConfig=t},"page-count-changed":e.pageCountChanged,"page-changed":e.pageChanged}}):e._e()],1)},r=[];n._withStripped=!0,a.d(t,"a",(function(){return n})),a.d(t,"b",(function(){return r}))},jLoI:function(e,t,a){"use strict";a.r(t);var n=a("qXmO"),r=a("ZSDv");for(var i in r)"default"!==i&&function(e){a.d(t,e,(function(){return r[e]}))}(i);a("59i7");var o=a("psIG"),s=Object(o.a)(r.default,n.a,n.b,!1,null,null,null);s.options.__file="src/components/devops/node-detail-tab.vue",t.default=s.exports},kBLg:function(e,t,a){"use strict";a.r(t);var n=a("5pLk"),r=a("dQ2S");for(var i in r)"default"!==i&&function(e){a.d(t,e,(function(){return r[e]}))}(i);a("qSNF");var o=a("psIG"),s=Object(o.a)(r.default,n.a,n.b,!1,null,null,null);s.options.__file="src/components/devops/environment/machine-record.vue",t.default=s.exports},kIgn:function(e,t,a){"use strict";a.r(t);var n=a("xSEy"),r=a("oUYl");for(var i in r)"default"!==i&&function(e){a.d(t,e,(function(){return r[e]}))}(i);a("OFF3");var o=a("psIG"),s=Object(o.a)(r.default,n.a,n.b,!1,null,null,null);s.options.__file="src/components/devops/environment/basic-information.vue",t.default=s.exports},kQFL:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=s(a("kIgn")),r=s(a("nNVk")),i=s(a("u8H1")),o=s(a("kBLg"));function s(e){return e&&e.__esModule?e:{default:e}}t.default={components:{BasicInformation:n.default,EnvVariable:r.default,PipelineList:i.default,MachineRecord:o.default},data:function(){return{panels:[{name:"mission",label:" 任务报表",count:10},{name:"config",label:"加速配置",count:20},{name:"hisitory",label:"历史版本",count:30},{name:"deleted",label:"已归档加速任务",count:40}],active:"mission",type:["card","border-card","unborder-card"],currentType:"card",activeName:"base",menuList:[{name:"base",label:"基本信息"},{name:"envVariable",label:"环境变量"},{name:"pipeline",label:"构建任务"},{name:"activity",label:"机器上下线记录"}]}},mounted:function(){},methods:{tabChanged:function(e){this.activeName=e}}}},lSDS:function(e,t,a){"use strict";var n=a("OCyj");a.n(n).a},nNVk:function(e,t,a){"use strict";a.r(t);var n=a("un04"),r=a("a6MN");for(var i in r)"default"!==i&&function(e){a.d(t,e,(function(){return r[e]}))}(i);a("lSDS");var o=a("psIG"),s=Object(o.a)(r.default,n.a,n.b,!1,null,null,null);s.options.__file="src/components/devops/environment/env-variable.vue",t.default=s.exports},oUYl:function(e,t,a){"use strict";a.r(t);var n=a("ug1x"),r=a.n(n);for(var i in n)"default"!==i&&function(e){a.d(t,e,(function(){return n[e]}))}(i);t.default=r.a},qSNF:function(e,t,a){"use strict";var n=a("3Xfd");a.n(n).a},qXmO:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"node-details-tab"},[a("bk-tab",{staticStyle:{"margin-top":"20px"},attrs:{active:e.activeName,type:e.currentType},on:{"update:active":function(t){e.activeName=t}}},e._l(e.menuList,(function(t,n){return a("bk-tab-panel",e._b({key:n},"bk-tab-panel",t,!1),["base"===t.name?a("basic-information"):e._e(),e._v(" "),"envVariable"===t.name?a("env-variable"):e._e(),e._v(" "),"pipeline"===t.name?a("pipeline-list"):e._e(),e._v(" "),"activity"===t.name?a("machine-record"):e._e()],1)})),1)],1)},r=[];n._withStripped=!0,a.d(t,"a",(function(){return n})),a.d(t,"b",(function(){return r}))},r5Jl:function(e,t,a){"use strict";a.r(t);var n=a("Xzaf"),r=a.n(n);for(var i in n)"default"!==i&&function(e){a.d(t,e,(function(){return n[e]}))}(i);t.default=r.a},rPYl:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"ci-paging clearfix"},[a("bk-pagination",{attrs:{size:e.size,current:e.pagingConfig.curPage,count:e.pageCountConfig.totalCount,limit:e.pageCountConfig.perPageCountSelected,align:e.align,"show-limit":e.showLimit},on:{"update:current":function(t){return e.$set(e.pagingConfig,"curPage",t)},change:e.pageChangeHandler,"limit-change":e.itemSelectedHandler}})],1)},r=[];n._withStripped=!0,a.d(t,"a",(function(){return n})),a.d(t,"b",(function(){return r}))},sQLI:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{directives:[{name:"bkloading",rawName:"v-bkloading",value:{isLoading:e.loading.isLoading,title:e.loading.title},expression:"{\n        isLoading: loading.isLoading,\n        title: loading.title\n    }"}],staticClass:"node-detail-wrapper"},[a("div",{staticClass:"info-header"},[a("div",{staticClass:"title"},[a("i",{staticClass:"bk-icon icon-arrows-left",on:{click:e.toNodeList}}),e._v(" "),e.editable?a("input",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"},{name:"model",rawName:"v-model",value:e.nodeDetails.displayName,expression:"nodeDetails.displayName"}],ref:"nodeName",staticClass:"bk-form-input display-name-input",class:{"is-danger":e.errors.has("nodeName")},attrs:{type:"text",maxlength:"30",name:"nodeName"},domProps:{value:e.nodeDetails.displayName},on:{blur:e.saveName,input:function(t){t.target.composing||e.$set(e.nodeDetails,"displayName",t.target.value)}}}):e._e(),e._v(" "),e.editable?e._e():a("span",{staticClass:"header-text"},[e._v(e._s(e.nodeDetails.displayName))]),e._v(" "),!e.editable&&e.nodeDetails.canEdit?a("i",{staticClass:"bk-icon icon-edit",on:{click:e.editNodeName}}):e._e()]),e._v(" "),a("div",{staticClass:"node-handle"},[a("span",{staticClass:"copy-btn",on:{click:e.copyHandle}},[e._v("\n                "+e._s("WINDOWS"===e.nodeDetails.os?"复制下载链接":"复制安装命令")+"\n            ")]),e._v(" "),"WINDOWS"===e.nodeDetails.os?a("span",{staticClass:"download-btn",on:{click:e.downloadHandle}},[e._v("下载安装包")]):e._e(),e._v(" "),a("i",{staticClass:"bk-icon icon-refresh",on:{click:e.refresh}})])]),e._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:e.showContent,expression:"showContent"}],staticClass:"detail-main-content"},[a("ul",{staticClass:"base-prototype-list"},e._l(e.basePrototypeList,(function(t,n){return a("li",{key:n},[a("div",{staticClass:"info-title"},[e._v(e._s(t.name)+"：")]),e._v(" "),a("div",{staticClass:"info-value",attrs:{title:t.value}},[e._v(e._s(t.value))])])})),0),e._v(" "),a("node-overview-chart"),e._v(" "),a("node-detail-tab")],1)])},r=[];n._withStripped=!0,a.d(t,"a",(function(){return n})),a.d(t,"b",(function(){return r}))},u8H1:function(e,t,a){"use strict";a.r(t);var n=a("j5WL"),r=a("r5Jl");for(var i in r)"default"!==i&&function(e){a.d(t,e,(function(){return r[e]}))}(i);a("RAJ3");var o=a("psIG"),s=Object(o.a)(r.default,n.a,n.b,!1,null,null,null);s.options.__file="src/components/devops/environment/pipeline-list.vue",t.default=s.exports},ug1x:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=l(a("06Hw")),r=l(a("YYXh")),i=l(a("Kz1y")),o=a("WIBD"),s=a("ygAv");function l(e){return e&&e.__esModule?e:{default:e}}t.default={data:function(){return{isEditWorkspace:!1,isEditCount:!1,isEditCreatedUser:!1,isEditNoticeType:!1,workspace:"",createdUser:"",parallelTaskCount:0,noticeTypeList:[{name:"work-wechat",value:"RTX",isChecked:!0},{name:"wechat",value:"WECHAT",isChecked:!1},{name:"email",value:"EMAIL",isChecked:!1}]}},computed:(0,i.default)({},(0,o.mapState)("environment",["nodeDetails"]),{projectId:function(){return this.$route.params.projectId},nodeHashId:function(){return this.$route.params.nodeHashId},agentLink:function(){return"WINDOWS"===this.nodeDetails.os?this.nodeDetails.agentUrl:this.nodeDetails.agentScript}}),mounted:function(){},methods:{editHandle:function(e,t){var a=this;if(this.nodeDetails.canEdit)switch(e){case"workspace":this.isEditWorkspace=t,t&&(this.workspace=this.nodeDetails.workspace);break;case"parallelTaskCount":this.isEditCount=t,t&&(this.parallelTaskCount=this.nodeDetails.parallelTaskCount,this.$nextTick((function(){a.$refs.parallelTaskCount.focus()})));break;case"createdUser":this.isEditCreatedUser=t,t&&(this.createdUser=this.nodeDetails.createdUser);break;case"noticeType":this.isEditNoticeType=t}},saveHandle:function(){var e=this;return(0,r.default)(n.default.mark((function t(){return n.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.$validator.validate();case 2:t.sent&&e.saveParallelTaskCount(e.parallelTaskCount);case 4:case"end":return t.stop()}}),t,e)})))()},saveParallelTaskCount:function(e){var t=this;return(0,r.default)(n.default.mark((function a(){var r,i;return n.default.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return r=void 0,i=void 0,a.prev=1,a.next=4,t.$store.dispatch("environment/saveParallelTaskCount",{projectId:t.projectId,nodeHashId:t.nodeHashId,parallelTaskCount:e});case 4:r="保存成功",i="success",t.requestNodeDetail(),a.next=13;break;case 9:a.prev=9,a.t0=a.catch(1),r=a.t0.message?a.t0.message:a.t0,i="error";case 13:return a.prev=13,t.$bkMessage({message:r,theme:i}),a.finish(13);case 16:case"end":return a.stop()}}),a,t,[[1,9,13,16]])})))()},requestNodeDetail:function(){var e=this;return(0,r.default)(n.default.mark((function t(){var a,r;return n.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e.$store.dispatch("environment/requestNodeDetail",{projectId:e.projectId,nodeHashId:e.nodeHashId});case 3:a=t.sent,e.$store.commit("environment/updateNodeDetail",{res:a}),e.isEditCount=!1,t.next=13;break;case 8:t.prev=8,t.t0=t.catch(0),r=t.t0.message?t.t0.message:t.t0,"error",e.$bkMessage({message:r,theme:"error"});case 13:case"end":return t.stop()}}),t,e,[[0,8]])})))()},downloadHandle:function(){window.location.href=this.nodeDetails.agentUrl},copyHandle:function(){(0,s.copyText)(this.agentLink)&&this.$bkMessage({theme:"success",message:"复制成功"})}}}},un04:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"env-variable-wrapper"},[a("div",{staticClass:"Key-value-nomal"},[a("ul",[e.renderList.length?e._l(e.renderList,(function(t,n){return a("li",{key:n,staticClass:"param-item"},[a("input",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"},{name:"model",rawName:"v-model",value:t.name,expression:"param.name"}],staticClass:"bk-form-input",class:{"is-danger":e.errors.has("param-"+n+"-key")},attrs:{name:"param-"+n+"-key",disabled:!e.editable},domProps:{value:t.name},on:{input:function(a){a.target.composing||e.$set(t,"name",a.target.value)}}}),e._v(" "),a("i",{staticClass:"equal-sign"},[e._v("=")]),e._v(" "),"checkbox"==(t.secure?"password":"text")?a("input",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"},{name:"model",rawName:"v-model",value:t.value,expression:"param.value"}],staticClass:"bk-form-input",class:{"editable-input":e.editable,"is-danger":e.errors.has("param-"+n+"-value")},attrs:{name:"param-"+n+"-value",disabled:!e.editable,type:"checkbox"},domProps:{checked:Array.isArray(t.value)?e._i(t.value,null)>-1:t.value},on:{change:function(a){var n=t.value,r=a.target,i=!!r.checked;if(Array.isArray(n)){var o=e._i(n,null);r.checked?o<0&&e.$set(t,"value",n.concat([null])):o>-1&&e.$set(t,"value",n.slice(0,o).concat(n.slice(o+1)))}else e.$set(t,"value",i)}}}):"radio"==(t.secure?"password":"text")?a("input",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"},{name:"model",rawName:"v-model",value:t.value,expression:"param.value"}],staticClass:"bk-form-input",class:{"editable-input":e.editable,"is-danger":e.errors.has("param-"+n+"-value")},attrs:{name:"param-"+n+"-value",disabled:!e.editable,type:"radio"},domProps:{checked:e._q(t.value,null)},on:{change:function(a){return e.$set(t,"value",null)}}}):a("input",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"},{name:"model",rawName:"v-model",value:t.value,expression:"param.value"}],staticClass:"bk-form-input",class:{"editable-input":e.editable,"is-danger":e.errors.has("param-"+n+"-value")},attrs:{name:"param-"+n+"-value",disabled:!e.editable,type:t.secure?"password":"text"},domProps:{value:t.value},on:{input:function(a){a.target.composing||e.$set(t,"value",a.target.value)}}}),e._v(" "),e.editable?a("i",{staticClass:"bk-icon text-type-icon",class:t.secure?"icon-eye":"icon-hide",on:{click:function(t){return e.toggleInputType(n)}}}):e._e(),e._v(" "),e.editable?a("section",[a("i",{staticClass:"bk-icon icon-minus-circle",on:{click:function(t){return e.reduceHandle(n,"reduce")}}})]):e._e()])})):e._e()],2),e._v(" "),e.editable||!e.renderList.length?a("p",{staticClass:"add-variable",class:{"is-disabled":!e.nodeDetails.canEdit},on:{click:e.addHandle}},[a("i",{staticClass:"bk-icon icon-plus-circle"}),e._v("新增变量\n        ")]):e._e(),e._v(" "),a("div",{staticClass:"footer-handle"},[!e.editable&&e.renderList.length?a("bk-button",{attrs:{theme:"primary",disabled:!e.nodeDetails.canEdit},on:{click:e.edithandle}},[e._v("编辑")]):e._e(),e._v(" "),e.editable?a("bk-button",{attrs:{theme:"primary"},on:{click:e.save}},[e._v("保存")]):e._e(),e._v(" "),e.editable?a("bk-button",{attrs:{theme:"defalut"},on:{click:function(t){e.editable=!1}}},[e._v("取消")]):e._e()],1)])])},r=[];n._withStripped=!0,a.d(t,"a",(function(){return n})),a.d(t,"b",(function(){return r}))},wyF2:function(e,t,a){},xSEy:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"basic-information-wrapper"},[a("div",{staticClass:"base-item-list"},[a("div",{staticClass:"item-content"},[a("div",{staticClass:"item-label"},[e._v("启动用户")]),e._v(" "),a("div",{staticClass:"item-value"},[e._v(e._s(e.nodeDetails.startedUser||"--"))])]),e._v(" "),a("div",{staticClass:"item-content"},[a("div",{staticClass:"item-label"},[e._v("安装路径")]),e._v(" "),a("div",{staticClass:"item-value"},[e._v(e._s(e.nodeDetails.agentInstallPath||"--"))])]),e._v(" "),a("div",{staticClass:"item-content"},[a("div",{staticClass:"item-label"},[e._v("Agent版本")]),e._v(" "),a("div",{staticClass:"item-value"},[e._v(e._s(e.nodeDetails.agentVersion||"--"))])]),e._v(" "),a("div",{staticClass:"item-content"},[a("div",{staticClass:"item-label"},[e._v("Worker版本")]),e._v(" "),a("div",{staticClass:"item-value"},[e._v(e._s(e.nodeDetails.slaveVersion||"--"))])]),e._v(" "),a("div",{staticClass:"item-content"},[a("div",{staticClass:"item-label"},[e._v("最大构建并发数")]),e._v(" "),a("div",{staticClass:"item-value"},[e.isEditCount?a("div",{staticClass:"display-item"},[a("input",{directives:[{name:"validate",rawName:"v-validate.initial",value:"required|between:0,"+e.nodeDetails.maxParallelTaskCount+"|decimal:0",expression:"`required|between:0,${nodeDetails.maxParallelTaskCount}|decimal:0`",modifiers:{initial:!0}},{name:"model",rawName:"v-model",value:e.parallelTaskCount,expression:"parallelTaskCount"}],ref:"parallelTaskCount",staticClass:"bk-form-input parallelTaskCount-input",class:{"is-danger":e.errors.has("parallelTaskCount")},attrs:{type:"number",name:"parallelTaskCount",placeholder:"请输入"+e.nodeDetails.maxParallelTaskCount+"及以下的数值， 0表示不限制"},domProps:{value:e.parallelTaskCount},on:{input:function(t){t.target.composing||(e.parallelTaskCount=t.target.value)}}})]):a("div",{staticClass:"editing-item"},[e._v(e._s(e.nodeDetails.parallelTaskCount||"--"))])]),e._v(" "),a("div",{staticClass:"handle-btn"},[e.isEditCount?a("div",[a("span",{on:{click:function(t){return e.saveHandle("parallelTaskCount")}}},[e._v("保存")]),e._v(" "),a("span",{on:{click:function(t){return e.editHandle("parallelTaskCount",!1)}}},[e._v("取消")])]):a("div",{class:{"is-disabled":!e.nodeDetails.canEdit}},[a("span",{on:{click:function(t){return e.editHandle("parallelTaskCount",!0)}}},[e._v("编辑")])])])]),e._v(" "),a("div",{staticClass:"item-content"},[a("div",{staticClass:"item-label"},[e._v("状态")]),e._v(" "),a("div",{staticClass:"item-value",class:"NORMAL"===e.nodeDetails.status?"normal":"abnormal"},[e._v("\n                "+e._s("NORMAL"===e.nodeDetails.status?"正常":"异常")+"\n            ")])]),e._v(" "),a("div",{staticClass:"item-content"},[a("div",{staticClass:"item-label"},[e._v("导入时间")]),e._v(" "),a("div",{staticClass:"item-value"},[e._v(e._s(e.nodeDetails.createdTime||"--"))])]),e._v(" "),a("div",{staticClass:"item-content"},[a("div",{staticClass:"item-label"},[e._v("上次心跳时间")]),e._v(" "),a("div",{staticClass:"item-value"},[e._v(e._s(e.nodeDetails.lastHeartbeatTime||"--"))])]),e._v(" "),a("div",{staticClass:"item-content"},[a("div",{staticClass:"item-label"},[e._v(e._s("WINDOWS"===e.nodeDetails.os?"下载链接":"安装命令"))]),e._v(" "),a("div",{staticClass:"item-value",attrs:{title:e.agentLink}},[e._v(e._s(e.agentLink))]),e._v(" "),a("div",{staticClass:"handle-btn"},[a("span",{staticClass:"agent-url",on:{click:e.copyHandle}},[e._v("复制")]),e._v(" "),"WINDOWS"===e.nodeDetails.os?a("span",{on:{click:e.downloadHandle}},[e._v("下载")]):e._e()])])])])},r=[];n._withStripped=!0,a.d(t,"a",(function(){return n})),a.d(t,"b",(function(){return r}))},ygAv:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.copyText=t.hashID=t.deepCopy=t.getInnerWidth=t.getOuterWidth=t.getOuterHeight=void 0;var n=l(a("/9Wh")),r=l(a("Kz1y")),i=l(a("tZmG")),o=l(a("t3kO")),s=l(a("wv3L"));function l(e){return e&&e.__esModule?e:{default:e}}function u(e,t){var a=!0,n=!1,r=void 0;try{for(var i,s=(0,o.default)(t);!(a=(i=s.next()).done);a=!0){if(i.value===e)return!0}}catch(e){n=!0,r=e}finally{try{!a&&s.return&&s.return()}finally{if(n)throw r}}return!1}function c(e,t){return e.length?e.split(t):[]}function d(e){function t(e){return e+"秒"}function a(e){return e/60>=1?Math.floor(e/60)+"分"+t(e%60):t(e)}function n(e){return e/3600>=1?Math.floor(e/3600)+"小时"+a(e%3600):a(e)}return e?(r=Math.floor(e/1e3))/86400>=1?Math.floor(r/86400)+"天"+n(r%86400):n(r):"0秒";var r}function p(e){return(e=Number(e))<10?"0"+e:e}function f(e){return null!==e&&"object"===(void 0===e?"undefined":(0,s.default)(e))&&!Array.isArray(e)}t.isVNode=function(e){return"object"===(void 0===e?"undefined":(0,s.default)(e))&&e.hasOwnProperty("componentOptions")},t.isInArray=u,t.isInlineElment=function(e){var t=e.tagName.toLowerCase(),a=getComputedStyle(e).display;if(u(t,["a","abbr","acronym","b","bdo","big","br","cite","code","dfn","em","font","i","img","input","kbd","label","q","s","samp","select","small","span","strike","strong","sub","sup","textarea","tt","u","var"])&&"index"===a||"inline"===a)return console.warn("Binding node is displayed as inline element. To avoid some unexpected rendering error, please set binding node displayed as block element."),!0;return!1},t.getActualTop=function(e){var t=e.offsetTop,a=e.offsetParent;for(;null!==a;)t+=a.offsetTop,a=a.offsetParent;return t},t.getActualLeft=function(e){var t=e.offsetLeft,a=e.offsetParent;for(;null!==a;)t+=a.offsetLeft,a=a.offsetParent;return t},t.addClass=function(e,t){var a=t.split(" ");if(1===e.nodeType)if(e.className||1!==a.length){var n=" "+e.className+" ";a.forEach((function(e){n.indexOf(" "+e+" ")<0&&(n+=e+" ")}));e.className=n.replace(/^\s+|\s+$/,"")}else e.className=t},t.removeClass=function(e,t){var a=t.split(" ");if(1===e.nodeType){var n=" "+e.className+" ";a.forEach((function(e){n=n.replace(" "+e+" "," ")}));e.className=n.replace(/^\s+|\s+$/,"")}},t.localizeConfig=function(e){var t={};for(var a in e)t[a]=e[a];return t},t.findValByKeyValue=function(e,t,a,n){var r=void 0,i=!0,s=!1,l=void 0;try{for(var u,c=(0,o.default)(e);!(i=(u=c.next()).done);i=!0){var d=u.value;for(var p in d)if(p===t&&d[p]===a){r=d[n];break}}}catch(e){s=!0,l=e}finally{try{!i&&c.return&&c.return()}finally{if(s)throw l}}return r},t.findIndexByKeyValue=function(e,t,a){var n=void 0;return e.some((function(e,r){for(var i in e)if(i===t&&e[i]===a){n=r;break}})),n},t.deepClone=function e(t){var a={};for(var n in t)"[object object]"===t[n].toString().toLowerCase()?a[n]=e(t[n]):a[n]="text"===n?"":t[n];return a},t.converStrToNum=function(e,t){var a=new RegExp(t,"g");return~~e.replace(a,"")},t.converStrToArr=c,t.convertStrToNumArr=function(e,t){return c(e,t).map((function(e){return~~e}))},t.convertMStoString=d,t.convertMStoStringByRule=function(e){var t=d(e),a=t,n=t.match(/^\d{1,}([\u4e00-\u9fa5]){1,}/);if(n.length)switch(n[1]){case"秒":a="1分钟内";break;case"天":a="大于"+n[0];break;case"时":a=t.replace(/\d{1,}秒/,"")}return a},t.convertTime=function(e){var t=new Date(e);return t.getFullYear()+"-"+p(t.getMonth()+1)+"-"+p(t.getDate())+" "+p(t.getHours())+":"+p(t.getMinutes())+":"+p(t.getSeconds())},t.convertFileSize=function e(t,a){var n=["B","KB","MB","GB","TB"];var r=t/1024;var i=void 0;n.some((function(e,t){return a===e&&(i=t,!0)}));var o=n[i+1];return r>1024?o?e(r,o):""+r.toFixed(2)+a:""+r.toFixed(2)+(o||a)},t.isObject=f,t.mergeModules=function(e){for(var t=arguments.length,a=Array(t>1?t-1:0),n=1;n<t;n++)a[n-1]=arguments[n];return a.reduce((function(e,t){return(0,i.default)(t).map((function(a){f(e[a])&&f(t[a])&&(e[a]=(0,r.default)({},e[a],t[a]))})),e}),e)},t.getServiceLogoByPath=function(e){return e.replace(/\/?(devops\/)?(\w+)\S*$/,"$2")},t.getAtomPath=function(){for(var e=arguments.length,t=Array(e),a=0;a<e;a++)t[a]=arguments[a];return t.join("-")},t.getQueryString=function(e){var t=new RegExp("(^|&)"+e+"=([^&]*)(&|$)","i"),a=window.location.search.substr(1).match(t);return null!=a?unescape(a[2]):null};t.getOuterHeight=function(e,t){var a=v(e,t),n=a.marginTop,r=a.height,i=a.marginBottom;return parseFloat(n)+parseFloat(r)+parseFloat(i)},t.getOuterWidth=function(e,t){var a=v(e,t),n=a.marginLeft,r=a.width,i=a.marginRight;return parseFloat(n)+parseFloat(r)+parseFloat(i)},t.getInnerWidth=function(e,t){var a=v(e,t).width;return parseFloat(a)};var v=function(e,t){var a=m(e)?e:t?t.querySelector(e):document.querySelector(e);if(!a)return{};var n=window.getComputedStyle(a);return{width:n.width,height:n.height,marginTop:n.marginTop,marginBottom:n.marginBottom,marginLeft:n.marginLeft,marginRight:n.marginRight}},m=function(e){return"object"===("undefined"==typeof HTMLElement?"undefined":(0,s.default)(HTMLElement))?e instanceof HTMLElement:e&&"object"===(void 0===e?"undefined":(0,s.default)(e))&&null!==e&&1===e.nodeType&&"string"==typeof e.nodeName};t.deepCopy=function(e){return JSON.parse((0,n.default)(e))},t.hashID=function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:8,t=0,a="";t<e;){var n=Math.round(126*Math.random())+33;a+=String.fromCharCode(n),t++}return a};t.copyText=function(e){var t=document.createElement("textarea");return document.body.appendChild(t),t.value=e,t.select(),document.execCommand("copy")?(document.execCommand("copy"),document.body.removeChild(t),!0):(console.warn("浏览器不支持此功能，请使用谷歌浏览器。"),!1)}}}]);