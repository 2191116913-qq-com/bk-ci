(window.webpackJsonp=window.webpackJsonp||[]).push([["atomDatail~tplDatail"],{"+n9j":function(e,t,i){"use strict";i.r(t);var n=i("6SLC"),s=i.n(n);for(var a in n)"default"!==a&&function(e){i.d(t,e,(function(){return n[e]}))}(a);t.default=s.a},"2K1W":function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.bus=void 0;var n,s=i("i7/w"),a=(n=s)&&n.__esModule?n:{default:n};t.bus=new a.default},"2eEL":function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(e,t){if(!e||!t)return!1;if(-1!==t.indexOf(" "))throw new Error("className should not contain space.");return e.classList?e.classList.contains(t):(" "+e.className+" ").indexOf(" "+t+" ")>-1},s=function(e,t){if(e){for(var i=e.className,s=(t||"").split(" "),a=0,o=s.length;a<o;a++){var l=s[a];l&&(e.classList?e.classList.add(l):n(e,l)||(i+=" "+l))}e.classList||(e.className=i)}},a=function(e,t){if(e&&t){for(var i=t.split(" "),s=" "+e.className+" ",a=0,o=i.length;a<o;a++){var l=i[a];l&&(e.classList?e.classList.remove(l):n(e,l)&&(s=s.replace(" "+l+" "," ")))}e.classList||(e.className=(s||"").replace(/^[\s\uFEFF]+|[\s\uFEFF]+$/g,""))}},o={beforeEnter:function(e){s(e,"collapse-transition"),e.dataset||(e.dataset={}),e.dataset.oldPaddingTop=e.style.paddingTop,e.dataset.oldPaddingBottom=e.style.paddingBottom,e.style.height="0",e.style.paddingTop=0,e.style.paddingBottom=0},enter:function(e){e.dataset.oldOverflow=e.style.overflow,0!==e.scrollHeight?(e.style.height=e.scrollHeight+"px",e.style.paddingTop=e.dataset.oldPaddingTop,e.style.paddingBottom=e.dataset.oldPaddingBottom):(e.style.height="",e.style.paddingTop=e.dataset.oldPaddingTop,e.style.paddingBottom=e.dataset.oldPaddingBottom),e.style.overflow="hidden"},afterEnter:function(e){a(e,"collapse-transition"),e.style.height="",e.style.overflow=e.dataset.oldOverflow},beforeLeave:function(e){e.dataset||(e.dataset={}),e.dataset.oldPaddingTop=e.style.paddingTop,e.dataset.oldPaddingBottom=e.style.paddingBottom,e.dataset.oldOverflow=e.style.overflow,e.style.height=e.scrollHeight+"px",e.style.overflow="hidden"},leave:function(e){0!==e.scrollHeight&&(s(e,"collapse-transition"),e.style.height=0,e.style.paddingTop=0,e.style.paddingBottom=0)},afterLeave:function(e){a(e,"collapse-transition"),e.style.height="",e.style.overflow=e.dataset.oldOverflow,e.style.paddingTop=e.dataset.oldPaddingTop,e.style.paddingBottom=e.dataset.oldPaddingBottom}};t.default={name:"CollapseTransition",functional:!0,render:function(e,t){var i=t.children;return e("transition",{on:o},i)}}},"4DNr":function(e,t,i){"use strict";var n=i("PGTu");i.n(n).a},"5Llr":function(e,t,i){"use strict";var n=i("r1rZ");i.n(n).a},"6SLC":function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a(i("2eEL")),s=a(i("bkED"));function a(e){return e&&e.__esModule?e:{default:e}}t.default={name:"bkc-menu",components:{CollapseTransition:n.default,"bk-trees":s.default},props:{list:{type:Array,required:!0},icon:{type:String,default:function(){return"icon-id"}},menuChangeHandler:{type:Function,default:null}},data:function(){return{menuList:this.list}},watch:{list:function(e,t){this.menuList=e}},methods:{clearSelectCls:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.menuList;e.forEach((function(e){e.isSelected=!1,e.isOpen=!1,e.children&&(e.isChildSelected=!1,e.children.forEach((function(e){e.isSelected=!1})))}))},openChildren:function(e,t,i){e.isOpen=!e.isOpen,this.menuList.splice(t,1,e),e.isOpen&&"bk-tree"===e.childrenType&&this.$emit("item-selected",{isChild:!1,item:e,itemIndex:t})},handleClick:function(e,t){e.isSelected=!e.isSelected,this.menuList.splice(t,1,e),this.$emit("item-selected",{isChild:!1,item:e,itemIndex:t})},handleChildClick:function(e,t,i,n,s){this.menuChangeHandler&&"function"==typeof this.menuChangeHandler?this.menuChangeHandler({isChild:!0,item:e,itemIndex:t,child:i,childIndex:n})&&(this.clearSelectCls(),i.isSelected=!i.isSelected,e.children.splice(n,1,i),i.isSelected&&(e.isChildSelected=!0,e.isOpen=!0),this.menuList.splice(t,1,e)):(this.clearSelectCls(),i.isSelected=!i.isSelected,e.children.splice(n,1,i),i.isSelected&&(e.isChildSelected=!0,e.isOpen=!0),this.menuList.splice(t,1,e),this.$emit("item-selected",{isChild:!0,item:e,itemIndex:t,child:i,childIndex:n}))}}}},"8LB5":function(e,t,i){"use strict";var n=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("ul",{staticClass:"bk-trees-list"},e._l(e.list,(function(t,n){return t.folder?i("li",{key:n,staticClass:"bk-trees-item"},[i("div",{staticClass:"bk-tree-title",class:{open:t.isOpen,selected:e.isActive(n)},style:{"padding-left":23*e._deepCount+"px"},on:{dblclick:function(i){return i.stopPropagation(),e.itemDbClickHandler({index:n,deepCount:e.deepCount,item:t})},click:function(i){return i.stopPropagation(),e.itemClickHandler({index:n,deepCount:e.deepCount,item:t})}}},[i("i",{staticClass:"bk-icon arrow-icon",class:t.isOpen?t.arrowOpenIcon:t.arrowIcon,on:{click:function(i){return i.stopPropagation(),e.itemDbClickHandler({index:n,deepCount:e.deepCount,item:t})}}}),e._v(" "),i("i",{staticClass:"bk-icon title-icon",class:t.isOpen?t.openIcon:t.icon}),e._v(" "),i("span",{staticClass:"title-text pr15"},[e._v(e._s(t.name))])]),e._v(" "),i("CollapseTransition",[t.children&&t.children.length?i("bk-trees",{directives:[{name:"show",rawName:"v-show",value:t.isOpen,expression:"item.isOpen"}],attrs:{list:t.children,"deep-count":e._deepCount,"is-root":!1,"road-map":n},on:{"update:list":function(i){return e.$set(t,"children",i)}}}):e._e()],1)],1):e._e()})),0)},s=[];n._withStripped=!0,i.d(t,"a",(function(){return n})),i.d(t,"b",(function(){return s}))},MwvK:function(e,t,i){"use strict";i.r(t);var n=i("zlCl"),s=i("dyEm");for(var a in s)"default"!==a&&function(e){i.d(t,e,(function(){return s[e]}))}(a);i("Q+3d");var o=i("psIG"),l=Object(o.a)(s.default,n.a,n.b,!1,null,null,null);l.options.__file="src/components/side-nav.vue",t.default=l.exports},PGTu:function(e,t,i){},"Q+3d":function(e,t,i){"use strict";var n=i("m56N");i.n(n).a},ZiKF:function(e,t,i){"use strict";var n=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"bkc-menu"},[e.menuList.length?i("ul",e._l(e.menuList,(function(t,n){return i("li",{key:n,staticClass:"bkc-menu-item"},[t.children&&t.children.length&&!1!==t.showChildren||t.childrenType?i("div",{staticClass:"bkc-menu-title-wrapper",class:[t.hide,t.disable,t.isChildSelected?"child-selected":"",t.isOpen?"open":""],on:{click:function(i){t.disable||t.hide||e.openChildren(t,n,i)}}},[i("i",{staticClass:"bk-icon left-icon",class:[t.disable,t.icon]}),e._v(" "),i("div",{staticClass:"bkc-menu-title"},[e._v(e._s(t.name))]),e._v(" "),i("i",{staticClass:"bk-icon right-icon icon-angle-down",class:{open:t.isOpen}})]):i("div",{staticClass:"bkc-menu-title-wrapper",class:[t.hide,t.disable,t.id===e.$route.name||t.children&&t.children.some((function(t){return t.id===e.$route.name}))?"selected":""],on:{click:function(i){t.disable||t.hide||e.handleClick(t,n,i)}}},[i("i",{staticClass:"bk-icon left-icon",class:[t.disable,t.icon]}),e._v(" "),i("div",{staticClass:"bkc-menu-title"},[e._v(e._s(t.name))]),e._v(" "),void 0!==t.badge?i("i",{staticClass:"biz-badge"},[e._v(e._s(t.badge))]):e._e()]),e._v(" "),"bk-tree"===t.childrenType?i("collapse-transition",[i("bk-trees",{directives:[{name:"show",rawName:"v-show",value:t.isOpen,expression:"item.isOpen"}],attrs:{list:t.children,"deep-count":1,"road-map":n}})],1):i("collapse-transition",[i("ul",{directives:[{name:"show",rawName:"v-show",value:t.isOpen,expression:"item.isOpen"}]},e._l(t.children,(function(s,a){return i("li",{key:a,staticClass:"bkc-menu-child-item"},[i("div",{staticClass:"bkc-menu-child-title-wrapper",class:s.id===e.$route.name?"selected":"",on:{click:function(i){return e.handleChildClick(t,n,s,a,i)}}},[e._v("\n                            "+e._s(s.name)+"\n                        ")])])})),0)])],1)})),0):[e._m(0)]],2)},s=[function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"biz-no-data",staticStyle:{"margin-top":"100px"}},[t("i",{staticClass:"bk-icon icon-empty"}),this._v(" "),t("p",[this._v("暂时没数据!")])])}];n._withStripped=!0,i.d(t,"a",(function(){return n})),i.d(t,"b",(function(){return s}))},bkED:function(e,t,i){"use strict";i.r(t);var n=i("8LB5"),s=i("dBAV");for(var a in s)"default"!==a&&function(e){i.d(t,e,(function(){return s[e]}))}(a);i("5Llr");var o=i("psIG"),l=Object(o.a)(s.default,n.a,n.b,!1,null,null,null);l.options.__file="src/components/common/bk-trees/index.vue",t.default=l.exports},dBAV:function(e,t,i){"use strict";i.r(t);var n=i("hqiq"),s=i.n(n);for(var a in n)"default"!==a&&function(e){i.d(t,e,(function(){return n[e]}))}(a);t.default=s.a},dyEm:function(e,t,i){"use strict";i.r(t);var n=i("lAn4"),s=i.n(n);for(var a in n)"default"!==a&&function(e){i.d(t,e,(function(){return n[e]}))}(a);t.default=s.a},hqiq:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=l(i("Kz1y")),s=l(i("2eEL")),a=i("WIBD"),o=i("2K1W");function l(e){return e&&e.__esModule?e:{default:e}}t.default={name:"bk-trees",components:{CollapseTransition:s.default},props:{list:{type:Array,default:function(){return[]}},deepCount:{type:Number,default:1},isRoot:{type:Boolean,default:!0},roadMap:{type:[String,Number],default:"0"}},computed:(0,n.default)({},(0,a.mapState)("artifactory",["curNodeOnTree"]),(0,a.mapGetters)({sideMenuList:"artifactory/getSideMenuList"}),{_deepCount:function(){return this.deepCount+1}}),created:function(){var e=this;o.bus.$off("tree-item-click"),o.bus.$on("tree-item-click",(function(t){e.changeRoadMap(t)}))},methods:{itemDbClickHandler:function(e){this.timer&&clearTimeout(this.timer),e.src="dbClick",this.changeRoadMap(e)},itemClickHandler:function(e){var t=this;this.timer&&clearTimeout(this.timer),this.timer=setTimeout((function(){e.src="click",t.changeRoadMap(e)}),300)},changeRoadMap:function(e){var t=e.index,i=e.deepCount,n=e.item,s=e.src,a=void 0===s?"click":s,l=e.roadMap,r=void 0===l?"":l,c="";if(c="pipelines"===n.type?"2,"+t:"1,"+t,""===r&&(r=this.isRoot?c:this.getRoadMap(t,a)),n.folder&&n.isOpen&&"dbClick"===a?n.isOpen=!1:n.isOpen=!0,n.isOpen)if("dbClick"===a){var d={};d.roadMap=r,d.list=this.sideMenuList[0].list,d.noLoading=!0,o.bus.$emit("get-item",d)}else this.$store.commit("artifactory/updateCurNodeOnTree",{index:t,deepCount:i,item:n,roadMap:r})},getRoadMap:function(e,t){var i="";if("right"===t)i=this.curNodeOnTree.roadMap+","+e;else{var n=this;for(i=~~n.roadMap+","+e;!n.isRoot;)i=~~(n=n.$parent).roadMap+","+i}return i},isActive:function(e){return this.getRoadMap(e)===this.curNodeOnTree.roadMap}}}},lAn4:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a(i("Kz1y")),s=a(i("piGG"));function a(e){return e&&e.__esModule?e:{default:e}}t.default={name:"side-nav",components:{bkMenu:s.default},props:{sideMenuList:{type:Array,default:function(){return[{list:[],title:""}]}},dropdownConfig:{type:Object,default:function(){return{}}},nav:{type:Object,default:function(){return{icon:"",title:""}}},subSystemName:{type:String,default:"pipeline"},stepBackRouters:{type:Array,default:[]},goBack:Function},computed:{projDropdownCls:function(){return this.$store.state.sideMenu.projDropdownCls},onlineProjectList:function(){return this.$store.state.sideMenu.onlineProjectList},curOnlineProjectIndex:{get:function(){return this.$store.commit("updateCurSelectedOnlineProject",this.projectId),this.$store.state.sideMenu.curOnlineProjectIndex},set:function(e){this.$store.commit("setOnlineProjectSelectedIndex",e)}},projectId:function(){return this.$route.params.projectId},currentYear:function(){return(new Date).getFullYear()}},mounted:function(){this.projectId&&(this.$store.commit("updateCurSelectedOnlineProject",this.projectId),this.$store.dispatch("updateMenuListSelected",{pathName:this.$route.name,idx:"devops"}))},methods:{backUrl:function(e,t){this.$router.push({name:e,params:{type:t}})},menuSelected:function(e){e.item.isSelected=!0,this.$router.push({name:e.isChild?e.child.id:e.item.id,params:(0,n.default)({},e.item.params,this.$route.params)})},goToDoc:function(e){window.open(e,"_blank")}}}},m56N:function(e,t,i){},piGG:function(e,t,i){"use strict";i.r(t);var n=i("ZiKF"),s=i("+n9j");for(var a in s)"default"!==a&&function(e){i.d(t,e,(function(){return s[e]}))}(a);i("4DNr");var o=i("psIG"),l=Object(o.a)(s.default,n.a,n.b,!1,null,null,null);l.options.__file="src/components/common/menu/index.vue",t.default=l.exports},r1rZ:function(e,t,i){},zlCl:function(e,t,i){"use strict";var n=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"side-nav"},[Object.keys(e.dropdownConfig).length?i("bk-dropdown",{attrs:{list:e.dropdownConfig.list,selected:e.dropdownConfig.selected,"setting-key":e.dropdownConfig.settingKey,"display-key":e.dropdownConfig.displayKey,"search-key":e.dropdownConfig.searchKey,"ext-cls":e.projDropdownCls,searchable:e.dropdownConfig.searchable},on:{"item-selected":e.dropdownConfig.itemSelected}}):i("div",{staticClass:"side-menu-nav clearfix"},[e.nav.backUrl?i("div",{staticClass:"back-icon",on:{click:function(t){return t.stopPropagation(),e.backUrl(e.nav.backUrl,e.nav.backType)}}},[i("i",{staticClass:"bk-icon icon-angle-left"})]):e._e(),e._v(" "),i("logo",{staticClass:"nav-icon",attrs:{name:e.nav.icon,size:"32"}}),e._v(" "),i("span",{staticClass:"side-menu-title",attrs:{title:e.nav.title}},[e._v(e._s(e.nav.title))]),e._v(" "),e.nav.url?i("i",{staticClass:"bk-icon icon-question-circle",on:{click:function(t){return e.goToDoc(e.nav.url)}}}):e._e()],1),e._v(" "),i("section",{staticClass:"side-menu-list"},e._l(e.sideMenuList,(function(t,n){return i("div",{key:n,staticClass:"side-menu-item"},[t.title?i("p",{staticClass:"title"},[e._v(e._s(t.title))]):e._e(),e._v(" "),e.sideMenuList.length?i("bk-menu",{key:"devopsSideMenu"+n,attrs:{list:t.list},on:{"item-selected":e.menuSelected}}):e._e()],1)})),0),e._v(" "),i("p",{staticClass:"biz-copyright"},[e._v("Copyright © 2012-"),i("span",[e._v(e._s(e.currentYear))]),e._v(" Tencent BlueKing. All Rights Reserved")])],1)},s=[];n._withStripped=!0,i.d(t,"a",(function(){return n})),i.d(t,"b",(function(){return s}))}}]);