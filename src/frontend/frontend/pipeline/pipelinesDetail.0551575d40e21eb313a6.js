(window.webpackJsonp=window.webpackJsonp||[]).push([["pipelinesDetail","pipelinesEdit~pipelinesNewList~pipelinesPreview~pipelinesTemplate","pipelinesEntry~pipelinesHistory"],{"+K0d":function(e,t,n){"use strict";n.r(t);var i=n("PoQr"),a=n("N7+c");for(var r in a)"default"!==r&&function(e){n.d(t,e,(function(){return a[e]}))}(r);n("Pfde");var s=n("psIG"),o=Object(s.a)(a.default,i.a,i.b,!1,null,null,null);o.options.__file="src/components/atomFormField/AtomAceEditor/index.vue",t.default=o.exports},"+rYQ":function(e,t,n){"use strict";var i=n("pg9h");n.n(i).a},"/91b":function(e,t,n){},"/T6n":function(e,t,n){"use strict";var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("accordion",{key:"otherChoice",attrs:{"show-checkbox":"","show-content":e.enableMutual,"is-version":"true"}},[n("header",{staticClass:"var-header",attrs:{slot:"header"},slot:"header"},[n("span",[e._v("设置互斥组")]),e._v(" "),n("input",{staticClass:"accordion-checkbox",attrs:{disabled:e.disabled,type:"checkbox"},domProps:{checked:e.enableMutual},on:{click:function(e){e.stopPropagation()},change:e.toggleMutual}})]),e._v(" "),e.enableMutual?n("div",{staticClass:"bk-form bk-form-vertical",attrs:{slot:"content"},slot:"content"},[e._l(e.optionModel,(function(t,i){return[!e.isHidden(t,e.mutexGroup)&&"enable"!==i&&e.enableMutual?n("form-field",{key:i,attrs:{desc:t.desc,required:t.required,label:t.label,"is-error":e.errors.has(i),"error-msg":e.errors.first(i)}},[n(t.component,e._b({directives:[{name:"validate",rawName:"v-validate.initial",value:Object.assign({},t.rule,{required:!!t.required}),expression:"Object.assign({}, obj.rule, { required: !!obj.required })",modifiers:{initial:!0}}],tag:"component",attrs:{name:i,"handle-change":e.handleUpdateJobMutual,value:e.mutexGroup[i],disabled:e.disabled}},"component",t,!1))],1):e._e()]}))],2):e._e()])},a=[];i._withStripped=!0,n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return a}))},"/Thn":function(e,t,n){"use strict";n.r(t);var i=n("SJhp"),a=n.n(i);for(var r in i)"default"!==r&&function(e){n.d(t,e,(function(){return i[e]}))}(r);t.default=a.a},"/wRU":function(e,t,n){"use strict";n.r(t);var i=n("Syue"),a=n("br82");for(var r in a)"default"!==r&&function(e){n.d(t,e,(function(){return a[e]}))}(r);var s=n("psIG"),o=Object(s.a)(a.default,i.a,i.b,!1,null,null,null);o.options.__file="src/components/atomFormField/AutoComplete/index.vue",t.default=o.exports},"0Q91":function(e,t,n){"use strict";n.r(t);var i=n("32wu"),a=n.n(i);for(var r in i)"default"!==r&&function(e){n.d(t,e,(function(){return i[e]}))}(r);t.default=a.a},"0eDu":function(e,t,n){"use strict";n.r(t);var i=n("4qjT"),a=n("ymhC");for(var r in a)"default"!==r&&function(e){n.d(t,e,(function(){return a[e]}))}(r);n("olS4");var s=n("psIG"),o=Object(s.a)(a.default,i.a,i.b,!1,null,null,null);o.options.__file="src/components/codeRecord/index.vue",t.default=o.exports},"0gSy":function(e,t,n){"use strict";n.r(t);var i=n("roFu"),a=n.n(i);for(var r in i)"default"!==r&&function(e){n.d(t,e,(function(){return i[e]}))}(r);t.default=a.a},"0t4y":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=o(n("OBCi")),a=o(n("Zv/C")),r=o(n("2lBV")),s=o(n("MPpm"));function o(e){return e&&e.__esModule?e:{default:e}}var u=n("sMCd").Stomp,l=function(){function e(){(0,a.default)(this,e),this.errTime=1,this.stompClient={}}return(0,r.default)(e,[{key:"connect",value:function(){this.disconnect().then(this.build.apply(this,arguments))}},{key:"disconnect",value:function(){var e=this;return new i.default((function(t){e.stompClient.connected?e.stompClient.disconnect(t):t()}))}},{key:"build",value:function(e,t,n){var i=this,a=n.success,r=n.error,o=new s.default(WS_URL_PREFIX+"/process/websocket/user/pipelines/pipelineStatus?projectId="+e);this.stompClient=u.over(o),this.stompClient.debug=null,this.stompClient.connect({},(function(){i.stompClient.subscribe(t,(function(e){i.errTime=1,a(e)}))}),(function(n){i.errTime<=8?(i.errTime++,setTimeout((function(){return i.connect(e,t,{success:a,error:r})}),1e4)):r(n.message||"websocket异常")}))}}]),e}();t.default=new l},"0w5d":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=o(n("snOE")),a=o(n("Kz1y")),r=n("WIBD"),s=n("2K1W");function o(e){return e&&e.__esModule?e:{default:e}}var u={props:{setParentValidate:Function},computed:(0,a.default)({},(0,r.mapState)("atom",["isPropertyPanelVisible"]),{errorFields:function(){return this.errors&&Array.isArray(this.errors.items)?[].concat((0,i.default)(this.errors.items)):[]}}),watch:{errorFields:function(e,t){var n=e.filter((function(e){return!t.find((function(t){return t.field===e.field}))})),i=t.filter((function(t){return!e.find((function(e){return e.field===t.field}))}));this.setParentValidate(n,i)}},created:function(){var e=this;s.bus.$on("validate",(function(){e.$validator.validateAll()}))}};t.default=u},"0wh+":function(e,t,n){"use strict";n.r(t);var i=n("c8u7"),a=n("ohnJ");for(var r in a)"default"!==r&&function(e){n.d(t,e,(function(){return a[e]}))}(r);var s=n("psIG"),o=Object(s.a)(a.default,i.a,i.b,!1,null,null,null);o.options.__file="src/components/atomFormField/StaffInput/index.vue",t.default=o.exports},"1+y6":function(e,t,n){"use strict";n.r(t);var i=n("Qx9U"),a=n.n(i);for(var r in i)"default"!==r&&function(e){n.d(t,e,(function(){return i[e]}))}(r);t.default=a.a},"11NZ":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=c(n("06Hw")),a=c(n("YYXh")),r=c(n("Kz1y")),s=c(n("7rx2")),o=c(n("eI+G")),u=n("WIBD"),l=c(n("66h0"));function c(e){return e&&e.__esModule?e:{default:e}}t.default={name:"bkdevops-base-info-setting-tab",components:{VuexTextarea:s.default,VuexInput:o.default},props:{pipelineSetting:Object,handleBaseInfoChange:Function},computed:(0,r.default)({},(0,u.mapGetters)({tagGroupList:"pipelines/getTagGroupList"}),{projectId:function(){return this.$route.params.projectId},pipelineId:function(){return this.$route.params.pipelineId}}),created:function(){var e=this;this.clipboard=new l.default(".copy-icon").on("success",(function(t){e.$showTips({theme:"success",message:"内容复制成功"})})),this.requestGrouptLists()},beforeDestroy:function(){this.clipboard.destroy()},methods:{requestGrouptLists:function(){var e=this;return(0,a.default)(i.default.mark((function t(){var n;return i.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e.$store.dispatch("pipelines/requestGetGroupLists",{projectId:e.projectId});case 3:n=t.sent,e.$store.commit("pipelines/updateGroupLists",n),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),e.$showTips({message:t.t0.message||t.t0,theme:"error"});case 10:case"end":return t.stop()}}),t,e,[[0,7]])})))()},handleLabelSelect:function(e){this.handleBaseInfoChange("labels",e)}}}},"15pI":function(e,t,n){"use strict";var i=function(){var e=this.$createElement,t=this._self._c||e;return t("svg",{attrs:{width:this.size,height:this.size}},[t("use",this._b({},"use",{"xlink:href":"#"+this.name},!1))])},a=[];i._withStripped=!0,n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return a}))},"1CGP":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i,a=n("I7u8"),r=(i=a)&&i.__esModule?i:{default:i};t.default={components:{Stage:r.default},props:{editable:{type:Boolean,default:!0},isPreview:{type:Boolean,default:!1},stages:{type:Array,default:[]}},beforeDestroy:function(){window.showLinuxTipYet=!1}}},"1JUa":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i,a=n("q7rD"),r=(i=a)&&i.__esModule?i:{default:i};t.default={mixins:[r.default],props:{visible:{type:Boolean,default:!1},srcTips:{type:String,default:""},pathTips:{type:String,default:""},githubAppUrl:{type:String,default:""},keystoreTips:{type:String,default:""}}}},"1RIp":function(e,t,n){"use strict";var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"bkdevops-vertical-tab"},[n("aside",[e._t("tab",[n("ul",{staticClass:"bkdevops-vertical-tab-list"},e._l(e.tabs,(function(t,i){return n("li",{key:t.id,class:{active:e.tabActiveIndex===i},on:{click:function(t){return e.handleTabClick(i)}}},[e._v("\n                    "+e._s(t.name)+"\n                ")])})),0)])],2),e._v(" "),n("section",[e._t("panel",[n(e.activeTab.component,e._b({tag:"component"},"component",e.activeTab.componentProps,!1))],{tabActiveIndex:e.tabActiveIndex})],2)])},a=[];i._withStripped=!0,n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return a}))},"1ZCx":function(e,t,n){"use strict";n.r(t);var i=n("TAzd"),a=n("vFIl");for(var r in a)"default"!==r&&function(e){n.d(t,e,(function(){return a[e]}))}(r);n("+rYQ");var s=n("psIG"),o=Object(s.a)(a.default,i.a,i.b,!1,null,null,null);o.options.__file="src/components/ContainerPropertyPanel/ContainerAppSelector.vue",t.default=o.exports},"1faO":function(e,t,n){"use strict";n.r(t);var i=n("11NZ"),a=n.n(i);for(var r in i)"default"!==r&&function(e){n.d(t,e,(function(){return i[e]}))}(r);t.default=a.a},"1h3O":function(e,t,n){"use strict";n.r(t);var i=n("WzoQ"),a=n("65/W");for(var r in a)"default"!==r&&function(e){n.d(t,e,(function(){return a[e]}))}(r);n("Go+F");var s=n("psIG"),o=Object(s.a)(a.default,i.a,i.b,!1,null,null,null);o.options.__file="src/components/atomFormField/CodeModeInput/index.vue",t.default=o.exports},"1kG9":function(e,t,n){"use strict";n.r(t);var i=n("r1Uo"),a=n("HGO8");for(var r in a)"default"!==r&&function(e){n.d(t,e,(function(){return a[e]}))}(r);n("oXU7");var s=n("psIG"),o=Object(s.a)(a.default,i.a,i.b,!1,null,null,null);o.options.__file="src/components/Stages/index.vue",t.default=o.exports},"1kY+":function(e,t,n){},"2BMu":function(e,t,n){"use strict";var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"bk-tag-selector staff-selector",class:{"disable-status":e.disabled}},[e.value.length||e.curInsertVal.length?e._e():n("span",{staticClass:"staff-placeholder"},[e._v(e._s(e.placeholder))]),e._v(" "),n("div",{staticClass:"select-tags",on:{click:e.toEdit}},[n("div",{ref:"selectEditor",staticClass:"select-editor"},[e._l(e.value,(function(t,i){return n("span",{key:i,staticClass:"tag-info",on:{click:function(n){return e.selectInfo(n,t)}}},[e._v(e._s(t))])})),e._v(" "),n("input",{ref:"staffInput",staticClass:"bk-tag-input form-input",attrs:{type:"text",id:"staffInput",autocomplete:"off",name:e.name},domProps:{value:e.curInsertVal},on:{input:e.input,keydown:e.keydown,paste:e.paste,blur:e.hideAll}})],2)])])},a=[];i._withStripped=!0,n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return a}))},"2RXp":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=l(n("cJcN")),a=l(n("CuOr")),r=l(n("mm+E")),s=l(n("Df5U")),o=l(n("S5WF")),u=l(n("ZnsG"));function l(e){return e&&e.__esModule?e:{default:e}}t.default={name:"vertical-tab",components:{BaseInfo:i.default,RunningLock:a.default,CleanPolicy:r.default,CodeRecordTable:s.default,thirdPartyReport:o.default,IframeReport:u.default},props:{tabs:{type:Array,default:[]},initTabIndex:{type:Number,default:0}},data:function(){return{tabActiveIndex:this.initTabIndex}},computed:{activeTab:function(){return this.tabs[this.tabActiveIndex]}},watch:{initTabIndex:function(e){this.tabActiveIndex=e}},methods:{handleTabClick:function(e){"function"==typeof this.activeTab.beforeLeave&&this.activeTab.beforeLeave(),this.tabActiveIndex=e}}}},"32wu":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=r(n("q7rD")),a=r(n("ND4a"));function r(e){return e&&e.__esModule?e:{default:e}}t.default={name:"group-id-selector",components:{MultipleComplete:a.default},mixins:[i.default],props:{text:{type:String},repositoryHashId:{type:String,required:!0},branchName:{type:String,default:""},elementType:{type:String,default:""},name:{type:String,default:""},value:{type:String,default:""},placeholder:{type:String},label:{type:String},desc:{type:String},iconClass:{type:String},descDirection:{type:String,default:"right"}},data:function(){return{noPermission:!0,isLoading:!1,list:[]}},computed:{projectId:function(){return this.$route.params.projectId},dataInputConfig:function(){return{data:this.list||[],onChange:this.onChange}}},mounted:function(){this.list=localStorage.getItem("groupIdStr")?localStorage.getItem("groupIdStr").split(";").filter((function(e){return e})):[]},methods:{onChange:function(e,t){this.value=t,this.handleChange(e,t)}}}},"3B4/":function(e,t,n){"use strict";n.r(t);var i=n("wR2U"),a=n.n(i);for(var r in i)"default"!==r&&function(e){n.d(t,e,(function(){return i[e]}))}(r);t.default=a.a},"3M5h":function(e,t,n){},"3jln":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=o(n("06Hw")),a=o(n("snOE")),r=o(n("YYXh")),s=o(n("Vu1e"));function o(e){return e&&e.__esModule?e:{default:e}}t.default={components:{VerticalTab:s.default},data:function(){return{initIndex:0,showContent:!1,codeCommitList:[],loading:{isLoading:!1,title:""}}},computed:{projectId:function(){return this.$route.params.projectId},buildNo:function(){return this.$route.params.buildNo},tabs:function(){return this.codeCommitList.map((function(e){return{id:e.elementId,name:e.name,component:"CodeRecordTable",componentProps:{commitList:e.records,label:e.name}}}))}},watch:{buildNo:function(){this.init()}},created:function(){this.init()},methods:{init:function(){var e=this;return(0,r.default)(i.default.mark((function t(){var n,r,s,o,u;return i.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.loading,r=e.buildNo,n.isLoading=!0,n.title="数据加载中，请稍候",t.prev=3,t.next=6,e.$store.dispatch("soda/requestCommitList",{buildId:r});case 6:(s=t.sent).length&&(e.codeCommitList=[].concat((0,a.default)(s)),o=e.$route.hash.slice(1),u=e.codeCommitList.findIndex((function(e){return e.name===o})),e.initIndex=-1!==u?u:0),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(3),e.$showTips({message:t.t0.message?t.t0.message:t.t0,theme:"error"});case 13:return t.prev=13,setTimeout((function(){e.showContent=!0,e.loading.isLoading=!1}),500),t.finish(13);case 16:case"end":return t.stop()}}),t,e,[[3,10,13,16]])})))()}}}},"3s8N":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i,a=n("q7rD"),r=(i=a)&&i.__esModule?i:{default:i},s=n("ygAv");t.default={name:"atom-date-picker",mixins:[r.default],props:{timer:{type:Boolean,default:!1},startDate:{type:String,default:"2019-08-01"}},computed:{msValue:function(){return this.value?1e3*this.value:null},date:function(){return this.msValue?(0,s.convertTime)(this.msValue).split(" ")[0]:""},dateType:function(){return this.timer?"datetime":"date"}},methods:{handleDateChange:function(e){var t=+new Date(e);t!==this.msValue&&this.handleChange(this.name,Math.floor(t/1e3))}}}},"3wwg":function(e,t,n){"use strict";var i=function(){var e=this,t=e.$createElement,i=e._self._c||t;return e.commitList.length?i("div",[i("p",{staticClass:"prompt-tips"},[e._v("提示：本次流水线的版本号变化范围：\n        "),e.commitList.length>1?i("span",[i("span",[e._v(e._s(e.formatCommitId(e.lastCommit.commit)))]),e._v(" "),i("span",[e._v("-")]),e._v(" "),i("span",[e._v(e._s(e.formatCommitId(e.firstCommit.commit)))])]):i("span",[i("span",[e._v(e._s(e.formatCommitId(e.firstCommit.commit)))])])]),e._v(" "),i("bk-table",{attrs:{data:e.commitList}},[i("bk-table-column",{attrs:{label:"备注",prop:"comment"}}),e._v(" "),i("bk-table-column",{attrs:{width:"150",label:"Commit",prop:"commit"},scopedSlots:e._u([{key:"default",fn:function(t){return[i("span",{attrs:{title:t.row.commit}},[e._v(e._s(e.formatCommitId(t.row.commit)))])]}}],null,!1,2352114064)}),e._v(" "),i("bk-table-column",{attrs:{width:"150",label:"提交人",prop:"committer"}}),e._v(" "),i("bk-table-column",{attrs:{width:"200",label:"提交时间",prop:"commitTime",formatter:e.formatTimeColumn}})],1)],1):i("div",{staticClass:"code-records-empty"},[i("div",{staticClass:"no-data-right"},[i("img",{attrs:{src:n("tNV3")}}),e._v(" "),i("p",[i("span",[e._v(e._s(e.label))]),e._v("暂时没有变更记录")])])])},a=[];i._withStripped=!0,n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return a}))},"48Ig":function(e,t,n){"use strict";n.r(t);var i=n("GrJD"),a=n("UR+t");for(var r in a)"default"!==r&&function(e){n.d(t,e,(function(){return a[e]}))}(r);var s=n("psIG"),o=Object(s.a)(a.default,i.a,i.b,!1,null,null,null);o.options.__file="src/components/atomFormField/AtomDatePicker/index.vue",t.default=o.exports},"4Xl5":function(e,t,n){"use strict";var i=function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"report-iframe-content"},[t("div",{style:{height:"100%"}},[t("iframe",{ref:"iframeEle",attrs:{id:"iframe-box",allowfullscreen:"",src:this.indexFileUrl}})])])},a=[];i._withStripped=!0,n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return a}))},"4qjT":function(e,t,n){"use strict";var i=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{directives:[{name:"bkloading",rawName:"v-bkloading",value:{isLoading:e.loading.isLoading,title:e.loading.title},expression:"{\n        isLoading: loading.isLoading,\n        title: loading.title\n    }"}],staticClass:"code-record-wrapper"},[e.codeCommitList.length&&e.showContent?i("vertical-tab",{attrs:{tabs:e.tabs,"init-tab-index":e.initIndex}}):e.showContent&&!e.codeCommitList.length?i("div",{staticClass:"artifactory-empty"},[i("div",{staticClass:"no-data-right"},[i("img",{attrs:{src:n("tNV3")}}),e._v(" "),i("p",[e._v("暂时没有变更记录")])])]):e._e()],1)},a=[];i._withStripped=!0,n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return a}))},"4wWG":function(e,t,n){"use strict";var i=n("3M5h");n.n(i).a},"535c":function(e,t,n){"use strict";var i=n("yPI5");n.n(i).a},"58Hg":function(e,t,n){"use strict";var i=n("NR4k");n.n(i).a},"5An/":function(e,t,n){"use strict";var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.container?n("section",{staticClass:"container-property-panel bk-form bk-form-vertical",class:{readonly:!e.editable},attrs:{slot:"content"},slot:"content"},[n("form-field",{attrs:{required:!0,label:"名称","is-error":e.errors.has("name"),"error-msg":e.errors.first("name")}},[n("vuex-input",{directives:[{name:"validate",rawName:"v-validate.initial",value:"required",expression:'"required"',modifiers:{initial:!0}}],attrs:{disabled:!e.editable,"input-type":"text",placeholder:"请输入名称",name:"name",value:e.container.name,"handle-change":e.handleContainerChange}})],1),e._v(" "),e.isVmContainer(e.container)?n("form",{directives:[{name:"bkloading",rawName:"v-bkloading",value:{isLoading:!e.apps||!e.containerModalId},expression:"{ isLoading: !apps || !containerModalId }"}]},[n("form-field",{attrs:{label:"构建资源类型"}},[n("selector",{attrs:{disabled:!e.editable,"handle-change":e.changeBuildResource,list:e.buildResourceTypeList,value:e.buildResourceType,clearable:!1,"setting-key":"type",name:"buildType"}},[n("template",{slot:"props"},[n("div",{staticClass:"bk-selector-create-item",on:{click:function(t){return t.stopPropagation(),t.preventDefault(),e.addThridSlave(t)}}},[n("i",{staticClass:"bk-icon icon-plus-circle"}),e._v(" "),n("i",{staticClass:"text"},[e._v("新增第三方构建机")])])])],2),e._v(" "),e.isPublicResourceType?n("span",{staticClass:"bk-form-help"},[e._v("由蓝盾官方提供的构建集群，你无需担心资源不足、安全等问题。"),n("a",{attrs:{target:"_blank",href:e.DOCS_URL_PREFIX+"/所有服务/流水线/用户指南/publicBuild.html"}},[e._v("查看更多")])]):e._e()],1),e._v(" "),!e.isPublicResourceType&&e.containerModalId?n("form-field",{attrs:{label:"指定构建资源",required:!0,"is-error":e.errors.has("buildResource"),"error-msg":e.errors.first("buildResource"),desc:"THIRD_PARTY_AGENT_ENV"===e.buildResourceType?"若环境下包含多个节点，则优先分配上次使用过的节点；若第一次使用，则随机分配":""}},[n("container-env-node",{directives:[{name:"validate",rawName:"v-validate.initial",value:"required",expression:'"required"',modifiers:{initial:!0}}],attrs:{disabled:!e.editable,os:e.container.baseOS,"container-id":e.containerModalId,"build-resource-type":e.buildResourceType,"toggle-visible":e.toggleVisible,"handle-change":e.changeBuildResource,value:e.buildResource,"has-error":e.errors.has("buildResource"),name:"buildResource"}})],1):e._e(),e._v(" "),e.isThirdParty?n("form-field",{attrs:{label:"指定工作空间"}},[n("vuex-input",{attrs:{disabled:!e.editable,name:"workspace",value:e.container.dispatchType.workspace,"handle-change":e.changeBuildResource,placeholder:"不填默认为 [Agent安装目录]/workspace/[流水线ID]/"}})],1):e._e(),e._v(" "),e.showDependencies?n("form-field",{staticClass:"container-app-field",attrs:{label:"依赖编译环境"}},[e.hasBuildEnv?e._l(e.container.buildEnv,(function(t,i){return n("container-app-selector",{key:i,staticClass:"app-selector-item",attrs:{disabled:!e.editable,app:i,version:t,"handle-change":e.handleContainerAppChange,envs:e.container.buildEnv,apps:e.apps,"remove-container-app":e.removeContainerApp,"add-container-app":e.containerAppList.length>0?e.addContainerApp:null}})})):n("container-app-selector",{staticClass:"app-selector-item",attrs:{disabled:!e.editable,app:"",version:"","handle-change":e.handleContainerAppChange,apps:e.apps}})],2):e._e(),e._v(" "),e.hasBuildEnv?n("div",{staticClass:"build-path-tips"},[e._m(0),e._v(" "),n("div",{staticClass:"tips-content"},[n("p",{staticClass:"tips-title"},[e._v("在选择了上述依赖环境后，我们将执行如下操作：")]),e._v(" "),e._l(e.container.buildEnv,(function(t,i){return[t?n("div",{key:i,staticClass:"tips-list"},[n("p",{staticClass:"tips-item"},[e._v(e._s(e.appBinPath(t,i)))]),e._v(" "),e._l(e.appEnvs[i],(function(a,r){return n("p",{key:r,staticClass:"tips-item"},[e._v(e._s(e.appEnvPath(t,i,a)))])}))],2):e._e()]}))],2)]):e._e()],1):e._e(),e._v(" "),e.isTriggerContainer(e.container)?n("section",[n("version-config",{attrs:{disabled:!e.editable,params:e.container.params,"build-no":e.container.buildNo,"set-parent-validate":e.setContainerValidate,"update-container-params":e.handleContainerChange}}),e._v(" "),n("build-params",{key:"params",attrs:{disabled:!e.editable,params:e.container.params,"addition-params":e.container.templateParams,"setting-key":"params",title:"流水线变量","build-no":e.container.buildNo,"set-parent-validate":e.setContainerValidate,"update-container-params":e.handleContainerChange}}),e._v(" "),"templateEdit"===e.routeName?n("build-params",{key:"templateParams",attrs:{disabled:!e.editable,params:e.container.templateParams,"addition-params":e.container.params,"setting-key":"templateParams",title:"模板常量","set-parent-validate":e.setContainerValidate,"update-container-params":e.handleContainerChange}}):e._e()],1):e._e(),e._v(" "),n("div",[n("div",{staticClass:"job-option"},[e.isTriggerContainer(e.container)?e._e():n("job-option",{attrs:{"job-option":e.container.jobControlOption,"update-container-params":e.handleContainerChange,"set-parent-validate":e.setContainerValidate,disabled:!e.editable},on:{setKeyValueValidate:e.setContainerValidate}})],1),e._v(" "),n("div",{staticClass:"job-mutual"},[e.isTriggerContainer(e.container)?e._e():n("job-mutual",{attrs:{"mutex-group":e.container.mutexGroup,"update-container-params":e.handleContainerChange,"set-parent-validate":e.setContainerValidate,disabled:!e.editable}})],1)]),e._v(" "),!e.isTriggerContainer(e.container)&&e.editable?n("div",{staticClass:"control-bar"},[n("bk-button",{attrs:{theme:"danger"},on:{click:e.handleDelete}},[e._v("删除")])],1):e._e()],1):e._e()},a=[function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"tips-icon"},[t("i",{staticClass:"bk-icon icon-info-circle-shape"})])}];i._withStripped=!0,n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return a}))},"5LzY":function(e,t,n){"use strict";n.r(t);var i=n("eh6r"),a=n("HWDF");for(var r in a)"default"!==r&&function(e){n.d(t,e,(function(){return a[e]}))}(r);n("qSlG");var s=n("psIG"),o=Object(s.a)(a.default,i.a,i.b,!1,null,null,null);o.options.__file="src/components/Stages/AtomList.vue",t.default=o.exports},"5SYA":function(e,t,n){"use strict";var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"pipeline-report-third-party"},[n("table",{staticClass:"bk-table report-table"},[e._m(0),e._v(" "),e.reportList.length?n("tbody",e._l(e.reportList,(function(t,i){return n("tr",{key:i},[n("td",[n("span",{staticClass:"report-td-name",on:{click:function(n){return e.linkToReportDetail(t.indexFileUrl)}}},[n("logo",{staticClass:"jump-icon",staticStyle:{fill:"#3c96ff"},attrs:{name:"tiaozhuan",size:"18"}}),e._v(e._s(t.name)+"\n                    ")],1)])])})),0):e._e()])])},a=[function(){var e=this.$createElement,t=this._self._c||e;return t("thead",[t("tr",[t("th",[this._v("名称")])])])}];i._withStripped=!0,n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return a}))},"5myS":function(e,t,n){"use strict";n.r(t);var i=n("tLVg"),a=n.n(i);for(var r in i)"default"!==r&&function(e){n.d(t,e,(function(){return i[e]}))}(r);t.default=a.a},"65/W":function(e,t,n){"use strict";n.r(t);var i=n("i/qZ"),a=n.n(i);for(var r in i)"default"!==r&&function(e){n.d(t,e,(function(){return i[e]}))}(r);t.default=a.a},6831:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i,a=n("q7rD"),r=(i=a)&&i.__esModule?i:{default:i};t.default={name:"atom-checkbox-list",mixins:[r.default],props:{list:{type:Array,default:[]},value:{type:Array,default:[]}},methods:{handleSwitch:function(e){var t=this.name,n=this.handleChange;this.$emit("input",e),n(t,e)}}}},"6DnL":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=l(n("06Hw")),a=l(n("YYXh")),r=l(n("Kz1y")),s=l(n("snOE")),o=n("WIBD"),u=l(n("Vu1e"));function l(e){return e&&e.__esModule?e:{default:e}}t.default={components:{VerticalTab:u.default},props:{curPipeline:Object},data:function(){return{optionList:[],hasWetestTab:!1,hasThirdPartyReport:!1,pipelineReportList:[],thirdPartyReportList:[],customizeList:[],loading:{isLoading:!1,title:""}}},computed:{buildNo:function(){return this.$route.params.buildNo},tabs:function(){return[].concat((0,s.default)(this.hasThirdPartyReport?[{id:"thirdReport",name:"第三方报告",component:"thirdPartyReport",componentProps:{reportList:this.thirdPartyReportList}}]:[]),(0,s.default)(this.customizeList.map((function(e){return(0,r.default)({},e,{name:e.name,component:"IframeReport",componentProps:(0,r.default)({},e),isCustomize:!0})}))))},isEmptyNav:function(){return 0===this.tabs.length}},watch:{buildNo:function(){this.init()}},created:function(){this.init()},methods:(0,r.default)({},(0,o.mapActions)("soda",["requestReportList"]),{init:function(){var e=this;return(0,a.default)(i.default.mark((function t(){var n,a,r,s,o,u;return i.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,n=e.$route.params,a=n.projectId,r=n.pipelineId,s=n.buildNo,o={projectId:a,pipelineId:r,buildId:s},t.next=5,e.requestReportList(o);case 5:(u=t.sent).length&&(e.thirdPartyReportList=[],e.customizeList=[],u.map((function(t){return"THIRDPARTY"===t.type?e.thirdPartyReportList.push(t):e.customizeList.push(t)})),e.hasThirdPartyReport=e.thirdPartyReportList.length>0),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),e.$showTips({theme:"error",message:t.t0.message||t.t0});case 12:case"end":return t.stop()}}),t,e,[[0,9]])})))()}})}},"6KWu":function(e,t,n){"use strict";n.r(t);var i=n("Jp3z"),a=n.n(i);for(var r in i)"default"!==r&&function(e){n.d(t,e,(function(){return i[e]}))}(r);t.default=a.a},"6Q0D":function(e,t,n){"use strict";var i=n("za6S");n.n(i).a},"6U/x":function(e,t,n){"use strict";var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.pipelineSetting?n("div",{staticClass:"bkdevops-base-info-setting-tab"},[n("bk-form",[n("bk-form-item",{attrs:{label:"流水线名称",required:!0}},[n("vuex-input",{directives:[{name:"validate",rawName:"v-validate.initial",value:"required|max:40",expression:'"required|max:40"',modifiers:{initial:!0}}],attrs:{placeholder:"请输入流水线名称",name:"pipelineName",value:e.pipelineSetting.pipelineName,"max-length":"40","handle-change":e.handleBaseInfoChange}})],1),e._v(" "),e.tagGroupList.length?n("bk-form-item",{attrs:{required:!1,label:"分组"}},[n("div",{staticClass:"tag-group-row"},e._l(e.tagGroupList,(function(t,i){return n("div",{key:i,staticClass:"group-col"},[n("label",{staticClass:"group-title"},[e._v(e._s(t.name))]),e._v(" "),n("bk-select",{attrs:{value:e.pipelineSetting.labels,multiple:""},on:{selected:e.handleLabelSelect}},e._l(t.labels,(function(e){return n("bk-option",{key:e.id,attrs:{id:e.id,name:e.name}})})),1)],1)})),0)]):e._e(),e._v(" "),n("bk-form-item",{attrs:{label:"描述","is-error":e.errors.has("desc"),"error-msg":e.errors.first("desc")}},[n("vuex-textarea",{directives:[{name:"validate",rawName:"v-validate.initial",value:"max:100",expression:'"max:100"',modifiers:{initial:!0}}],attrs:{name:"desc",value:e.pipelineSetting.desc,placeholder:"请输入100个字符以内的描述内容","handle-change":e.handleBaseInfoChange}})],1)],1)],1):e._e()},a=[];i._withStripped=!0,n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return a}))},"6vwV":function(e,t,n){"use strict";n.r(t);var i=n("rgNe"),a=n.n(i);for(var r in i)"default"!==r&&function(e){n.d(t,e,(function(){return i[e]}))}(r);t.default=a.a},"7F+8":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={name:"bkdevops-clean-policy-setting-tab",props:{pipelineSetting:Object}}},"7HY1":function(e,t,n){"use strict";n.r(t);var i=n("sJ6W"),a=n.n(i);for(var r in i)"default"!==r&&function(e){n.d(t,e,(function(){return i[e]}))}(r);t.default=a.a},"7rx2":function(e,t,n){"use strict";n.r(t);var i=n("JcWF");for(var a in i)"default"!==a&&function(e){n.d(t,e,(function(){return i[e]}))}(a);n("xZSC");var r=n("psIG"),s=Object(r.a)(i.default,void 0,void 0,!1,null,"a213e86e",null);s.options.__file="src/components/atomFormField/VuexTextarea/index.vue",t.default=s.exports},"7xSW":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=y(n("TcPG")),a=y(n("snOE")),r=y(n("tZmG")),s=y(n("Kz1y")),o=n("WIBD"),u=n("ygAv"),l=y(n("MMoO")),c=y(n("eI+G")),d=y(n("7rx2")),p=y(n("9XOw")),f=y(n("ZdkB")),h=y(n("xBA8")),m=y(n("h/YL")),v=y(n("0w5d")),g=y(n("Q6E5")),_=n("Vgl9"),b=n("TXTV");function y(e){return e&&e.__esModule?e:{default:e}}var C=[{value:!0,label:!0},{value:!1,label:!1}];t.default={name:"build-params",components:{Accordion:l.default,VuexInput:c.default,EnumInput:f.default,AtomCheckbox:m.default,Selector:h.default,draggable:g.default,VuexTextarea:d.default,RequestSelector:p.default},mixins:[v.default],props:{settingKey:{type:String,default:"params"},params:{type:Array,default:function(){return[]}},additionParams:{type:Array,default:function(){return[]}},disabled:{type:Boolean,default:!1},updateContainerParams:{type:Function,required:!0},title:{type:String,default:"全局参数"}},data:function(){return{showTips:'若value为版本号,则不能包含“”""等符号；\n如果参数类型为复选框，选择多个值时将以a,b的方式传递给流水线'}},computed:(0,s.default)({},(0,o.mapState)("atom",["buildParamsMap"]),(0,o.mapGetters)("atom",["osList","getBuildResourceTypeList"]),{versionConfig:function(){return{MajorVersion:{},MinorVersion:{},FixVersion:{}}},baseOSList:function(){return this.osList.filter((function(e){return"NONE"!==e.value})).map((function(e){return{id:e.value,name:e.label}}))},validateParams:function(){return this.params.concat(this.additionParams)},paramsList:function(){return b.PARAM_LIST},boolList:function(){return C},svnPathOption:function(){return b.SVN_PATH_OPTION},codelibOption:function(){return b.CODE_LIB_OPTION},codeTypeList:function(){return b.CODE_LIB_TYPE},globalParams:{get:function(){var e=(0,r.default)(this.versionConfig);return this.params.filter((function(t){return!e.includes(t.id)}))},set:function(e){this.updateContainerParams(this.settingKey,[].concat((0,a.default)(e),(0,a.default)(this.versions)))}},versions:function(){var e=(0,r.default)(this.versionConfig);return this.params.filter((function(t){return e.includes(t.id)}))},hasGlobalParams:function(){return 0!==this.globalParams.length},paramsDragOptions:function(){return{ghostClass:"sortable-ghost-atom",chosenClass:"sortable-chosen-atom",handle:".icon-move",animation:200,disabled:this.disabled}},buildParams:function(){var e=this.$route.params.buildNo;return this.buildParamsMap[e]},isExecDetail:function(){return!!this.$route.params.buildNo}}),methods:{isStringParam:b.isStringParam,isBooleanParam:b.isBooleanParam,isMultipleParam:b.isMultipleParam,isSvnParam:b.isSvnParam,isCodelibParam:b.isCodelibParam,isBuildResourceParam:b.isBuildResourceParam,isSelectorParam:function(e){return(0,b.isMultipleParam)(e)||(0,b.isEnumParam)(e)},getBuildTypeList:function(e){return this.getBuildResourceTypeList(e)},getSelectorDefaultVal:function(e){var t=e.type,n=e.defaultValue;return(0,b.isMultipleParam)(t)?n&&"string"==typeof n?n.split(","):[]:n},handleParamTypeChange:function(e,t,n){this.handleChange([].concat((0,a.default)(this.params.slice(0,n)),[(0,s.default)({},(0,u.deepCopy)(b.DEFAULT_PARAM[t]),{id:this.params[n].id})],(0,a.default)(this.params.slice(n+1))))},handleUpdateParam:function(e,t,n){try{var r=this.params[n];(0,b.isMultipleParam)(r.type)&&"defaultValue"===e?(0,s.default)(r,(0,i.default)({},e,t.join(","))):r&&(0,s.default)(r,(0,i.default)({},e,t)),this.handleChange([].concat((0,a.default)(this.params)))}catch(e){console.log("update error",e)}},editParam:function(e,t){var n=this.globalParams,i=this.versions;if(t){var r=(0,s.default)({},(0,u.deepCopy)(b.DEFAULT_PARAM[b.STRING]),{id:"param"+Math.floor(100*Math.random())});"templateParams"===this.settingKey&&(0,s.default)(r,{required:!1}),n.splice(e+1,0,r)}else n.splice(e,1);this.handleChange([].concat((0,a.default)(n),(0,a.default)(i)))},editParamShow:function(e){var t=!1,n=this.params[e];n&&(t=n.required),this.handleUpdateParam("required",!t,e)},editOption:function(e,t,n){try{var i=[];t&&"string"==typeof t&&(i=t.split("\n").map((function(e){var t=e.trim();return{key:t,value:t}}))),this.handleUpdateParam(e,i,n);var a=this.params[n];if("string"==typeof a.defaultValue&&((0,b.isMultipleParam)(a.type)||(0,b.isEnumParam)(a.type))){var r=a.defaultValue.split(",").filter((function(e){return a.options.map((function(e){return e.key})).includes(e)}));(0,b.isMultipleParam)(a.type)?this.handleUpdateParam("defaultValue",r,n):this.handleUpdateParam("defaultValue",r.join(","),n)}}catch(e){return this.$showTips({message:e.message,theme:"error"}),[]}},handleBuildResourceChange:function(e,t,n,a){var r="os"===e?{buildType:this.getBuildTypeList(t)[0].type}:{};this.handleUpdateParam("containerType",(0,s.default)((0,s.default)({},a.containerType,(0,i.default)({},e,t)),r),n),this.handleUpdateParam("defaultValue","",n)},getBuildResourceUrl:function(e){var t=e.os,n=e.buildType;return"/"+_.STORE_API_URL_PREFIX+"/user/pipeline/container/projects/"+this.$route.params.projectId+"/oss/"+t+"?buildType="+n},handleCodeTypeChange:function(e,t,n){this.handleUpdateParam(e,t,n),this.handleUpdateParam("defaultValue","",n)},getCodeUrl:function(e){return e=e||"CODE_GIT","/"+_.REPOSITORY_API_URL_PREFIX+"/user/repositories/{projectId}/hasPermissionList?permission=USE&repositoryType="+e+"&page=1&pageSize=100"},handleChange:function(e){this.updateContainerParams(this.settingKey,e)},getParamIndex:function(e){return this.params.findIndex((function(t){return t.id===e}))},getOptions:function(e){try{return e.options.map((function(e){return e.key})).join("\n")}catch(e){return""}},transformOpt:function(e){var t={};return e=e.filter((function(e){return e.key.length})),Array.isArray(e)?e.filter((function(e){return!t[e.key]&&(t[e.key]=1,!0)})).map((function(e){return{id:e.key,name:e.key}})):[]}}}},"7z9a":function(e,t,n){"use strict";var i=n("C8Dl");n.n(i).a},"80kE":function(e,t,n){"use strict";n.r(t);var i=n("Te0k"),a=n.n(i);for(var r in i)"default"!==r&&function(e){n.d(t,e,(function(){return i[e]}))}(r);t.default=a.a},"8fJT":function(e,t,n){"use strict";var i=n("Yfpw");n.n(i).a},"9GO0":function(e,t,n){"use strict";n.r(t);var i=n("NoJb"),a=n("6KWu");for(var r in a)"default"!==r&&function(e){n.d(t,e,(function(){return a[e]}))}(r);n("og3W");var s=n("psIG"),o=Object(s.a)(a.default,i.a,i.b,!1,null,null,null);o.options.__file="src/components/atomFormField/CronTimer/week.vue",t.default=o.exports},"9Lja":function(e,t,n){"use strict";var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"bk-selector bk-tag-selector",class:{"is-required":e.required}},[n("input",{staticClass:"bk-form-input",attrs:{type:"text",autocomplete:"off",name:e.name,placeholder:e.placeholder,disabled:e.disabled},domProps:{value:e.value},on:{input:e.input,keydown:e.keydown,mousedown:e.focus,blur:e.hideAll}}),e._v(" "),n("div",{directives:[{name:"show",rawName:"v-show",value:e.showList&&e.list.length,expression:"showList && list.length"}],staticClass:"bk-selector-list"},[n("ul",e._l(e.list,(function(t,i){return n("li",{key:i,staticClass:"bk-selector-list-item",class:e.activeClass(i),on:{click:function(n){return n.stopPropagation(),e.selectList(t)}}},[n("div",{staticClass:"bk-selector-node"},[n("div",{staticClass:"text"},[e._v(e._s(t))])])])})),0)])])},a=[];i._withStripped=!0,n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return a}))},"9WKU":function(e,t,n){"use strict";n.r(t);var i=n("RrVk"),a=n.n(i);for(var r in i)"default"!==r&&function(e){n.d(t,e,(function(){return i[e]}))}(r);t.default=a.a},"9WkF":function(e,t,n){"use strict";var i=n("xHIY");n.n(i).a},"9XOw":function(e,t,n){"use strict";n.r(t);var i=n("tNgP"),a=n("MS/s");for(var r in a)"default"!==r&&function(e){n.d(t,e,(function(){return a[e]}))}(r);var s=n("psIG"),o=Object(s.a)(a.default,i.a,i.b,!1,null,null,null);o.options.__file="src/components/atomFormField/RequestSelector/index.vue",t.default=o.exports},"9o7p":function(e,t,n){},"9sm8":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=u(n("06Hw")),a=u(n("YYXh")),r=u(n("Kz1y")),s=n("WIBD"),o=u(n("c8nl"));function u(e){return e&&e.__esModule?e:{default:e}}t.default={name:"container-node-selector",components:{SelectInput:o.default},props:{os:{type:String},name:{type:String},containerId:{type:String},value:{type:String,default:""},buildResourceType:{type:String},disabled:{type:Boolean,default:!1},handleChange:{type:Function,required:!1},toggleVisible:{type:Function,default:function(){return function(){}}},hasError:{type:Boolean}},data:function(){return{isLoading:!1,isFocus:!1,nodeList:[]}},computed:{projectId:function(){return this.$route.params.projectId},buildResource:function(){var e=this,t=this.nodeList.find((function(t){return t.name&&t.id===e.value})),n=t&&"string"==typeof t.label?t.label:"";return this.value?this.value+n:this.value}},watch:{value:function(e,t){e!==t&&this.$emit("input",e)}},created:function(){this.getResourceList()},methods:(0,r.default)({},(0,s.mapActions)("atom",["fetchBuildResourceByType"]),{handleSelect:function(e,t){this.handleChange(e,t)},handleBlur:function(){this.isFocus=!1},handleFocus:function(){this.isFocus||(this.isFocus=!0,this.getResourceList())},getResourceList:function(){var e=this;return(0,a.default)(i.default.mark((function t(){var n,a;return i.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,e.isLoading=!0,e.nodeList=[],t.next=5,e.fetchBuildResourceByType({projectCode:e.projectId,os:e.os,buildType:e.buildResourceType,containerId:e.containerId});case 5:n=t.sent,a=n.data.resources,Array.isArray(a)&&(e.nodeList=a.map((function(e,t){return(0,r.default)({},e,{id:e.name,name:e.name+(e.label?e.label:""),disalbed:!e.name})}))),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(0),e.$bkMessage({message:t.t0.message?t.t0.message:t.t0,theme:"error"});case 13:return t.prev=13,e.isLoading=!1,t.finish(13);case 16:case"end":return t.stop()}}),t,e,[[0,10,13,16]])})))()}})}},"A/X8":function(e,t,n){"use strict";var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"pipeline-stage"},[n("ul",{ref:"stageRef",staticClass:"soda-process-stage"},e._l(e.containers,(function(t,i){return n("stage-container",{key:i,attrs:{"stage-index":e.stageIndex,"container-index":i,"stage-length":e.stageLength,editable:e.editable,"is-preview":e.isPreview,"container-length":e.containers.length,container:t}})})),1),e._v(" "),e.editable?[e.isFirstStage?e._e():n("span",{directives:[{name:"bk-clickoutside",rawName:"v-bk-clickoutside",value:e.toggleAddMenu,expression:"toggleAddMenu"}],staticClass:"add-menu",on:{click:function(t){return t.stopPropagation(),e.toggleAddMenu(!e.isAddMenuShow)}}},[n("i",{class:{"add-plus-icon":!e.isAddMenuShow,"minus-icon":e.isAddMenuShow,active:e.isAddMenuShow}}),e._v(" "),e.isAddMenuShow?[n("span",{staticClass:"insert-tip direction line-add",on:{click:function(t){return t.stopPropagation(),e.showStageSelectPopup(!1)}}},[n("i",{staticClass:"tip-icon"}),e._v("\n                    插入\n                ")]),e._v(" "),n("span",{staticClass:"cruve-line left"}),e._v(" "),n("div",{staticClass:"insert-tip parallel-add",on:{click:function(t){return t.stopPropagation(),e.showStageSelectPopup(!0)}}},[n("i",{staticClass:"tip-icon"}),e._v("\n                    插入\n                ")])]:e._e()],2),e._v(" "),e.isLastStage?n("span",{staticClass:"append-stage pointer",on:{click:e.appendStage}},[n("i",{staticClass:"add-plus-icon"})]):e._e()]:e._e()],2)},a=[];i._withStripped=!0,n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return a}))},AU07:function(e,t,n){"use strict";n.r(t);var i=n("CTNz"),a=n.n(i);for(var r in i)"default"!==r&&function(e){n.d(t,e,(function(){return i[e]}))}(r);t.default=a.a},AV3R:function(e,t,n){"use strict";var i=n("Kpgs");n.n(i).a},AfBu:function(e,t,n){"use strict";n.r(t);var i=n("Vu7B"),a=n.n(i);for(var r in i)"default"!==r&&function(e){n.d(t,e,(function(){return i[e]}))}(r);t.default=a.a},Aii4:function(e,t,n){"use strict";n.r(t);var i=n("eOqb"),a=n("7HY1");for(var r in a)"default"!==r&&function(e){n.d(t,e,(function(){return a[e]}))}(r);n("bn9r");var s=n("psIG"),o=Object(s.a)(a.default,i.a,i.b,!1,null,null,null);o.options.__file="src/components/atomFormField/RemoteCurlUrl/index.vue",t.default=o.exports},Am2o:function(e,t,n){"use strict";var i=n("GbUh");n.n(i).a},B4pn:function(e,t,n){"use strict";n.r(t);var i=n("9sm8"),a=n.n(i);for(var r in i)"default"!==r&&function(e){n.d(t,e,(function(){return i[e]}))}(r);t.default=a.a},BDEw:function(e,t,n){"use strict";var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"namespace-vars"},[n("ul",[e.paramList.length?[n("li",{key:"th",staticClass:"param-item"},[n("span",[e._v("namespace名称")]),e._v(" "),n("span",[e._v("参数key")]),e._v(" "),n("span",[e._v("参数value")]),e._v(" "),n("i",{staticClass:"bk-icon icon-minus",staticStyle:{visibility:"hidden"}})]),e._v(" "),e._l(e.paramList,(function(t,i){return n("li",{key:i,staticClass:"param-item"},[n("div",[n("vuex-input",{directives:[{name:"validate",rawName:"v-validate.initial",value:"required",expression:"`required`",modifiers:{initial:!0}}],attrs:{name:"namespace",value:t.namespace,"handle-change":function(t,n){return e.handleParamChange(t,n,i)},"data-vv-scope":"param-"+i}})],1),e._v(" "),n("div",[n("vuex-input",{directives:[{name:"validate",rawName:"v-validate.initial",value:"required",expression:"`required`",modifiers:{initial:!0}}],attrs:{name:"varKey",value:t.varKey,"handle-change":function(t,n){return e.handleParamChange(t,n,i)},"data-vv-scope":"param-"+i}})],1),e._v(" "),n("div",[n("vuex-input",{attrs:{name:"varValue",value:t.varValue,"handle-change":function(t,n){return e.handleParamChange(t,n,i)}}})],1),e._v(" "),n("i",{staticClass:"bk-icon icon-minus hover-click",on:{click:function(t){return t.stopPropagation(),t.preventDefault(),e.editParam(i,!1)}}})])}))]:e._e(),e._v(" "),e.disabled?e._e():n("a",{staticClass:"text-link hover-click",on:{click:function(t){return t.stopPropagation(),t.preventDefault(),e.editParam(e.paramList.length,!0)}}},[n("i",{staticClass:"bk-icon icon-plus-circle"}),e._v(" "),n("span",[e._v("新增变量")])])],2)])},a=[];i._withStripped=!0,n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return a}))},Bny8:function(e,t,n){"use strict";n.r(t);var i=n("2BMu"),a=n("yfl+");for(var r in a)"default"!==r&&function(e){n.d(t,e,(function(){return a[e]}))}(r);n("WlEA");var s=n("psIG"),o=Object(s.a)(a.default,i.a,i.b,!1,null,"116967b8",null);o.options.__file="src/components/atomFormField/UserInput/index.vue",t.default=o.exports},"Bxa+":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=l(n("TcPG")),a=l(n("Kz1y")),r=l(n("06Hw")),s=l(n("YYXh")),o=l(n("q7rD")),u=l(n("eI+G"));function l(e){return e&&e.__esModule?e:{default:e}}t.default={components:{VuexInput:u.default},mixins:[o.default],props:{value:{type:Object,default:[]}},data:function(){return{paramList:[]}},watch:{value:function(e){this.paramList=e}},created:function(){var e=this;return(0,s.default)(r.default.mark((function t(){return r.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.paramList=e.value;case 1:case"end":return t.stop()}}),t,e)})))()},methods:{editParam:function(e,t){if(t){var n={namespace:"namespace"+(this.paramList.length+1),varKey:"param"+(this.paramList.length+1),varValue:""};this.paramList.splice(e+1,0,n)}else this.paramList.splice(e,1);this.handleChange(this.name,this.paramList)},handleParamChange:function(e,t,n){var r=this.paramList[n];r&&((0,a.default)(r,(0,i.default)({},e,t)),this.handleChange(this.name,this.paramList))}}}},C8Dl:function(e,t,n){},CPVx:function(e,t,n){"use strict";var i=n("ZOaD");n.n(i).a},CSB3:function(e,t,n){},CTNz:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i,a=n("tZmG"),r=(i=a)&&i.__esModule?i:{default:i};t.default={props:{config:{type:Object,default:{initData:[],data:[],onChange:function(){}},required:!0},name:{type:String,required:!0},value:{type:String,default:""},placeholder:{type:String,default:""},disabled:{type:Boolean,default:!0},selectedList:{type:Array,default:[]},setValue:Function,deleteItem:Function},data:function(){return{showList:!1,isSelected:!1,focusList:"",minscroll:0,maxscroll:4,list:[]}},watch:{"config.data":function(e){this.getData()},value:function(e){var t=this;this.list.length&&e.length?(this.showList=!0,this.$refs.selectorList.scrollTop=0):setTimeout((function(){t.showList=!1}),250),e.length&&(this.$refs.staffInput.style.width=20*e.length+"px")}},created:function(){this.getData()},methods:{input:function(e){e.preventDefault(),this.focusList=0,this.minscroll=0,this.maxscroll=4,this.$refs.selectorList.scrollTop=0;var t=e.target.value;this.config.onChange(this.name,t),t.length&&this.filterData(t)},paste:function(e){var t=this;e.preventDefault();var n=e.clipboardData.getData("text"),i=this.validate(n);try{if(n&&i.reg&&i.target.length>3){if(i.isEixt>-1)throw new Error(n+"已存在");this.selectList(n)}else{var a=[],r=[],s=[],o=n.split(";");if((o=o.filter((function(e){return e}))).forEach((function(e){e.match(/^[a-zA-Z][a-zA-Z_]+/g)?a.push(e.match(/^[a-zA-Z][a-zA-Z_]+/g).join("")):s.push(e)})),a.forEach((function(e){t.config.initData.indexOf(e)<0&&s.push(e);for(var n=t.config.data.length-1;n>=0;n--)t.config.data[n]===e&&(r.push(e),t.config.data.splice(n,1))})),r.length&&this.selectList(r,"batch"),n&&s.length)throw s.join(";"),new Error(s+"不是项目组成员")}}catch(e){this.$showTips({message:e.message||e,theme:"error"})}},hideAll:function(e){e.preventDefault(),this.handleValue(e.target.value)},handleValue:function(e){var t=this;setTimeout((function(){var n=[],i=[],a=e.trim().split(",");if((a=a.filter((function(e){return e&&e.trim()}))).forEach((function(e){t.checkVariable(e)?i.push(e):n.push(e)})),(i=i.filter((function(e){return-1===t.selectedList.indexOf(e)}))).length&&t.selectList(i,"batch"),t.value&&n.length&&!t.showList){n.join(";");var r=n+"不是项目组成员";t.$showTips({message:r,theme:"error"}),t.config.onChange(t.name,""),t.resetInput()}t.value="",t.$refs.staffInput&&(t.$refs.staffInput.style.width="10px")}),100)},mousedown:function(e){var t=this;this.focusList=0,this.minscroll=0,this.maxscroll=4,this.$refs.selectorList.scrollTop=0,this.value.length&&(this.filterData(this.value),this.list.map((function(e,n){e===t.value&&(t.focusList=n)})))},keydown:function(e){var t=void 0,n=e.keyCode,i=this.$refs.selectEditor.childNodes,a=this.getSiteInfo(i);switch(n){case 8:case 46:if(0!==parseInt(a.index)&&(t=a.temp[a.index-1].innerText,!this.value.length)){this.deleteItem(this.name,a.index,t);var r=i[i.length-1];this.insertAfter(this.$refs.staffInput,r),this.$refs.staffInput.focus(),this.isFocus=!0}break;case 40:this.focusList++,this.focusList=this.focusList>this.list.length-1?this.list.length-1:this.focusList,this.focusList>this.maxscroll&&(this.$refs.selectorList.scrollTop+=42,this.minscroll++,this.maxscroll++);break;case 38:this.focusList--,this.focusList<0&&(this.focusList=0),this.focusList=this.focusList<0?0:this.focusList,this.focusList<this.minscroll&&(this.$refs.selectorList.scrollTop-=42,this.maxscroll--,this.minscroll--);break;case 37:if(!this.value.length){if(parseInt(a.index)>1){var s=i[parseInt(a.index)-2];this.insertAfter(this.$refs.staffInput,s),this.$refs.staffInput.value="",this.$refs.staffInput.style.width="10px"}else{var o=this.$refs.selectEditor.getElementsByTagName("span");this.$refs.selectEditor.insertBefore(this.$refs.staffInput,o[0])}this.$refs.staffInput.focus()}break;case 39:if(!this.value.length){var u=i[parseInt(a.index)+1];this.insertAfter(this.$refs.staffInput,u),this.$refs.staffInput.focus()}break;case 13:this.showList?(this.selectList(this.list[this.focusList]),this.showList=!1):this.handleValue(this.value);break;case 27:this.showList=!1}},validate:function(e){var t=e.replace(/\s/g,"");return{target:t,reg:this.checkVariable(t),isEixt:this.selectedList.indexOf(t)}},activeClass:function(e){return{"bk-selector-selected":e===this.focusList}},selectList:function(e,t){this.config.onChange(this.name,e),this.isSelected=!0;var n=this.$refs.selectEditor.childNodes,i=this.getSiteInfo(n);this.setValue(this.name,i.index,e,t);var a=n[n.length-1];this.insertAfter(this.$refs.staffInput,a),this.$refs.staffInput.focus()},filterData:function(e){this.list=this.config.data.filter((function(t){return t.indexOf(e)>-1}))},getData:function(){this.list=this.config.data},localCoverAvatar:function(e){return"http://bking.com/avatars/"+(/^\$\{(.*)\}$/.test(e)?"un_know":e)+"/avatar.jpg"},resetInput:function(){var e=this.$refs.selectEditor.childNodes,t=this.getSiteInfo(e);if(t.index!==t.temp.length){var n=e[e.length-1];this.insertAfter(this.$refs.staffInput,n)}},checkVariable:function(e){return/^\$\{(.*)\}$/.test(e)},toEdit:function(e){this.$refs.staffInput.focus()},selectInfo:function(e,t){this.insertAfter(this.$refs.staffInput,e.target)},getSiteInfo:function(e){for(var t={index:0,temp:[]},n=0;n<e.length;n++){var i=e[n];(3!==i.nodeType||/\S/.test(i.nodeValue))&&t.temp.push(i)}return(0,r.default)(t.temp).forEach((function(e){"staffInput"===t.temp[e].id&&(t.index=e)})),t},insertAfter:function(e,t){var n=t.parentNode;n.lastChild===t?n.appendChild(e):n.insertBefore(e,t.nextSibling)}}}},Cffk:function(e,t,n){"use strict";e.exports={props:{value:{type:String,default:""},width:{type:[Number,String],default:500},height:{type:[Number,String],default:300},lang:{type:String,default:"text"},theme:{type:String,default:"monokai"},readOnly:{type:Boolean,default:!1},fullScreen:{type:Boolean,default:!1},hasError:{type:Boolean,default:!1}},data:function(){return{$ace:null,isLoading:!1}},watch:{value:function(e){e!==this.$ace.getValue()&&this.$ace.setValue(e,1)},lang:function(e){e&&(n("NeHY")("./"+e),this.$ace.getSession().setMode("ace/mode/"+e))},fullScreen:function(){var e=this;this.$el.classList.toggle("ace-full-screen"),this.$nextTick((function(){e.$ace.resize()}))}},methods:{calcSize:function(e){var t=e.toString();return t.match(/^\d*$/)?e+"px":t.match(/^[0-9]?%$/)?t:"100%"}},mounted:function(){var e=this;this.isLoading=!0,n.e("vendors~brace").then(n.t.bind(null,"8X2e",7)).then((function(t){e.isLoading=!1,e.$ace=t.edit(e.$el),e.$ace.$blockScrolling=1/0;var i=e.$ace,a=e.lang,r=void 0===a?"javascript":a,s=e.theme,o=void 0===s?"monokai":s,u=e.readOnly,l=i.getSession();e.$emit("init",i),l.setNewLineMode("unix"),n("NeHY")("./"+r),n("dwlt")("./"+o),l.setMode("ace/mode/"+r),i.setTheme("ace/theme/"+o),l.setUseWrapMode(!0),i.setValue(e.value,1),i.setReadOnly(u),i.setShowPrintMargin(!1),i.on("change",(function(t,n){var a=i.getValue();e.$emit("update:hasError",!a),e.$emit("input",a,t,n)}))}))},render:function(){var e=arguments[0],t=this.isLoading,n=this.width,i=this.height,a=this.calcSize;return e("div",{directives:[{name:"bkloading",value:{isLoading:t}}],style:{height:a(i),width:a(n)}})}}},"Ck/w":function(e,t,n){},CodG:function(e,t,n){"use strict";var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"sub-build-params"},[n("ul",[e.paramList.length?e._l(e.paramList,(function(t){return n("li",{key:t.key,staticClass:"param-item"},[n("div",[n("vuex-input",{attrs:{disabled:!0,name:"key",value:t.key}})],1),e._v(" "),n("span",[e._v("=")]),e._v(" "),n("div",[n("vuex-input",{attrs:{name:t.key,value:t.value,"handle-change":e.handleParamChange}})],1)])})):n("li",{staticClass:"param-item-empty"},[n("span",[e._v("参数为空")])])],2)])},a=[];i._withStripped=!0,n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return a}))},CuOr:function(e,t,n){"use strict";n.r(t);var i=n("sxAL"),a=n("bdvs");for(var r in a)"default"!==r&&function(e){n.d(t,e,(function(){return a[e]}))}(r);n("a5dN");var s=n("psIG"),o=Object(s.a)(a.default,i.a,i.b,!1,null,null,null);o.options.__file="src/components/pipelineSetting/RunningLock.vue",t.default=o.exports},CzRM:function(e,t,n){"use strict";var i=n("oE9V");n.n(i).a},DGp5:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=d(n("06Hw")),a=d(n("YYXh")),r=d(n("Kz1y")),s=d(n("QuxH")),o=n("WIBD"),u=n("ygAv"),l=d(n("Q6E5")),c=d(n("E4OK"));function d(e){return e&&e.__esModule?e:{default:e}}t.default={name:"atom-list",components:{StatusIcon:s.default,draggable:l.default,Logo:c.default},props:{container:Object,stageIndex:Number,containerIndex:Number,containerStatus:String,editable:{type:Boolean,default:!0},isPreview:{type:Boolean,default:!1}},data:function(){return{reviewLoading:!1}},computed:(0,r.default)({},(0,o.mapState)("atom",["execDetail","atomMap"]),(0,o.mapGetters)("atom",["isTriggerContainer","getElements","getStage"]),{isWaiting:function(){return"PREPARE_ENV"===this.containerStatus},userInfo:function(){return this.$userInfo},routerParams:function(){return this.$route.params},atomList:{get:function(){return this.getElements(this.container)},set:function(e){var t=this.container;(0,this.updateContainer)({container:t,newParam:{elements:e}})}},dragOptions:function(){return{ghostClass:"sortable-ghost-atom",chosenClass:"sortable-chosen-atom",animation:200,disabled:!this.editable}}}),methods:(0,r.default)({},(0,o.mapActions)("atom",["updateContainer","handleCheckAtom","requestPipelineExecDetail","togglePropertyPanel","addAtom","deleteAtom"]),{getAtomIcon:function(e){return e?document.getElementById(e)?e:"order":"placeholder"},localTime:function(e){return(0,u.coverTimer)(e)},isCurrentUser:function(e){var t=e.map((function(e){return e.trim()}));return this.userInfo&&t.indexOf(this.userInfo.username)>-1},showPropertyPanel:function(e){var t=this.stageIndex,n=this.containerIndex;this.togglePropertyPanel({isShow:!0,editingElementPos:{stageIndex:t,containerIndex:n,elementIndex:e}})},editAtom:function(e,t){var n=this.stageIndex,i=this.containerIndex,a=this.container,r=this.addAtom,s=this.deleteAtom;(t?r:s)({container:a,atomIndex:e,stageIndex:n,containerIndex:i})},handleAtomCheck:function(e,t){var n=this;return(0,a.default)(i.default.mark((function a(){var r;return i.default.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.prev=0,r={projectId:n.routerParams.projectId,pipelineId:n.routerParams.pipelineId,buildId:n.routerParams.buildNo,elementId:e,action:t},i.next=4,n.handleCheckAtom(r);case 4:!0===i.sent&&(n.$showTips({message:"ABORT"===t?"驳回成功":"审核成功",theme:"success"}),n.requestPipelineExecDetail(n.routerParams)),i.next=11;break;case 8:i.prev=8,i.t0=i.catch(0),n.$showTips({message:i.t0.message||i.t0,theme:"error"});case 11:case"end":return i.stop()}}),a,n,[[0,8]])})))()},singleRetry:function(e){"string"==typeof e&&this.retryPipeline(e)},retryPipeline:function(e){var t=this;return(0,a.default)(i.default.mark((function n(){var a,r,s;return i.default.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return a=void 0,r=void 0,n.prev=1,n.next=4,t.$store.dispatch("pipelines/requestRetryPipeline",{projectId:t.routerParams.projectId,pipelineId:t.routerParams.pipelineId,buildId:t.routerParams.buildNo,taskId:e});case 4:(s=n.sent).id?(a="重试成功",r="success",t.$router.push({name:"pipelinesDetail",params:{buildNo:s.id}}),t.requestPipelineExecDetail(t.routerParams)):(a="重试失败",r="error"),n.next=17;break;case 8:if(n.prev=8,n.t0=n.catch(1),403!==n.t0.code){n.next=15;break}return t.$showAskPermissionDialog({noPermissionList:[{resource:"流水线",option:"执行"}],applyPermissionUrl:PERM_URL_PIRFIX+"/backend/api/perm/apply/subsystem/?client_id=pipeline&project_code="+t.routerParams.projectId+"&service_code=pipeline&role_executor=pipeline:"+t.routerParams.pipelineId}),n.abrupt("return");case 15:a=n.t0.message||n.t0,r="error";case 17:return n.prev=17,a&&t.$showTips({message:a,theme:r}),n.finish(17);case 20:case"end":return n.stop()}}),n,t,[[1,8,17,20]])})))()},useSkipStyle:function(e){return e&&("SKIP"===e.status||e.additionalOptions&&!1===e.additionalOptions.enable||this.container.jobControlOption&&!1===this.container.jobControlOption.enable)}})}},DYYE:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=d(n("TcPG")),a=d(n("Kz1y")),r=d(n("06Hw")),s=d(n("YYXh")),o=d(n("q7rD")),u=d(n("eI+G")),l=d(n("32o7")),c=d(n("0w5d"));function d(e){return e&&e.__esModule?e:{default:e}}t.default={components:{VuexInput:u.default,FormField:l.default},mixins:[o.default,c.default],props:{value:{type:Object,default:[]},setParentValidate:{type:Function,default:function(){return function(){}}},disabled:{type:Boolean,default:!1},allowNull:{type:Boolean,default:!0},isSupportVar:{type:Boolean,default:!1}},data:function(){return{paramList:[]}},computed:{snonVarRule:function(){return this.isSupportVar?"":"nonVarRule"}},watch:{errors:{},value:function(e){this.paramList=e}},created:function(){var e=this;return(0,s.default)(r.default.mark((function t(){return r.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.paramList=e.value;case 1:case"end":return t.stop()}}),t,e)})))()},methods:{editParam:function(e,t){if(t){var n={key:"param"+(this.paramList.length+1),value:""};this.paramList.splice(e+1,0,n)}else(this.allowNull||this.paramList.length>1)&&this.paramList.splice(e,1);this.handleChange(this.name,this.paramList)},handleParamChange:function(e,t,n){var r=this.paramList[n];r&&((0,a.default)(r,(0,i.default)({},e,t)),this.handleChange(this.name,this.paramList))}}}},Df5U:function(e,t,n){"use strict";n.r(t);var i=n("3wwg"),a=n("NrBn");for(var r in a)"default"!==r&&function(e){n.d(t,e,(function(){return a[e]}))}(r);var s=n("psIG"),o=Object(s.a)(a.default,i.a,i.b,!1,null,null,null);o.options.__file="src/components/codeRecord/CodeRecordTable.vue",t.default=o.exports},DkEz:function(e,t,n){"use strict";n.r(t);var i=n("YybZ"),a=n("6vwV");for(var r in a)"default"!==r&&function(e){n.d(t,e,(function(){return a[e]}))}(r);n("jU13");var s=n("psIG"),o=Object(s.a)(a.default,i.a,i.b,!1,null,null,null);o.options.__file="src/components/atomFormField/ParamsView/index.vue",t.default=o.exports},DrOC:function(e,t,n){"use strict";var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("bk-checkbox-group",{attrs:{value:e.value},on:{change:e.handleSwitch}},e._l(e.list,(function(t){return n("bk-checkbox",{directives:[{name:"bk-tooltips",rawName:"v-bk-tooltips",value:{content:t.desc,width:300},expression:"{ content: item.desc, width: 300 }"}],key:t.value,staticClass:"atom-checkbox-list-item",attrs:{value:t.id,disabled:t.disabled}},[e._v("\n        "+e._s(t.name)+"\n        "),t.showIntro?n("sup",{staticClass:"introSup"},[e._v(" 荐")]):e._e()])})),1)},a=[];i._withStripped=!0,n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return a}))},E4OK:function(e,t,n){"use strict";n.r(t);var i=n("15pI"),a=n("UfR3");for(var r in a)"default"!==r&&function(e){n.d(t,e,(function(){return a[e]}))}(r);var s=n("psIG"),o=Object(s.a)(a.default,i.a,i.b,!1,null,null,null);o.options.__file="src/components/Logo/index.vue",t.default=o.exports},EXLY:function(e,t,n){},Eg1K:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=u(n("06Hw")),a=u(n("Kz1y")),r=u(n("YYXh")),s=u(n("q7rD")),o=u(n("xBA8"));function u(e){return e&&e.__esModule?e:{default:e}}t.default={components:{Selector:o.default},mixins:[s.default],props:{hasAddItem:{type:Boolean,default:!1},itemText:{type:String,default:"关联代码库"},itemTargetUrl:{type:String,default:"/codelib/{projectId}/"},searchable:{type:Boolean,default:!0},url:{type:String,default:""},paramId:{type:String,default:"id"},paramName:{type:String,default:"name"},tools:{type:Boolean,default:!1},placeholder:{type:String,default:"请选择"},multiSelect:{type:Boolean,default:!1}},data:function(){return{isLoading:!1,list:[],webUrl:WEB_URL_PIRFIX}},computed:{projectId:function(){return this.$route.params.projectId}},created:function(){this.freshList()},methods:{edit:function(e){var t=this.list[e].repositoryHashId||"",n=this.list[e].type||"",i=this.list[e].groupHashId||"";if(t){var a=WEB_URL_PIRFIX+"/codelib/"+this.projectId+"/"+t+"/"+n;window.open(a,"_blank")}else if(i){var r=WEB_URL_PIRFIX+"/experience/"+this.projectId+"/setting/?groupId="+i;window.open(r,"_blank")}},toggleVisible:function(e){e&&this.freshList()},urlParse:function(e,t){return new Function("ctx","return '"+e.replace(/\{(.*?)\}/g,"'+ ctx.$1 +'")+"'")(t)},freshList:function(){var e=this;return(0,r.default)(i.default.mark((function t(){var n,r,s,o,u;return i.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,n=e.url,r=e.element,s=e.$route.params,o=e.urlParse(n,(0,a.default)({},s,r)),e.isLoading=!0,t.next=7,e.$ajax.get(o);case 7:u=t.sent,e.list=(u.data.resources||u.data.records||u.data||[]).map((function(t){return(0,a.default)({},t,{id:t[e.paramId],name:t[e.paramName]})})),e.multiSelect?(e.value=e.value.length?e.value:[],e.value.map((function(t){""!==t&&0===e.list.filter((function(e){return e.id===t})).length&&e.list.splice(0,0,{id:t,name:"******（无权限查看）"})}))):""!==e.value&&0===e.list.filter((function(t){return t.id===e.value})).length&&e.list.splice(0,0,{id:e.value,name:"******（无权限查看）"}),e.$emit("change",e.list),t.next=16;break;case 13:t.prev=13,t.t0=t.catch(0),e.$showTips({message:t.t0.message,theme:"error"});case 16:return t.prev=16,e.isLoading=!1,t.finish(16);case 19:case"end":return t.stop()}}),t,e,[[0,13,16,19]])})))()}}}},EoWJ:function(e,t,n){},EzRg:function(e,t,n){"use strict";n.r(t);var i=n("2RXp"),a=n.n(i);for(var r in i)"default"!==r&&function(e){n.d(t,e,(function(){return i[e]}))}(r);t.default=a.a},GBhW:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.JOB_MUTUAL=t.JOB_OPTION=void 0;var i=s(n("/9Wh")),a=s(n("wv3L")),r=s(n("tZmG"));function s(e){return e&&e.__esModule?e:{default:e}}t.getJobOptionDefault=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:o;return(0,r.default)(e).reduce((function(t,n){return e[n]&&"object"===(0,a.default)(e[n].default)?t[n]=JSON.parse((0,i.default)(e[n].default)):t[n]=e[n].default,t}),{})};var o=t.JOB_OPTION={enable:{rule:{},type:"boolean",component:"atom-checkbox",text:"启用本Job",default:!0},timeout:{rule:{numeric:!0,max_value:2880},component:"vuex-input",required:!0,label:"Job执行超时时间(单位分钟)",desc:"请填写0-2880之间的整数，0表示系统允许的最大超时时间",placeholder:"请填写0-2880之间的整数，0表示系统允许的最大超时时间",default:"900"},runCondition:{rule:{},component:"selector",label:"何时运行本Job",default:"STAGE_RUNNING",list:[{id:"STAGE_RUNNING",name:"Stage开始运行时"},{id:"CUSTOM_VARIABLE_MATCH",name:"自定义变量全部满足时运行"},{id:"CUSTOM_VARIABLE_MATCH_NOT_RUN",name:"自定义变量全部满足时不运行"}]},customVariables:{rule:{},component:"key-value-normal",default:[{key:"param1",value:""}],label:"自定义变量",allowNull:!1,isHidden:function(e){return!(e&&("CUSTOM_VARIABLE_MATCH"===e.runCondition||"CUSTOM_VARIABLE_MATCH_NOT_RUN"===e.runCondition))}},customCondition:{isHidden:!0,default:""}};t.JOB_MUTUAL={enable:{default:!1},mutexGroupName:{rule:{mutualGroup:!0},component:"vuex-input",label:"互斥组名称",placeholder:"请填写互斥组名称",default:"",required:!0},queueEnable:{rule:{},type:"boolean",component:"atom-checkbox",text:"启用互斥组排队",default:!1},timeout:{rule:{numeric:!0,max_value:2880,min_value:1},component:"vuex-input",label:"最长等待时间（单位分钟）",placeholder:"请填写1-2880之间的整数",default:"900",required:!0,isHidden:function(e){return!(e&&e.queueEnable)}},queue:{rule:{numeric:!0,max_value:10,min_value:1},component:"vuex-input",label:"队列最大任务数",placeholder:"请填写1-10之间的整数",default:"5",required:!0,isHidden:function(e){return!(e&&e.queueEnable)}}}},GFJo:function(e,t,n){},GGV7:function(e,t,n){"use strict";n.r(t);var i=n("dSfQ"),a=n.n(i);for(var r in i)"default"!==r&&function(e){n.d(t,e,(function(){return i[e]}))}(r);t.default=a.a},GRau:function(e,t,n){"use strict";var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{directives:[{name:"bkloading",rawName:"v-bkloading",value:{isLoading:e.loading.isLoading,title:e.loading.title},expression:"{\n        isLoading: loading.isLoading,\n        title: loading.title\n    }"}],staticClass:"view-part-wrapper"},[e.showContent&&e.partList.length?n("div",{staticClass:"part-table"},[e._m(0),e._v(" "),n("div",{staticClass:"table-body"},e._l(e.partList,(function(t,i){return n("div",{key:i,staticClass:"table-row"},[n("div",{staticClass:"table-part-item part-item-name",on:{click:function(n){return n.stopPropagation(),e.showDetail(t)}}},[n("i",{class:["bk-icon","icon-"+e.extForFile(t.name)]}),e._v(" "),n("span",{attrs:{title:t.name}},[e._v(e._s(t.name))])]),e._v(" "),n("div",{staticClass:"table-part-item part-item-path"},[n("span",{attrs:{title:t.fullName}},[e._v(e._s(t.fullName))])]),e._v(" "),n("div",{staticClass:"table-part-item part-item-size"},[n("span",[e._v(e._s(e.convertInfoItem("size",t.size)))])]),e._v(" "),n("div",{staticClass:"table-part-item part-item-type"},["CUSTOM_DIR"===t.artifactoryType?n("span",[e._v("自定义仓库")]):e._e(),e._v(" "),"PIPELINE"===t.artifactoryType?n("span",[e._v("流水线仓库")]):e._e()]),e._v(" "),n("div",{staticClass:"table-part-item part-item-handler"},[e.hasPermission?n("i",{staticClass:"bk-icon icon-new-download handler-btn",attrs:{title:"下载"},on:{click:function(n){return e.requestUrl(t,"download")}}}):e._e(),e._v(" "),"ipafile"!==e.extForFile(t.name)&&"apkfile"!==e.extForFile(t.name)||!e.hasPermission?e._e():n("span",{staticClass:"handler-btn-tool qrcode"},[n("i",{staticClass:"bk-icon icon-qrcode handler-btn",attrs:{id:"partviewqrcode",title:"二维码"},on:{click:function(n){return e.requestUrl(t,"url",i)}}}),e._v(" "),t.display?n("p",{directives:[{name:"bkloading",rawName:"v-bkloading",value:{isLoading:!e.curIndexItemUrl,title:""},expression:"{\n                                isLoading: !curIndexItemUrl,\n                                title: ''\n                            }"}],staticClass:"qrcode-box"},[n("qrcode",{staticClass:"qrcode-view",attrs:{text:e.curIndexItemUrl,size:100}})],1):e._e()]),e._v(" "),e.hasPermission?e._e():n("bk-popover",{attrs:{placement:"left"}},[n("i",{staticClass:"bk-icon icon-new-download disabled-btn"}),e._v(" "),n("template",{slot:"content"},[n("p",[e._v(" 你没有该流水线的下载构件权限，无法下载")])])],2)],1)])})),0)]):e._e(),e._v(" "),e.showContent&&!e.partList.length?n("div",{staticClass:"artifactory-empty"},[e._m(1)]):e._e(),e._v(" "),n("bk-sideslider",{staticClass:"artifactory-side-slider",attrs:{"is-show":e.sideSliderConfig.show,title:e.sideSliderConfig.title,"quick-close":e.sideSliderConfig.quickClose,width:e.sideSliderConfig.width},on:{"update:isShow":function(t){return e.$set(e.sideSliderConfig,"show",t)},"update:is-show":function(t){return e.$set(e.sideSliderConfig,"show",t)}}},[n("template",{slot:"content"},[e.sideSliderConfig.show&&e.sideSliderConfig.data?n("div",{directives:[{name:"bkloading",rawName:"v-bkloading",value:{isLoading:e.sideSliderConfig.isLoading},expression:"{\n                    isLoading: sideSliderConfig.isLoading\n                }"}],staticClass:"artifactory-slider-info"},[n("bk-tab",{attrs:{active:"detailInfo",type:"unborder-card"}},[n("bk-tab-panel",{attrs:{name:"detailInfo",label:"基础信息"}},[n("div",{staticClass:"detail-info"},[n("div",{staticClass:"detail-info-label"},[n("span",[e._v("Info")])]),e._v(" "),n("ul",e._l(e.sideSliderConfig.detailData.info,(function(t,i){return e.lastClickItem.folder&&"size"===t.key?e._e():n("li",{key:"detail"+i},[n("span",{staticClass:"bk-lable"},[e._v(e._s(t.name)+"：")]),e._v(" "),n("span",[e._v(e._s("name"===t.key?e.sideSliderConfig.data[t.key]||e.lastClickItem.name:e.convertInfoItem(t.key,e.sideSliderConfig.data[t.key])))])])})),0)]),e._v(" "),e.lastClickItem.folder?e._e():n("div",{staticClass:"detail-info"},[n("div",{staticClass:"detail-info-label"},[n("span",[e._v("Checksums")])]),e._v(" "),n("ul",e._l(e.sideSliderConfig.data.checksums,(function(t,i){return n("li",{key:"checksums"+i},[n("span",{staticClass:"bk-lable"},[e._v(e._s(i.toUpperCase())+"：")]),e._v(" "),n("span",[e._v(e._s(t))])])})),0)])]),e._v(" "),e.lastClickItem.folder?e._e():n("bk-tab-panel",{attrs:{name:"metaDate",label:"元数据"}},[Object.keys(e.sideSliderConfig.data.meta).length?n("table",{staticClass:"bk-table has-thead-bordered has-table-striped"},[n("thead",[n("tr",[n("th",[e._v("属性键")]),e._v(" "),n("th",[e._v("属性值")])])]),e._v(" "),n("tbody",e._l(e.sideSliderConfig.data.meta,(function(t,i){return n("tr",{key:"meta"+i},[n("td",[e._v(e._s(i))]),e._v(" "),n("td",[e._v(e._s(e.convertInfoItem(i,t)))])])})),0)]):n("div",[n("div",{staticStyle:{"text-align":"center",padding:"30px 0"}},[e._v("暂无元数据")])])])],1)],1):e._e()])],2)],1)},a=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"table-head"},[n("div",{staticClass:"table-part-item part-item-name"},[e._v("构件名称")]),e._v(" "),n("div",{staticClass:"table-part-item part-item-path"},[e._v("路径")]),e._v(" "),n("div",{staticClass:"table-part-item part-item-size"},[e._v("文件大小")]),e._v(" "),n("div",{staticClass:"table-part-item part-item-type"},[e._v("仓库类型")]),e._v(" "),n("div",{staticClass:"table-part-item part-item-handler"},[e._v("操作")])])},function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"no-data-right"},[t("img",{attrs:{src:n("tNV3")}}),this._v(" "),t("p",[this._v("暂时没有任何构件")])])}];i._withStripped=!0,n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return a}))},GZWC:function(e,t,n){"use strict";var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"svnpath-item"},[n("vuex-input",e._b({},"vuex-input",e.$props,!1)),e._v(" "),e.fullPath?n("span",{staticClass:"view-input-path"},[e._v("代码真实拉取路径："+e._s(e.fullPath))]):e._e()],1)},a=[];i._withStripped=!0,n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return a}))},GbUh:function(e,t,n){},"Go+F":function(e,t,n){"use strict";var i=n("Ck/w");n.n(i).a},GrJD:function(e,t,n){"use strict";var i=function(){var e=this.$createElement;return(this._self._c||e)("bk-date-picker",{staticClass:"atom-date-picker",attrs:{type:this.dateType,value:this.date,disabled:this.disabled,"start-date":this.start},on:{change:this.handleDateChange}})},a=[];i._withStripped=!0,n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return a}))},H0V5:function(e,t,n){"use strict";var i=n("HDVp");n.n(i).a},HDVp:function(e,t,n){},HGO8:function(e,t,n){"use strict";n.r(t);var i=n("1CGP"),a=n.n(i);for(var r in i)"default"!==r&&function(e){n.d(t,e,(function(){return i[e]}))}(r);t.default=a.a},HJb0:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=s(n("tZmG")),a=s(n("snOE")),r=s(n("q7rD"));function s(e){return e&&e.__esModule?e:{default:e}}t.default={name:"user-input",mixins:[r.default],props:{name:{type:String,default:""},value:{type:String,default:""},placeholder:{type:String,default:""},disabled:{type:Boolean,default:!1}},data:function(){return{curInsertVal:""}},watch:{curInsertVal:function(e){e.length&&(this.$refs.staffInput.style.width=20*e.length+"px")}},methods:{changeInputValue:function(e,t){this.curInsertVal=t},input:function(e){e.preventDefault();var t=e.target.value;this.changeInputValue(this.name,t)},paste:function(e){var t=this;e.preventDefault();var n=e.clipboardData.getData("text");try{var i=[],a=n.split(";");(a=a.filter((function(e){return e&&!t.value.includes(e)}))).forEach((function(e){i.push(e)})),i.length&&this.selectList(i,"batch")}catch(e){this.$showTips({message:e.message||e,theme:"error"})}},hideAll:function(e){e.preventDefault(),this.handleValue(e.target.value)},handleValue:function(e){var t=this;setTimeout((function(){var n=[],i=e.trim().split(",");(i=i.filter((function(e){return e&&e.trim()}))).forEach((function(e){n.push(e)})),(n=n.filter((function(e){return-1===t.value.indexOf(e)}))).length&&t.selectList(n,"batch"),t.changeInputValue(t.name,""),t.$refs.staffInput&&(t.$refs.staffInput.style.width="10px")}),100)},keydown:function(e){var t=void 0,n=e.keyCode,i=this.$refs.selectEditor.childNodes,a=this.getSiteInfo(i);switch(n){case 8:case 46:if(0!==parseInt(a.index)&&(t=a.temp[a.index-1].innerText,!this.curInsertVal.length)){this.deleteItem(this.name,a.index,t);var r=i[i.length-1];this.insertAfter(this.$refs.staffInput,r),this.$refs.staffInput.focus()}break;case 37:if(!this.curInsertVal.length){if(parseInt(a.index)>1){var s=i[parseInt(a.index)-2];this.insertAfter(this.$refs.staffInput,s),this.$refs.staffInput.value="",this.$refs.staffInput.style.width="10px"}else{var o=this.$refs.selectEditor.getElementsByTagName("span");this.$refs.selectEditor.insertBefore(this.$refs.staffInput,o[0])}this.$refs.staffInput.focus()}break;case 39:if(!this.curInsertVal.length){var u=i[parseInt(a.index)+1];this.insertAfter(this.$refs.staffInput,u),this.$refs.staffInput.focus()}break;case 13:this.handleValue(this.curInsertVal);break;case 27:this.showList=!1}},selectList:function(e,t){this.changeInputValue(this.name,e);var n=this.$refs.selectEditor.childNodes,i=this.getSiteInfo(n);this.setValue(this.name,i.index,e,t);var a=n[n.length-1];this.insertAfter(this.$refs.staffInput,a),this.$refs.staffInput.focus()},setValue:function(e,t,n,i){var r=[];r=[].concat((0,a.default)(this.value.slice(0,t)),i?(0,a.default)(n):[n],(0,a.default)(this.value.slice(t,this.value.length))),this.handleChange(this.name,r),this.changeInputValue(this.name,"")},deleteItem:function(e,t,n){var i=[].concat((0,a.default)(this.value.slice(0,t-1)),(0,a.default)(this.value.slice(t,this.value.length)));this.handleChange(this.name,i)},resetInput:function(){var e=this.$refs.selectEditor.childNodes,t=this.getSiteInfo(e);if(t.index!==t.temp.length){var n=e[e.length-1];this.insertAfter(this.$refs.staffInput,n)}},toEdit:function(e){this.$refs.staffInput.focus()},selectInfo:function(e,t){this.insertAfter(this.$refs.staffInput,e.target)},getSiteInfo:function(e){for(var t={index:0,temp:[]},n=0;n<e.length;n++){var a=e[n];(3!==a.nodeType||/\S/.test(a.nodeValue))&&t.temp.push(a)}return(0,i.default)(t.temp).forEach((function(e){"staffInput"===t.temp[e].id&&(t.index=e)})),t},insertAfter:function(e,t){var n=t.parentNode;n.lastChild===t?n.appendChild(e):n.insertBefore(e,t.nextSibling)}}}},HWDF:function(e,t,n){"use strict";n.r(t);var i=n("DGp5"),a=n.n(i);for(var r in i)"default"!==r&&function(e){n.d(t,e,(function(){return i[e]}))}(r);t.default=a.a},I3lh:function(e,t,n){"use strict";n.r(t);var i=n("mw7t"),a=n("SnaD");for(var r in a)"default"!==r&&function(e){n.d(t,e,(function(){return a[e]}))}(r);var s=n("psIG"),o=Object(s.a)(a.default,i.a,i.b,!1,null,null,null);o.options.__file="src/components/devops/qrcode/index.vue",t.default=o.exports},I7u8:function(e,t,n){"use strict";n.r(t);var i=n("A/X8"),a=n("lPuA");for(var r in a)"default"!==r&&function(e){n.d(t,e,(function(){return a[e]}))}(r);n("U5+p");var s=n("psIG"),o=Object(s.a)(a.default,i.a,i.b,!1,null,null,null);o.options.__file="src/components/Stages/Stage.vue",t.default=o.exports},IknT:function(e,t,n){},Ixaf:function(e,t,n){},JDfl:function(e,t,n){"use strict";n.r(t);var i=n("U7Yr"),a=n.n(i);for(var r in i)"default"!==r&&function(e){n.d(t,e,(function(){return i[e]}))}(r);t.default=a.a},JcWF:function(e,t,n){"use strict";n.r(t);var i=n("qWfG"),a=n.n(i);for(var r in i)"default"!==r&&function(e){n.d(t,e,(function(){return i[e]}))}(r);t.default=a.a},Jp3z:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i,a=n("q7rD"),r=(i=a)&&i.__esModule?i:{default:i};t.default={mixins:[r.default],props:{name:{type:String,required:!0},value:{type:Array,required:!0,default:""}},data:function(){return{weeks:["日","一","二","三","四","五","六"],normalTime:"",error:!1,selectedWeek:[]}},created:function(){this.value&&this.setExp(this.value)},methods:{prezero:function(e){return(e=Number(e))<10?"0"+e:e},setExp:function(e){var t=this;if(e.length){var n=[];e&&e.map((function(e){var i=e.split(" ");n.push(t.prezero(i[2])+":"+t.prezero(i[1])),t.selectedWeek=i[5].split(",").map((function(e){return Number(e)}))})),n&&(this.normalTime=n.join(","))}},isSelectedWeek:function(e){return this.selectedWeek.indexOf(e)>-1},getExp:function(){var e=this;this.error=!1;var t=[],n=this.selectedWeek.join(",");if(n){var i=[],a=this.normalTime||"00:00";if(a){if(!a.match(/\d{1,2}:\d{1,2}(,\d{1,2}:\d{1,2})*$/))return void(this.error=!0);(i=a.split(","))&&i.map((function(i){var a=i.split(":");2===a.length?t.push("0 "+Number(a[1])+" "+Number(a[0])+" ? * "+n):e.error=!0}))}}!this.error&&this.handleUpdateElement(this.name,t)},toggleWeek:function(e){this.isSelectedWeek(e)?this.selectedWeek=this.selectedWeek.filter((function(t){return t!==e})):this.selectedWeek.push(e),this.getExp()},resetSelectedWeek:function(){this.selectedWeek=[],this.normalTime="",this.getExp()},changeTimes:function(e){var t=e.target.value.trim();this.$emit("input",t),this.normalTime=t,this.getExp()},handleUpdateElement:function(e,t){this.handleChange(e,t)}}}},JsCa:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=l(n("snOE")),a=l(n("06Hw")),r=l(n("YYXh")),s=l(n("q7rD")),o=l(n("a7YV")),u=l(n("qz5Q"));function l(e){return e&&e.__esModule?e:{default:e}}t.default={name:"staff-input",components:{customSelector:o.default},mixins:[s.default],props:{value:{type:Array,required:!0,default:function(){return[]}},disabled:{type:Boolean,default:!1},placeholder:{type:String,default:""}},data:function(){return{isLoading:!1,curInsertVal:"",list:[],initData:[]}},computed:{projectId:function(){return this.$route.params.projectId},dataInputConfig:function(){return{initData:this.initData||[],data:this.list||[],onChange:this.onChange}}},watch:{value:function(e){this.list=this.initData.filter((function(t){return!e.includes(t)}))}},created:function(){var e=this;return(0,r.default)(a.default.mark((function t(){return a.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.getList();case 2:case"end":return t.stop()}}),t,e)})))()},methods:{getList:function(){var e=this;return(0,r.default)(a.default.mark((function t(){var n;return a.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n="/backend/api/ci/projects/users/"+e.projectId+"/",t.prev=1,t.next=4,u.default.get(""+AJAX_URL_PIRFIX+n).then((function(e){return e.data.data}));case 4:t.sent.map((function(t){e.initData.push(t),e.list.push(t)})),e.$nextTick((function(){e.value.forEach((function(t){e.list=e.list.filter((function(e){return-1===e.indexOf(t)}))}))})),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(1),e.$showTips({message:t.t0.message?t.t0.message:t.t0,theme:"error"});case 12:case"end":return t.stop()}}),t,e,[[1,9]])})))()},onChange:function(e,t){this.handleValueChange("value",t)},handleValueChange:function(e,t){this.curInsertVal=t},setValue:function(e,t,n,a){var r=[];r=[].concat((0,i.default)(this.value.slice(0,t)),a?(0,i.default)(n):[n],(0,i.default)(this.value.slice(t,this.value.length))),this.handleChange(this.name,r),this.curInsertVal=""},deleteItem:function(e,t,n){/^\$\{(.*)\}$/.test(n)||this.list.push(n);var a=[].concat((0,i.default)(this.value.slice(0,t-1)),(0,i.default)(this.value.slice(t,this.value.length)));this.handleChange(this.name,a)}}}},"Kjy/":function(e,t,n){"use strict";n.r(t);var i=n("zLKB"),a=n("wRBT");for(var r in a)"default"!==r&&function(e){n.d(t,e,(function(){return a[e]}))}(r);n("6Q0D");var s=n("psIG"),o=Object(s.a)(a.default,i.a,i.b,!1,null,null,null);o.options.__file="src/components/ContainerPropertyPanel/BuildParams.vue",t.default=o.exports},Kkf7:function(e,t,n){},Kpgs:function(e,t,n){},L7i6:function(e,t,n){"use strict";var i=n("WaYU");n.n(i).a},Lbrp:function(e,t,n){"use strict";n.r(t);var i=n("6DnL"),a=n.n(i);for(var r in i)"default"!==r&&function(e){n.d(t,e,(function(){return i[e]}))}(r);t.default=a.a},LfKL:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i,a=n("q7rD"),r=(i=a)&&i.__esModule?i:{default:i};t.default={name:"atom-checkbox",mixins:[r.default],props:{value:{type:Boolean,required:!0,default:!1},text:{type:String},desc:{type:String,default:!1},title:{type:String,default:!1}},methods:{handleSwitch:function(e){var t=this.name;(0,this.handleChange)(t,e)}}}},LiOO:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={name:"pipeline-log",props:{buildNo:{type:String,required:!0},buildNum:{type:Number,required:!0},buildTag:{type:String,default:""},showExport:{type:Boolean,default:!1},executeCount:{type:Number,default:1}},data:function(){return{showTime:!1,showCountMenu:!1,isLogMore:!1,currentCount:1}},computed:{logUrl:function(){var e=this.$route.params;return AJAX_URL_PIRFIX+"/log/api/user/logs/"+e.projectId+"/"+e.pipelineId},downloadUrl:function(){var e=this.logUrl,t=this.buildNo,n=this.buildTag;return e+"/"+t+"/download"+(n?"?tag="+n:"")}},watch:{buildNo:function(e,t){e&&this.renderLog(e)},buildTag:function(e,t){this.renderLog(this.buildNo)},showTime:function(e,t){this.renderLog(this.buildNo)}},created:function(){this.addClickListenr()},beforeDestroy:function(){this._destroyLog(),this.removeClickListenr()},mounted:function(){this.currentCount=this.executeCount,this.buildNo&&this.renderLog(this.buildNo)},methods:{renderLog:function(e){window.SodaLog.render(this.$refs.logContainer,this.logUrl,e,this.showTime,this.buildTag,this.currentCount)},_destroyLog:function(){window.SodaLog.unMount(this.$refs.logContainer)},addClickListenr:function(){document.addEventListener("mouseup",this.clickMenuHandler)},removeClickListenr:function(){document.removeEventListener("mouseup",this.clickMenuHandler)},toggleCountMenu:function(){this.isLogMore=this.showCountMenu=!this.showCountMenu},clickMenuHandler:function(e){-1===e.target.className.indexOf("log-menu")&&(this.showCountMenu=this.isLogMore=!1)},handleCurrentCount:function(e){e!==this.currentCount&&(this.currentCount=e,this.renderLog(this.buildNo),this.isLogMore=this.showCountMenu=!1)}}}},LvMd:function(e,t,n){"use strict";n.r(t);var i=n("LiOO"),a=n.n(i);for(var r in i)"default"!==r&&function(e){n.d(t,e,(function(){return i[e]}))}(r);t.default=a.a},M27C:function(e,t,n){"use strict";n.r(t);var i=n("NsHu"),a=n("0Q91");for(var r in a)"default"!==r&&function(e){n.d(t,e,(function(){return a[e]}))}(r);n("ic+k");var s=n("psIG"),o=Object(s.a)(a.default,i.a,i.b,!1,null,null,null);o.options.__file="src/components/atomFormField/groupIdSelector/index.vue",t.default=o.exports},MHHB:function(e,t,n){"use strict";var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("section",{staticClass:"pipeline-logs"},[n("div",{staticClass:"options-log"},[e.executeCount>1?n("a",{staticClass:"log-count-menu dropdown-menu-more",attrs:{href:"javascript:;"}},[n("div",{staticClass:"dropdown-trigger",on:{click:function(t){return t.stopPropagation(),e.toggleCountMenu(t)}}},[n("span",{staticClass:"log-menu"},[e._v("（"+e._s(e.currentCount+"/"+e.executeCount)+"\n                    "),n("i",{class:["bk-icon icon-angle-down log-menu",{"icon-flip":e.isLogMore}],attrs:{id:"toggleIcon"}}),e._v("）\n                ")])]),e._v(" "),e.showCountMenu?n("div",{staticClass:"dropdown-list"},[n("ul",{staticClass:"list-wrapper"},e._l(e.executeCount,(function(t){return n("li",{key:t,class:["log-item-text log-menu",{active:t===e.currentCount}],on:{click:function(n){return n.stopPropagation(),e.handleCurrentCount(t)}}},[e._v(e._s(t))])})),0)]):e._e()]):e._e(),e._v(" "),n("bk-button",{staticClass:"showtime-log",attrs:{size:"small",theme:e.showTime?"primary":"default"},on:{click:function(t){t.stopPropagation(),e.showTime=!e.showTime}}},[e._v("\n            显示时间\n        ")]),e._v(" "),e.showExport?n("a",{staticClass:"bk-button bk-button-small export-log",attrs:{download:"",href:e.downloadUrl}},[e._v("导出日志")]):e._e()],1),e._v(" "),n("div",{ref:"logContainer",attrs:{buildNo:e.buildNo}})])},a=[];i._withStripped=!0,n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return a}))},MIuF:function(e,t,n){"use strict";n.r(t);var i=n("bI9q"),a=n("0gSy");for(var r in a)"default"!==r&&function(e){n.d(t,e,(function(){return a[e]}))}(r);n("SsCw");var s=n("psIG"),o=Object(s.a)(a.default,i.a,i.b,!1,null,null,null);o.options.__file="src/views/subpages/exec_detail.vue",t.default=o.exports},MMoO:function(e,t,n){"use strict";n.r(t);var i=n("Qv5w"),a=n("9WKU");for(var r in a)"default"!==r&&function(e){n.d(t,e,(function(){return a[e]}))}(r);n("wgB3");var s=n("psIG"),o=Object(s.a)(a.default,i.a,i.b,!1,null,null,null);o.options.__file="src/components/atomFormField/Accordion/index.vue",t.default=o.exports},"MS/s":function(e,t,n){"use strict";n.r(t);var i=n("Eg1K"),a=n.n(i);for(var r in i)"default"!==r&&function(e){n.d(t,e,(function(){return i[e]}))}(r);t.default=a.a},MkV0:function(e,t,n){"use strict";var i=n("Ixaf");n.n(i).a},"N7+c":function(e,t,n){"use strict";n.r(t);var i=n("kPdS"),a=n.n(i);for(var r in i)"default"!==r&&function(e){n.d(t,e,(function(){return i[e]}))}(r);t.default=a.a},"NCi+":function(e,t,n){"use strict";var i=n("EoWJ");n.n(i).a},ND4a:function(e,t,n){"use strict";n.r(t);var i=n("9Lja"),a=n("3B4/");for(var r in a)"default"!==r&&function(e){n.d(t,e,(function(){return a[e]}))}(r);var s=n("psIG"),o=Object(s.a)(a.default,i.a,i.b,!1,null,null,null);o.options.__file="src/components/common/multiple-complete/index.vue",t.default=o.exports},NR4k:function(e,t,n){},NR86:function(e,t,n){"use strict";n.r(t);var i=n("DrOC"),a=n("c9m7");for(var r in a)"default"!==r&&function(e){n.d(t,e,(function(){return a[e]}))}(r);n("8fJT");var s=n("psIG"),o=Object(s.a)(a.default,i.a,i.b,!1,null,null,null);o.options.__file="src/components/atomFormField/AtomCheckboxList/index.vue",t.default=o.exports},Naye:function(e,t,n){"use strict";n.r(t);var i=n("Yb1Q"),a=n.n(i);for(var r in i)"default"!==r&&function(e){n.d(t,e,(function(){return i[e]}))}(r);t.default=a.a},NeHY:function(e,t,n){var i={"./batchfile":"xejF","./json":"IESA","./powershell":"md2X","./python":"/4tD","./sh":"RaR5","./text":"/FLw"};function a(e){var t=r(e);return n(t)}function r(e){if(!n.o(i,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return i[e]}a.keys=function(){return Object.keys(i)},a.resolve=r,e.exports=a,a.id="NeHY"},NoJb:function(e,t,n){"use strict";var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"cron-trigger-week"},[n("div",{staticClass:"cron-build-week"},[n("span",[e._v("每周")]),e._v(" "),n("ul",e._l(e.weeks,(function(t,i){return n("li",{key:i,staticClass:"week-item",class:{"cur-item":e.isSelectedWeek(i+1)},on:{click:function(t){return e.toggleWeek(i+1)}}},[n("label",[e._v(e._s(t))])])})),0)]),e._v(" "),n("div",{staticClass:"cron-build-time"},[n("span",[e._v("触发于")]),e._v(" "),n("input",{staticClass:"bk-form-input",attrs:{disabled:e.disabled,type:"text",placeholder:"多个触发时间可以用英文逗号分隔，比如09:00,15:30，为空的时候默认为00:00"},domProps:{value:e.normalTime},on:{change:e.changeTimes}}),e._v(" "),e.error?n("div",{staticClass:"bk-form-help is-danger"},[e._v("触发时间格式有误，请用英文逗号分隔，如09:00,15:30")]):e._e()])])},a=[];i._withStripped=!0,n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return a}))},NrBn:function(e,t,n){"use strict";n.r(t);var i=n("Ygbu"),a=n.n(i);for(var r in i)"default"!==r&&function(e){n.d(t,e,(function(){return i[e]}))}(r);t.default=a.a},NsHu:function(e,t,n){"use strict";var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"code-mode-check bk-form"},[n("div",{staticClass:"bk-form-item"},[[e.label?n("label",{staticClass:"bk-label"},[e._v(e._s(e.label)+"：")]):e._e(),e._v(" "),e.desc?n("bk-popover",{attrs:{theme:"light",placement:e.descDirection}},[n("i",{staticClass:"bk-icon",class:[e.iconClass?e.iconClass:"icon-info-circle"]}),e._v(" "),n("div",{staticStyle:{"white-space":"pre-wrap","font-weight":"normal"},attrs:{slot:"content"},slot:"content"},[n("div",[e._v(e._s(e.desc))])])]):e._e(),e._v(" "),n("div",{staticClass:"bk-form-content"},[n("multiple-complete",{attrs:{name:e.name,type:"text",value:e.value,disabled:e.disabled,placeholder:e.placeholder,config:e.dataInputConfig}})],1)]],2)])},a=[];i._withStripped=!0,n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return a}))},NwYm:function(e,t,n){"use strict";var i=n("ZQCD");n.n(i).a},NzHB:function(e,t,n){},OrOA:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={name:"svg-logo",props:{name:String,size:{type:[String,Number],default:24}}}},Pfde:function(e,t,n){"use strict";var i=n("kXUh");n.n(i).a},PoQr:function(e,t,n){"use strict";var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("section",{staticStyle:{"pointer-events":"all"}},[n("div",{class:["ace-fullscreen",{active:e.isFullScreen}],attrs:{alt:"全屏",title:"全屏"},on:{click:e.setFullScreen}},[n("i",{staticClass:"bk-icon",class:e.isFullScreen?"icon-un-full-screen":"icon-full-screen"})]),e._v(" "),n("ace",{staticClass:"ace-wrapper",attrs:{"read-only":e.disabled,value:e.value,lang:e.lang,name:e.name,"full-screen":e.isFullScreen,height:e.height,width:"100%"},on:{input:e.handleScriptInput}})],1)},a=[];i._withStripped=!0,n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return a}))},PrK5:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=u(n("Kz1y")),a=u(n("06Hw")),r=u(n("YYXh")),s=u(n("q7rD")),o=u(n("eI+G"));function u(e){return e&&e.__esModule?e:{default:e}}t.default={components:{VuexInput:o.default},mixins:[s.default],props:{value:{type:Object,default:[]}},data:function(){return{paramList:[]}},watch:{value:function(e){this.paramList=e}},created:function(){var e=this;return(0,r.default)(a.default.mark((function t(){return a.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.paramList=e.value;case 1:case"end":return t.stop()}}),t,e)})))()},methods:{handleParamChange:function(e,t){var n={key:e,value:t};this.paramList.map((function(t,a){t.key.toString()===e&&(0,i.default)(t,n)})),this.handleChange(this.name,this.paramList)}}}},QMMY:function(e,t,n){},QuxH:function(e,t,n){"use strict";n.r(t);var i=n("o+lK"),a=n("Yyzj");for(var r in a)"default"!==r&&function(e){n.d(t,e,(function(){return a[e]}))}(r);n("L7i6");var s=n("psIG"),o=Object(s.a)(a.default,i.a,i.b,!1,null,null,null);o.options.__file="src/components/Stages/StatusIcon.vue",t.default=o.exports},Qv5w:function(e,t,n){"use strict";var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{class:{"soda-accordion":!0,"is-danger":e.isError,showCheckbox:e.showCheckbox}},[n("header",{staticClass:"header",attrs:{active:e.isShow},on:{click:e.toggleContent}},[n("i",{staticClass:"bk-icon icon-angle-down"}),e._v(" "),e._t("header")],2),e._v(" "),n("transition",{attrs:{name:"slideLeft"}},[e.condition?n("section",[e.isShow?n("section",{staticClass:"content"},[e._t("content")],2):e._e()]):n("section",[n("section",{directives:[{name:"show",rawName:"v-show",value:e.isShow,expression:"isShow"}],staticClass:"content"},[e._t("content")],2)])])],1)},a=[];i._withStripped=!0,n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return a}))},Qx9U:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=c(n("/9Wh")),a=c(n("TcPG")),r=c(n("Kz1y")),s=n("WIBD"),o=c(n("WyVq")),u=c(n("0w5d")),l=n("GBhW");function c(e){return e&&e.__esModule?e:{default:e}}t.default={name:"job-mutual",mixins:[o.default,u.default],props:{mutexGroup:{type:Object,default:{}},disabled:{type:Boolean,default:!1},updateContainerParams:{type:Function,required:!0}},computed:{optionModel:function(){return l.JOB_MUTUAL||{}},enableMutual:function(){return this.mutexGroup&&this.mutexGroup.enable}},created:function(){this.disabled||this.initOptionConfig()},methods:(0,r.default)({},(0,s.mapActions)("atom",["setPipelineEditing"]),{getJobOptionDefault:l.getJobOptionDefault,handleUpdateJobMutual:function(e,t){this.setPipelineEditing(!0),this.updateContainerParams("mutexGroup",(0,r.default)(this.mutexGroup||{},(0,a.default)({},e,t)))},toggleMutual:function(e){var t=e.target.checked;this.handleUpdateJobMutual("enable",t)},initOptionConfig:function(){void 0!==this.mutexGroup&&"{}"!==(0,i.default)(this.mutexGroup)||this.updateContainerParams("mutexGroup",this.getJobOptionDefault(l.JOB_MUTUAL))}})}},RFNH:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i,a=n("tq5z"),r=(i=a)&&i.__esModule?i:{default:i};t.default={props:{text:{type:String,required:!0},size:{type:Number,required:!1,default:128},color:{type:String,required:!1,default:"#000"},bgColor:{type:String,required:!1,default:"#FFF"}},data:function(){return{qrCode:{}}},watch:{text:function(e){this.clear(),e&&this.makeCode(e)}},mounted:function(){this.qrCode=new r.default(this.$refs.qrcode,{text:this.text,width:this.size,height:this.size,colorDark:this.color,colorLight:this.bgColor})},methods:{clear:function(){this.qrCode.clear()},makeCode:function(e){this.qrCode.makeCode(e)}}}},RKWf:function(e,t,n){},RoC8:function(e,t,n){e.exports=n("y7ft")(546)},RrVk:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={name:"accordion",props:{afterToggle:Function,showContent:{type:Boolean,default:!1},showCheckbox:{type:Boolean,default:!1},isError:{type:Boolean,default:!1},isVersion:{type:Boolean,default:!1},condition:{type:Boolean,default:!1}},data:function(){return{isShow:this.showContent}},watch:{showContent:function(e){this.isShow=e}},methods:{toggleContent:function(){this.isVersion?this.isShow=this.showContent?!this.isShow:this.isShow:this.isShow=!this.isShow,"function"==typeof this.afterToggle&&this.afterToggle(this.$el,this.isShow)}}}},"Rv+a":function(e,t,n){"use strict";n.r(t);var i=n("unRz"),a=n("nUQc");for(var r in a)"default"!==r&&function(e){n.d(t,e,(function(){return a[e]}))}(r);n("535c");var s=n("psIG"),o=Object(s.a)(a.default,i.a,i.b,!1,null,null,null);o.options.__file="src/components/Stages/StageContainer.vue",t.default=o.exports},S5WF:function(e,t,n){"use strict";n.r(t);var i=n("5SYA"),a=n("GGV7");for(var r in a)"default"!==r&&function(e){n.d(t,e,(function(){return a[e]}))}(r);n("Yrzj");var s=n("psIG"),o=Object(s.a)(a.default,i.a,i.b,!1,null,null,null);o.options.__file="src/components/outputOption/thirdParty_report.vue",t.default=o.exports},S6TM:function(e,t,n){"use strict";var i=n("CSB3");n.n(i).a},SAjW:function(e,t,n){"use strict";var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{directives:[{name:"bk-clickoutside",rawName:"v-bk-clickoutside",value:e.handleBlur,expression:"handleBlur"}],staticClass:"select-input"},[n("input",e._b({ref:"inputArea",staticClass:"bk-form-input",attrs:{disabled:e.disabled||e.loading,title:e.value,autocomplete:"off"},on:{input:e.handleInput,focus:e.handleFocus,keypress:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:(t.preventDefault(),e.handleEnterOption(t))},keydown:[function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"up",38,t.key,["Up","ArrowUp"])?null:(t.preventDefault(),e.handleKeyup(t))},function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"down",40,t.key,["Down","ArrowDown"])?null:(t.preventDefault(),e.handleKeydown(t))},function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"tab",9,t.key,"Tab")?null:(t.preventDefault(),e.handleBlur(t))}]}},"input",e.restProps,!1)),e._v(" "),e.loading?n("i",{staticClass:"bk-icon icon-circle-2-1 option-fetching-icon spin-icon"}):!e.disabled&&e.value?n("i",{staticClass:"bk-icon icon-close-circle-shape option-fetching-icon",on:{click:function(t){return t.stopPropagation(),e.clearValue(t)}}}):e._e(),e._v(" "),n("div",{directives:[{name:"show",rawName:"v-show",value:e.hasOption&&e.optionListVisible&&!e.loading,expression:"hasOption && optionListVisible && !loading"}],ref:"dropMenu",staticClass:"dropbox-container"},[n("ul",e._l(e.filteredList,(function(t,i){return n("li",{key:t.id,class:{active:t.id===e.value,selected:e.selectedPointer===i},attrs:{disabled:t.disabled,title:t.name},on:{click:function(n){return n.stopPropagation(),e.selectOption(t)},mouseover:function(t){return e.setSelectPointer(i)}}},[e._v("\n                "+e._s(t.name)+"\n            ")])})),0)])])},a=[];i._withStripped=!0,n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return a}))},SJhp:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=o(n("06Hw")),a=o(n("YYXh")),r=o(n("q7rD")),s=o(n("eI+G"));function o(e){return e&&e.__esModule?e:{default:e}}t.default={name:"svnpath-input",components:{VuexInput:s.default},mixins:[r.default],props:{repositoryHashId:{type:String},value:{type:String},list:{type:Array,default:[]}},data:function(){return{fullPath:"",rootPath:""}},computed:{projectId:function(){return this.$route.params.projectId}},watch:{value:function(e){this.fullPath="",e&&this.rootPath&&this.setFullPath(this.rootPath,e)},rootPath:function(e){this.fullPath="",e&&this.value&&this.setFullPath(e,this.value)},repositoryHashId:function(e){this.rootPath="",this.setRootPath(e)},list:{deep:!0,handler:function(e,t){(""===this.rootPath||0===t.length)&&this.repositoryHashId&&this.setRootPath(this.repositoryHashId)}}},created:function(){var e=this;return(0,a.default)(i.default.mark((function t(){return i.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.repositoryHashId&&e.list.length&&e.setRootPath(e.repositoryHashId);case 1:case"end":return t.stop()}}),t,e)})))()},methods:{setRootPath:function(e){var t=this.list.filter((function(t){return t.repositoryHashId===e}));t.length&&(this.rootPath=t[0].url||"")},setFullPath:function(e,t){this.fullPath=e.replace(/\/$/,"")+"/"+t.replace(/^\//,"")}}}},SOFi:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i,a=n("tZmG"),r=(i=a)&&i.__esModule?i:{default:i};t.default={name:"container-app-selector",props:{apps:{type:Object,default:function(){return{}},required:!0},disabled:{type:Boolean,default:!1},handleChange:{type:Function,required:!1},envs:{type:Object},app:{type:String},version:{type:String},removeContainerApp:{type:Function},addContainerApp:{type:Function}},computed:{isLoading:function(){return!this.apps},appList:function(){var e=this.envs?(0,r.default)(this.envs):[];return this.isLoading?[]:(0,r.default)(this.apps).map((function(t){return{id:t,name:t,disalbed:e.indexOf(t)>-1}}))},versionList:function(){var e=this.app,t=this.apps;return t[e]?t[e].versions.map((function(e){return{id:e,name:e}})):[]}},methods:{handleAppSelector:function(e){this.handleChange(this.app,e,"")},handleVersionSelector:function(e){this.handleChange(this.app,this.app,e)}}}},SnaD:function(e,t,n){"use strict";n.r(t);var i=n("RFNH"),a=n.n(i);for(var r in i)"default"!==r&&function(e){n.d(t,e,(function(){return i[e]}))}(r);t.default=a.a},SsCw:function(e,t,n){"use strict";var i=n("im/W");n.n(i).a},SuKS:function(e,t,n){"use strict";n.r(t);var i=n("5An/"),a=n("AfBu");for(var r in a)"default"!==r&&function(e){n.d(t,e,(function(){return a[e]}))}(r);n("S6TM");var s=n("psIG"),o=Object(s.a)(a.default,i.a,i.b,!1,null,null,null);o.options.__file="src/components/ContainerPropertyPanel/index.vue",t.default=o.exports},Syue:function(e,t,n){"use strict";var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"bk-tag-selector"},[n("input",{staticClass:"bk-form-input",attrs:{type:"text",autocomplete:"off",name:e.name,placeholder:e.placeholder},domProps:{value:e.selectedText},on:{input:e.input,mousedown:e.focus,blur:e.hideAll}}),e._v(" "),n("div",{directives:[{name:"show",rawName:"v-show",value:(e.showList||e.openList)&&e.localList.length,expression:"(showList || openList) && localList.length"}],staticClass:"bk-selector-list"},[n("ul",e._l(e.list,(function(t,i){return n("li",{key:i,staticClass:"bk-selector-list-item",class:e.activeClass(i),on:{click:function(n){return n.stopPropagation(),e.selectList(t)}}},[n("div",{staticClass:"bk-selector-node"},[n("div",{staticClass:"text"},[e._v(e._s(t[e.displayKey]))])])])})),0)])])},a=[];i._withStripped=!0,n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return a}))},TAzd:function(e,t,n){"use strict";var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"container-app-selector"},[n("bk-select",{attrs:{searchable:"",clearable:!1,disabled:e.disabled,loading:e.isLoading,value:e.app},on:{selected:e.handleAppSelector}},e._l(e.appList,(function(e){return n("bk-option",{key:e.id,attrs:{id:e.id,name:e.name,disabled:e.disalbed}})})),1),e._v(" "),n("bk-select",{attrs:{searchable:"",disabled:e.disabled,value:e.version},on:{selected:e.handleVersionSelector}},e._l(e.versionList,(function(e){return n("bk-option",{key:e.id,attrs:{id:e.id,name:e.name}})})),1),e._v(" "),e.addContainerApp&&!e.disabled?n("i",{staticClass:"bk-icon icon-plus",on:{click:e.addContainerApp}}):e._e(),e._v(" "),e.removeContainerApp&&!e.disabled?n("i",{staticClass:"bk-icon icon-minus",on:{click:function(t){return e.removeContainerApp(e.app)}}}):e._e()],1)},a=[];i._withStripped=!0,n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return a}))},TMp7:function(e,t,n){"use strict";var i=function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"experience-input"},[t("vuex-input",this._b({},"vuex-input",this.$props,!1)),this._v(" "),t("span",{staticClass:"experience-input-link",on:{click:this.goToArtifactory}},[this._v("查看仓库")])],1)},a=[];i._withStripped=!0,n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return a}))},Te0k:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={props:{title:{type:String,default:""},desc:{type:String,default:""},btns:{type:Array,default:function(){return[]}}}}},"U5+p":function(e,t,n){"use strict";var i=n("QMMY");n.n(i).a},U7Yr:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=r(n("eI+G")),a=r(n("q7rD"));function r(e){return e&&e.__esModule?e:{default:e}}t.default={name:"experience-input",components:{VuexInput:i.default},mixins:[a.default],props:{placeholder:String},computed:{artifactoryUrl:function(){return WEB_URL_PIRFIX+"/artifactory/"}},methods:{goToArtifactory:function(){window.open(this.artifactoryUrl,"_blank")}}}},"UR+t":function(e,t,n){"use strict";n.r(t);var i=n("3s8N"),a=n.n(i);for(var r in i)"default"!==r&&function(e){n.d(t,e,(function(){return i[e]}))}(r);t.default=a.a},UfR3:function(e,t,n){"use strict";n.r(t);var i=n("OrOA"),a=n.n(i);for(var r in i)"default"!==r&&function(e){n.d(t,e,(function(){return i[e]}))}(r);t.default=a.a},"V/Qv":function(e,t,n){},VBMx:function(e,t,n){"use strict";n.r(t);var i=n("LfKL"),a=n.n(i);for(var r in i)"default"!==r&&function(e){n.d(t,e,(function(){return i[e]}))}(r);t.default=a.a},Vu1e:function(e,t,n){"use strict";n.r(t);var i=n("1RIp"),a=n("EzRg");for(var r in a)"default"!==r&&function(e){n.d(t,e,(function(){return a[e]}))}(r);n("AV3R");var s=n("psIG"),o=Object(s.a)(a.default,i.a,i.b,!1,null,null,null);o.options.__file="src/components/PipelineEditTabs/VerticalTab.vue",t.default=o.exports},Vu7B:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=g(n("TcPG")),a=g(n("tZmG")),r=g(n("Kz1y")),s=n("WIBD"),o=g(n("i7/w")),u=g(n("eI+G")),l=g(n("xBA8")),c=g(n("32o7")),d=g(n("1ZCx")),p=g(n("iBXJ")),f=g(n("Kjy/")),h=g(n("iLMM")),m=g(n("lwuc")),v=g(n("ewgn"));function g(e){return e&&e.__esModule?e:{default:e}}t.default={name:"container-property-panel",components:{VuexInput:u.default,FormField:c.default,ContainerAppSelector:d.default,BuildParams:f.default,VersionConfig:h.default,ContainerEnvNode:p.default,JobOption:m.default,JobMutual:v.default,Selector:l.default},props:{containerIndex:Number,stageIndex:Number,stages:Array,editable:Boolean},data:function(){return{DOCS_URL_PREFIX:DOCS_URL_PREFIX}},computed:(0,r.default)({},(0,s.mapGetters)("atom",["getAppEnvs","getContainerApps","getContainer","getContainers","getStage","isVmContainer","isTriggerContainer","isNormalContainer","getBuildResourceTypeList","execDetail","getContainerModalId","isThirdPartyContainer","isPublicResource","isDockerBuildResource"]),(0,s.mapState)("soda",["tstackWhiteList"]),{appEnvs:function(){return this.getAppEnvs(this.container.baseOS)},routeName:function(){return this.$route.name},projectId:function(){return this.$route.params.projectId},pipelineId:function(){return this.$route.params.pipelineId},buildId:function(){return this.$route.params.buildNo},stage:function(){var e=this.stageIndex,t=this.stages;return this.getStage(t,e)},containers:function(){var e=this.stage;return(0,this.getContainers)(e)},container:function(){var e=this.containers,t=this.containerIndex;return this.getContainer(e,t)},isPublicResourceType:function(){return this.isPublicResource(this.container)},isThirdParty:function(){return this.isThirdPartyContainer(this.container)},isDocker:function(){return this.isDockerBuildResource(this.container)},containerModalId:function(){var e=this.container.baseOS;return(0,this.getContainerModalId)(e)},hasBuildEnv:function(){return(0,a.default)(this.container.buildEnv).length>0},buildResourceType:function(){try{return this.container.dispatchType.buildType}catch(e){return""}},buildResource:function(){return this.container.dispatchType.value},apps:function(){var e=this.container.baseOS;return(0,this.getContainerApps)(e)},showDependencies:function(){var e=this,t=this.buildResourceTypeList.find((function(t){return t.type===e.buildResourceType}));return this.apps&&t&&t.enableApp},buildResourceTypeList:function(){var e=this.container.baseOS;return(0,this.getBuildResourceTypeList)(e)},containerAppList:function(){var e=this.apps,t=this.container.buildEnv,n=(0,a.default)(t);return(0,a.default)(e).filter((function(e){return!n.includes(e)}))},enableExt:function(){return this.$store.state.curProject.enableExternal||!1}}),watch:{errors:{deep:!0,handler:function(e,t){var n=e.any();this.handleContainerChange("isError",n)}}},created:function(){var e=this.container;this.isTriggerContainer(e)&&void 0===this.container.templateParams&&o.default.set(e,"templateParams",[]),this.isTriggerContainer(e)&&void 0===this.container.buildNo&&o.default.set(e,"buildNo",null),this.isTriggerContainer(e)||void 0!==this.container.jobControlOption||o.default.set(e,"jobControlOption",{}),this.isTriggerContainer(e)||void 0!==this.container.mutexGroup||o.default.set(e,"mutexGroup",{})},methods:(0,r.default)({},(0,s.mapActions)("atom",["updateContainer","deleteContainer","deleteStage"]),{setContainerValidate:function(e,t){var n=this.errors;e&&e.length&&e.map((function(e){n&&n.items.every((function(t){return t.field!==e.field}))&&n.add({field:e.field,msg:e.msg})})),t&&t.length&&t.map((function(e){return n.remove(e.field)}));var i=!!n.items.length;this.handleContainerChange("isError",i)},handleDelete:function(){var e=this.containerIndex,t=this.containers,n=this.stageIndex,i=this.stages;1===t.length?this.deleteStage({stageIndex:n,stages:i}):this.deleteContainer({containerIndex:e,containers:t})},changeBuildResource:function(e,t){var n="buildType"===e?{value:""}:{};this.handleContainerChange("dispatchType",(0,r.default)((0,r.default)({},this.container.dispatchType,(0,i.default)({},e,t)),n)),this.handleContainerChange("buildEnv",{})},handleContainerChange:function(e,t){this.updateContainer({container:this.container,newParam:(0,i.default)({},e,t)})},addContainerApp:function(){var e=this.container,t=this.containerAppList[0];this.handleContainerChange("buildEnv",(0,r.default)({},e.buildEnv,(0,i.default)({},t,"")))},removeContainerApp:function(e){var t=this.container;delete t.buildEnv[e],this.handleContainerChange("buildEnv",(0,r.default)({},t.buildEnv))},handleContainerAppChange:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",i=this.container.buildEnv,a=this.apps;e!==t&&i.hasOwnProperty(e)&&delete i[e],i[t]=n||a[t][0],this.handleContainerChange("buildEnv",(0,r.default)({},i))},appBinPath:function(e,t){var n=this.container.baseOS,i=this.apps[t];return i?"LINUX"===n?"export PATH=/data/bkdevops/apps/"+t+"/"+e+"/"+i.binPath+":$PATH":"export PATH=/data/soda/apps/"+t+"/"+e+"/"+i.binPath+":$PATH":""},appEnvPath:function(e,t,n){return"LINUX"===this.container.baseOS?"export "+n.name+"=/data/bkdevops/apps/"+t+"/"+e+"/"+n.path:"export "+n.name+"=/data/soda/apps/"+t+"/"+e+"/"+n.path},addThridSlave:function(){var e=WEB_URL_PIRFIX+"/environment/"+this.projectId+"/nodeList?type="+this.container.baseOS;window.open(e,"_blank")},addDockerImage:function(){var e=WEB_URL_PIRFIX+"/artifactory/"+this.projectId+"/depot/project-image";window.open(e,"_blank")}})}},VyPk:function(e,t,n){},WaYU:function(e,t,n){},Wav7:function(e,t,n){"use strict";n.r(t);var i=n("zg3u"),a=n("5myS");for(var r in a)"default"!==r&&function(e){n.d(t,e,(function(){return a[e]}))}(r);n("cRv7");var s=n("psIG"),o=Object(s.a)(a.default,i.a,i.b,!1,null,null,null);o.options.__file="src/components/atomFormField/CodeModeSelector/index.vue",t.default=o.exports},WlEA:function(e,t,n){"use strict";var i=n("V/Qv");n.n(i).a},WyVq:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var _defineProperty2=__webpack_require__("TcPG"),_defineProperty3=_interopRequireDefault(_defineProperty2),_extends2=__webpack_require__("Kz1y"),_extends3=_interopRequireDefault(_extends2),_vuex=__webpack_require__("WIBD"),_Accordion=__webpack_require__("MMoO"),_Accordion2=_interopRequireDefault(_Accordion),_EnumInput=__webpack_require__("ZdkB"),_EnumInput2=_interopRequireDefault(_EnumInput),_VuexInput=__webpack_require__("eI+G"),_VuexInput2=_interopRequireDefault(_VuexInput),_ExperienceInput=__webpack_require__("vl+a"),_ExperienceInput2=_interopRequireDefault(_ExperienceInput),_VuexTextarea=__webpack_require__("7rx2"),_VuexTextarea2=_interopRequireDefault(_VuexTextarea),_Selector=__webpack_require__("xBA8"),_Selector2=_interopRequireDefault(_Selector),_AtomAceEditor=__webpack_require__("+K0d"),_AtomAceEditor2=_interopRequireDefault(_AtomAceEditor),_week=__webpack_require__("9GO0"),_week2=_interopRequireDefault(_week),_StaffInput=__webpack_require__("0wh+"),_StaffInput2=_interopRequireDefault(_StaffInput),_UserInput=__webpack_require__("Bny8"),_UserInput2=_interopRequireDefault(_UserInput),_RequestSelector=__webpack_require__("9XOw"),_RequestSelector2=_interopRequireDefault(_RequestSelector),_GitRequestSelector=__webpack_require__("woXs"),_GitRequestSelector2=_interopRequireDefault(_GitRequestSelector),_AtomCheckbox=__webpack_require__("h/YL"),_AtomCheckbox2=_interopRequireDefault(_AtomCheckbox),_AtomCheckboxList=__webpack_require__("NR86"),_AtomCheckboxList2=_interopRequireDefault(_AtomCheckboxList),_AtomDatePicker=__webpack_require__("48Ig"),_AtomDatePicker2=_interopRequireDefault(_AtomDatePicker),_CodeModeSelector=__webpack_require__("Wav7"),_CodeModeSelector2=_interopRequireDefault(_CodeModeSelector),_CodeModeInput=__webpack_require__("1h3O"),_CodeModeInput2=_interopRequireDefault(_CodeModeInput),_ParamsView=__webpack_require__("DkEz"),_ParamsView2=_interopRequireDefault(_ParamsView),_SvnpathInput=__webpack_require__("kvDO"),_SvnpathInput2=_interopRequireDefault(_SvnpathInput),_KeyValue=__webpack_require__("c1uh"),_KeyValue2=_interopRequireDefault(_KeyValue),_KeyValueNormal=__webpack_require__("YuEV"),_KeyValueNormal2=_interopRequireDefault(_KeyValueNormal),_NameSpaceVar=__webpack_require__("aCvm"),_NameSpaceVar2=_interopRequireDefault(_NameSpaceVar),_RouteTips=__webpack_require__("kKM+"),_RouteTips2=_interopRequireDefault(_RouteTips),_FormField=__webpack_require__("32o7"),_FormField2=_interopRequireDefault(_FormField),_groupIdSelector=__webpack_require__("M27C"),_groupIdSelector2=_interopRequireDefault(_groupIdSelector),_RemoteCurlUrl=__webpack_require__("Aii4"),_RemoteCurlUrl2=_interopRequireDefault(_RemoteCurlUrl),_AutoComplete=__webpack_require__("/wRU"),_AutoComplete2=_interopRequireDefault(_AutoComplete),_util=__webpack_require__("ygAv");function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}var atomMixin={props:{elementIndex:Number,containerIndex:Number,stageIndex:Number,element:Object,container:Object,stage:Object,atomPropsModel:Object,setAtomValidate:Function,atomValue:Object,disabled:Boolean},components:{Accordion:_Accordion2.default,RemoteCurlUrl:_RemoteCurlUrl2.default,VuexInput:_VuexInput2.default,VuexTextarea:_VuexTextarea2.default,EnumInput:_EnumInput2.default,Selector:_Selector2.default,AtomAceEditor:_AtomAceEditor2.default,CronTimer:_week2.default,StaffInput:_StaffInput2.default,UserInput:_UserInput2.default,RequestSelector:_RequestSelector2.default,GitRequestSelector:_GitRequestSelector2.default,AtomCheckbox:_AtomCheckbox2.default,AtomCheckboxList:_AtomCheckboxList2.default,FormField:_FormField2.default,AtomDatePicker:_AtomDatePicker2.default,CodeModeSelector:_CodeModeSelector2.default,CodeModeInput:_CodeModeInput2.default,ExperienceInput:_ExperienceInput2.default,ParamsView:_ParamsView2.default,SvnpathInput:_SvnpathInput2.default,KeyValue:_KeyValue2.default,KeyValueNormal:_KeyValueNormal2.default,NameSpaceVar:_NameSpaceVar2.default,RouteTips:_RouteTips2.default,GroupIdSelector:_groupIdSelector2.default,AutoComplete:_AutoComplete2.default},computed:(0,_extends3.default)({},(0,_vuex.mapGetters)("atom",["isThirdPartyContainer"]),{isThirdParty:function(){return this.isThirdPartyContainer(this.container)}}),methods:(0,_extends3.default)({},(0,_vuex.mapActions)("atom",["updateAtomInput","updateAtomOutput","updateAtomOutputNameSpace","updateAtom","deleteAtomProps"]),{deletePropKey:function(e){this.deleteAtomProps({element:this.element,propKey:e})},handleUpdateElement:function(e,t){this.updateAtom({element:this.element,newParam:(0,_defineProperty3.default)({},e,t)})},handleUpdateAtomInput:function(e,t){this.updateAtomInput({atom:this.element,newParam:(0,_defineProperty3.default)({},e,t)})},handleUpdateAtomOutput:function(e,t){this.updateAtomOutput({atom:this.element,newParam:(0,_defineProperty3.default)({},e,t)})},handleUpdateAtomOutputNameSpace:function(e,t){this.updateAtomOutputNameSpace((0,_defineProperty3.default)({atom:this.element},e,t))},handlePath:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(e.startsWith("./")&&(e=e.slice(2)),e.endsWith("/")&&(e=e.substring(0,e.length-1)),t&&e){var n=e.lastIndexOf("/");e=e.substring(n+1,e.length)}return e},isHidden:function isHidden(obj,element){var isHidden=eval("("+obj.isHidden+")");return"function"==typeof isHidden?isHidden(element):"boolean"==typeof obj.hidden?obj.hidden:"boolean"==typeof isHidden&&isHidden},getPlaceholder:function getPlaceholder(obj,element){if(obj.getPlaceholder){var getPlaceholder=eval("("+obj.getPlaceholder+")");return"function"==typeof getPlaceholder?getPlaceholder(element):""}return obj.placeholder||""},getComponentTips:function getComponentTips(obj,element){var tips=eval("("+obj.tips+")");return"function"==typeof tips?tips(element,_util.urlJoin,this.handlePath):{visible:!1}},rely:function(e,t){try{var n=e.rely,i=n.expression,a=void 0===i?[]:i,r=n.operation,s=function(e){var n=e.key,i=e.value;return Array.isArray(i)?void 0!==t[n]&&i.includes(t[n]):t[n]===i};switch(void 0===r?"AND":r){case"AND":return a.every(s);case"OR":return!(a.length>0)||a.some(s);default:return!0}}catch(e){return!0}}})};exports.default=atomMixin},WzoQ:function(e,t,n){"use strict";var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"code-mode-check bk-form-row bk-form"},[n("div",{staticClass:"bk-form-inline-item",class:{"is-required":e.required}},[n("label",{staticClass:"bk-label"},[e._v(e._s(e.text)+"：")]),e._v(" "),n("div",{staticClass:"bk-form-content"},[n("enum-input",{attrs:{list:e.gitPullModes,disabled:e.noPermission,name:"type","handle-change":e.handleModeChange,value:e.gitPullModeType}})],1)]),e._v(" "),n("div",{staticClass:"bk-form-inline-item",class:{"is-required":e.required}},[e.gitPullModeType?[n("label",{staticClass:"bk-label"},[e._v(e._s(e.gitPullModeList[e.gitPullModeType].label)+"：")]),e._v(" "),n("div",{staticClass:"bk-form-content"},[n("vuex-input",{attrs:{disabled:e.noPermission,placeholder:e.gitPullModeList[e.gitPullModeType].placeholder,name:"value","handle-change":e.handleValueChange,value:e.gitPullModeVal}})],1)]:e._e()],2)])},a=[];i._withStripped=!0,n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return a}))},XNUb:function(e,t,n){"use strict";n.r(t);var i=n("vtTT"),a=n.n(i);for(var r in i)"default"!==r&&function(e){n.d(t,e,(function(){return i[e]}))}(r);t.default=a.a},XPi0:function(e,t,n){"use strict";var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"bk-tag-selector staff-selector",class:{"disable-status":e.disabled}},[e.selectedList.length||e.value.length?e._e():n("span",{staticClass:"staff-placeholder"},[e._v(e._s(e.placeholder))]),e._v(" "),n("div",{staticClass:"select-tags",on:{click:e.toEdit}},[n("div",{ref:"selectEditor",staticClass:"select-editor"},[e._l(e.selectedList,(function(t,i){return n("span",{key:i,staticClass:"tag-info",on:{click:function(n){return e.selectInfo(n,t)}}},[e._v(e._s(t))])})),e._v(" "),n("input",{ref:"staffInput",staticClass:"bk-tag-input form-input",attrs:{type:"text",id:"staffInput",autocomplete:"off",name:e.name},domProps:{value:e.value},on:{input:e.input,keydown:e.keydown,mousedown:e.mousedown,paste:e.paste,blur:e.hideAll}})],2)]),e._v(" "),n("div",{directives:[{name:"show",rawName:"v-show",value:e.showList&&e.list.length,expression:"showList && list.length"}],staticClass:"bk-selector-list"},[n("ul",{ref:"selectorList",staticClass:"outside-ul"},e._l(e.list,(function(t,i){return n("li",{key:i,staticClass:"bk-selector-list-item",on:{click:function(n){return n.stopPropagation(),e.selectList(t)}}},[n("div",{staticClass:"bk-selector-node",class:e.activeClass(i)},[n("span",{staticClass:"text"},[e._v(e._s(t))])])])})),0)])])},a=[];i._withStripped=!0,n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return a}))},Yb1Q:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=u(n("06Hw")),a=u(n("Kz1y")),r=u(n("YYXh")),s=u(n("q7rD")),o=u(n("xBA8"));function u(e){return e&&e.__esModule?e:{default:e}}t.default={components:{Selector:o.default},mixins:[s.default],props:{hasAddItem:{type:Boolean,default:!1},itemText:{type:String,default:"关联代码库"},itemTargetUrl:{type:String,default:"/codelib/{projectId}/"},searchable:{type:Boolean,default:!0},url:{type:String,default:""},paramId:{type:String,default:"id"},paramName:{type:String,default:"name"},tools:{type:Boolean,default:!1},placeholder:{type:String,default:"请选择"},multiSelect:{type:Boolean,default:!1},setNoUsePermission:{type:Function,default:function(){}}},data:function(){return{isLoading:!1,list:[],webUrl:WEB_URL_PIRFIX}},computed:{projectId:function(){return this.$route.params.projectId}},created:function(){this.freshList()},destroyed:function(){this.setNoUsePermission(!1)},methods:{edit:function(e){var t=this.list[e].repositoryHashId||"",n=this.list[e].type||"",i=this.list[e].groupHashId||"";if(t){var a=WEB_URL_PIRFIX+"/codelib/"+this.projectId+"/"+t+"/"+n;window.open(a,"_blank")}else if(i){var r=WEB_URL_PIRFIX+"/experience/"+this.projectId+"/setting/?groupId="+i;window.open(r,"_blank")}},toggleVisible:function(e){e&&this.freshList()},urlParse:function(e,t){return new Function("ctx","return '"+e.replace(/\{(.*?)\}/g,"'+ ctx.$1 +'")+"'")(t)},freshList:function(){var e=this;return(0,r.default)(i.default.mark((function t(){var n,r,s,o;return i.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,n=e.url,r=e.$route.params,s=e.urlParse(n,r),e.isLoading=!0,t.next=7,e.$ajax.get(s);case 7:o=t.sent,e.list=(o.data.records||o.data||[]).map((function(t){return(0,a.default)({},t,{id:t[e.paramId],name:t[e.paramName]})})),e.multiSelect?(e.value=e.value.length?e.value:[],e.value.map((function(t){""!==t&&0===e.list.filter((function(e){return e.id===t})).length&&e.list.splice(0,0,{id:t,name:"******（无权限查看）"})}))):""!==e.value&&0===e.list.filter((function(t){return t.id===e.value})).length?(e.setNoUsePermission(!0),e.list.splice(0,0,{id:e.value,name:"******（无权限查看）"})):e.setNoUsePermission(!1),e.$emit("change",e.list),t.next=16;break;case 13:t.prev=13,t.t0=t.catch(0),e.$showTips({message:t.t0.message,theme:"error"});case 16:return t.prev=16,e.isLoading=!1,t.finish(16);case 19:case"end":return t.stop()}}),t,e,[[0,13,16,19]])})))()}}}},Yfpw:function(e,t,n){},Ygbu:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n("ygAv");t.default={name:"code-record-table",props:{commitList:{type:Array,default:[]},label:{type:String,default:""}},computed:{hasCommitList:function(){return Array.isArray(this.commitList)&&this.commitList.length>0},firstCommit:function(){return this.hasCommitList?this.commitList[0]:""},lastCommit:function(){var e=this.commitList.length;return this.hasCommitList&&e>0?this.commitList[e-1]:""}},methods:{formatTimeColumn:function(e){return e.commitTime?(0,i.convertTime)(e.commitTime):"--"},formatCommitId:function(e){return e&&"string"==typeof e?e.slice(0,8):"--"}}}},YiFe:function(e,t,n){},Yrzj:function(e,t,n){"use strict";var i=n("GFJo");n.n(i).a},YuEV:function(e,t,n){"use strict";n.r(t);var i=n("nXrI"),a=n("pRQp");for(var r in a)"default"!==r&&function(e){n.d(t,e,(function(){return a[e]}))}(r);n("CPVx");var s=n("psIG"),o=Object(s.a)(a.default,i.a,i.b,!1,null,null,null);o.options.__file="src/components/atomFormField/KeyValueNormal/index.vue",t.default=o.exports},YybZ:function(e,t,n){"use strict";var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"sub-build-params"},[n("ul",{directives:[{name:"bkloading",rawName:"v-bkloading",value:{isLoading:e.isLoading},expression:"{ isLoading: isLoading }"}]},[e.paramList.length?e._l(e.paramList,(function(t){return n("li",{key:t.id,staticClass:"param-item"},[n("div",[n("vuex-input",{attrs:{disabled:!0,name:"key",value:t.id}})],1),e._v(" "),n("span",[e._v("=")]),e._v(" "),n("div",[n("select-input",e._b({attrs:{name:t.id,value:e.paramValues[t.id],disabled:e.disabled,type:"text",placeholder:"请输入参数"}},"select-input",e.dataInputConfig(t),!1))],1)])})):n("li",{staticClass:"param-item-empty"},[n("span",[e._v("该子流水线没有任何参数")])])],2)])},a=[];i._withStripped=!0,n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return a}))},Yyzj:function(e,t,n){"use strict";n.r(t);var i=n("tPz6"),a=n.n(i);for(var r in i)"default"!==r&&function(e){n.d(t,e,(function(){return i[e]}))}(r);t.default=a.a},ZOaD:function(e,t,n){},ZQCD:function(e,t,n){},ZjzD:function(e,t,n){},ZnsG:function(e,t,n){"use strict";n.r(t);var i=n("4Xl5"),a=n("zR1R");for(var r in a)"default"!==r&&function(e){n.d(t,e,(function(){return a[e]}))}(r);var s=n("psIG"),o=Object(s.a)(a.default,i.a,i.b,!1,null,null,null);o.options.__file="src/components/outputOption/IframeReport.vue",t.default=o.exports},ZzwQ:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=d(n("OBCi")),a=d(n("tZmG")),r=d(n("06Hw")),s=d(n("YYXh")),o=d(n("Kz1y")),u=n("WIBD"),l=n("ygAv"),c=n("Vgl9");function d(e){return e&&e.__esModule?e:{default:e}}t.default={computed:(0,o.default)({},(0,u.mapGetters)({pipelineList:"pipelines/getPipelineList",tagGroupList:"pipelines/getTagGroupList",curPipeline:"pipelines/getCurPipeline",isEditing:"atom/isEditing",checkPipelineInvalid:"atom/checkPipelineInvalid"}),(0,u.mapState)("pipelines",["pipelineSetting","pipelineAuthority"]),(0,u.mapState)("atom",["pipeline","executeStatus","saveStatus"]),{projectId:function(){return this.$route.params.projectId},pipelineId:function(){return this.$route.params.pipelineId},longProjectId:function(){return this.$store.state.curProject.project_id||""},isTemplatePipeline:function(){return this.curPipeline&&this.curPipeline.instanceFromTemplate}}),methods:(0,o.default)({},(0,u.mapActions)("pipelines",{requestPipelinesList:"requestPipelinesList",requestExecPipeline:"requestExecPipeline",requestToggleCollect:"requestToggleCollect",removePipeline:"deletePipeline",copyPipelineAction:"copyPipeline",updatePipelineSetting:"updatePipelineSetting"}),(0,u.mapActions)("atom",["setPipelineEditing","setExecuteStatus","setSaveStatus"]),{fetchPipelineList:function(){var e=this;return(0,s.default)(r.default.mark((function t(){var n,i,a,s;return r.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,n=e.pipelineId,i=e.requestPipelinesList,a=e.projectId,t.next=4,i({projectId:a,tag:"pipelines",page:1,pageSize:-1});case 4:s=t.sent,e.$store.commit("pipelines/updatePipelineList",s.records),e.$nextTick((function(){e.updateCurPipelineId(n)})),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),e.$showTips({message:t.t0.message||t.t0,theme:"error"});case 12:case"end":return t.stop()}}),t,e,[[0,9]])})))()},togglePipelineCollect:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return(0,s.default)(r.default.mark((function i(){return r.default.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.prev=0,i.next=3,t.requestToggleCollect({projectId:t.projectId,pipelineId:e,isCollect:n});case 3:t.$showTips({message:n?"收藏成功":"取消收藏成功",theme:"success"}),t.fetchPipelineList(),i.next=10;break;case 7:i.prev=7,i.t0=i.catch(0),t.$showTips({message:i.t0.message||i.t0,theme:"error"});case 10:case"end":return i.stop()}}),i,t,[[0,7]])})))()},terminatePipeline:function(e){var t=this;return(0,s.default)(r.default.mark((function n(){var i,a,s,o;return r.default.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(i=t.$store,a=t.projectId,s=t.pipelineList.find((function(t){return t.pipelineId===e})),(o=s.feConfig).buttonAllow.terminatePipeline){n.next=5;break}return n.abrupt("return");case 5:return o.buttonAllow.terminatePipeline=!1,n.prev=6,n.next=9,i.dispatch("pipelines/requestTerminatePipeline",{projectId:a,pipelineId:e,buildId:o.buildId||s.latestBuildId});case 9:t.updatePipelineValueById(e,{isRunning:!1,status:"known_error"}),n.next=15;break;case 12:n.prev=12,n.t0=n.catch(6),403===n.t0.code?t.setPermissionConfig("流水线："+s.pipelineName,"执行",s.pipelineId):t.$showTips({message:n.t0.message||n.t0,theme:"error"});case 15:return n.prev=15,o.buttonAllow.terminatePipeline=!0,n.finish(15);case 18:case"end":return n.stop()}}),n,t,[[6,12,15,18]])})))()},delete:function(e){var t=this,n=e.pipelineId,i=e.pipelineName;return(0,s.default)(r.default.mark((function e(){var a,s,o;return r.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=void 0,s=void 0,o="删除【"+i+"】流水线",e.prev=2,e.next=5,(0,l.navConfirm)({title:"确认删除",content:o});case 5:return e.next=7,t.removePipeline({projectId:t.projectId,pipelineId:n});case 7:t.$router.push({name:"pipelinesList"}),a="删除流水线成功",s="success",e.next=15;break;case 12:e.prev=12,e.t0=e.catch(2),403===e.t0.code?t.setPermissionConfig("流水线："+i,"删除",t.projectId,n):(a=e.t0.message||e.t0,s="error");case 15:return e.prev=15,a&&t.$showTips({message:a,theme:s}),e.finish(15);case 18:case"end":return e.stop()}}),e,t,[[2,12,15,18]])})))()},copy:function(e,t){var n=this;return(0,s.default)(r.default.mark((function i(){var a,s,u,l,c,d;return r.default.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:if(a=n.projectId,s=n.copyPipelineAction,u=n.pipelineList,l="",c="",d=u.find((function(e){return e.pipelineId===t})),i.prev=4,e.name){i.next=7;break}throw new Error("流水线名称不能为空");case 7:return i.next=9,s({projectId:a,pipelineId:t,args:(0,o.default)({},e,{group:d.group,hasCollect:!1})});case 9:l="复制成功",c="success",n.$nextTick((function(){n.fetchPipelineList()})),i.next=17;break;case 14:i.prev=14,i.t0=i.catch(4),403===i.t0.code?n.setPermissionConfig("流水线："+d.pipelineName,"编辑",a,d.pipelineId):(l=i.t0.message||i.t0,c="error");case 17:return i.prev=17,l&&n.$showTips({message:l,theme:c}),i.finish(17);case 20:case"end":return i.stop()}}),i,n,[[4,14,17,20]])})))()},rename:function(e,t,n){var i=e.name,o=this;return(0,s.default)(r.default.mark((function e(){var s,u;return r.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(s="",u="",e.prev=2,i){e.next=5;break}throw new Error("流水线名称不能为空");case 5:return e.next=7,o.$ajax.post("/"+c.PROCESS_API_URL_PREFIX+"/user/pipelines/"+t+"/"+n,{name:i});case 7:o.$nextTick((function(){o.fetchPipelineList(),o.pipelineSetting&&(0,a.default)(o.pipelineSetting).length&&o.updatePipelineSetting({container:o.pipelineSetting,param:{pipelineName:i}})})),s="修改流水线名称成功",u="success",e.next=15;break;case 12:e.prev=12,e.t0=e.catch(2),403===e.t0.code?o.setPermissionConfig("流水线："+o.curPipeline.pipelineName,"编辑",t,o.curPipeline.pipelineId):(s=e.t0.message||e.t0,u="error");case 15:return e.prev=15,s&&o.$showTips({message:s,theme:u}),e.finish(15);case 18:case"end":return e.stop()}}),e,o,[[2,12,15,18]])})))()},executePipeline:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return(0,s.default)(r.default.mark((function i(){var a,s,o,u,l,c,d;return r.default.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return a=void 0,s=void 0,o=t.projectId,u=t.pipelineId,l=t.requestExecPipeline,c=t.setExecuteStatus,i.prev=2,c(!0),i.next=6,l({projectId:o,params:e,pipelineId:u});case 6:(d=i.sent).id?(a="启动构建成功",s="success",n&&t.$router.push({name:"pipelinesDetail",params:{projectId:o,pipelineId:u,buildNo:d.id}})):(a="启动构建失败",s="error"),i.next=13;break;case 10:i.prev=10,i.t0=i.catch(2),403===i.t0.code?t.setPermissionConfig("流水线："+t.curPipeline.pipelineName,"执行",t.projectId,u):(a=i.t0.message||i.t0,s="error");case 13:return i.prev=13,c(!1),a&&t.$showTips({message:a,theme:s}),i.finish(13);case 17:case"end":return i.stop()}}),i,t,[[2,10,13,17]])})))()},savePipeline:function(){var e=this.checkPipelineInvalid,t=this.projectId,n=this.pipelineId,i=this.pipeline,a=e(i.stages),r=a.inValid,s=a.message;if(r)throw new Error(s);return this.$ajax.put("/"+c.PROCESS_API_URL_PREFIX+"/user/pipelines/"+t+"/"+n,i)},getPipelineSetting:function(){var e=this.pipelineSetting,t=this.projectId;return(0,o.default)({},e,{projectId:t})},savePipelineSetting:function(){var e=this.$route,t=this.getPipelineSetting(),n="templateSetting"===e.name?"/"+c.PROCESS_API_URL_PREFIX+"/user/templates/projects/"+this.projectId+"/templates/"+this.templateId+"/settings":"/"+c.PROCESS_API_URL_PREFIX+"/user/setting/save",i="templateSetting"===e.name?"put":"post";return this.$ajax[i](n,t)},saveSetting:function(){var e=this.getPipelineSetting(),t=this.projectId,n=this.pipelineId;return this.$ajax.post("/"+c.PROCESS_API_URL_PREFIX+"/user/pipelines/"+t+"/"+n+"/saveSetting",e)},retry:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return(0,s.default)(r.default.mark((function i(){var a,s,u;return r.default.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return a=void 0,s=void 0,i.prev=1,i.next=4,t.$store.dispatch("pipelines/requestRetryPipeline",(0,o.default)({},t.$route.params,{buildId:e}));case 4:(u=i.sent).id?(a="重试成功",s="success",n&&t.$router.replace({name:"pipelinesDetail",params:{projectId:t.projectId,pipelineId:t.pipelineId,buildNo:u.id}}),t.$emit("update-table")):(a="重试失败",s="error"),i.next=17;break;case 8:if(i.prev=8,i.t0=i.catch(1),403!==i.t0.code){i.next=15;break}return t.setPermissionConfig("流水线："+t.curPipeline.pipelineName,"执行",t.$route.params.projectId,t.$route.params.pipelineId),i.abrupt("return");case 15:a=i.t0.message||i.t0,s="error";case 17:return i.prev=17,a&&t.$showTips({message:a,theme:s}),i.finish(17);case 20:case"end":return i.stop()}}),i,t,[[1,8,17,20]])})))()},savePipelineAndSetting:function(){var e=this;return(0,s.default)(r.default.mark((function t(){var n,i,a,s,u,l,d,p;return r.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=e.pipelineSetting,i=e.checkPipelineInvalid,a=e.$route,s=e.pipeline,u=i(s.stages),l=u.inValid,d=u.message,!l){t.next=4;break}throw new Error(d);case 4:return p=(0,o.default)({},n,{projectId:a.params.projectId}),t.abrupt("return",e.$ajax.post("/"+c.PROCESS_API_URL_PREFIX+"/user/pipelines/"+a.params.projectId+"/"+a.params.pipelineId+"/saveAll",{model:(0,o.default)({},s,{name:p.pipelineName,desc:p.desc}),setting:p}));case 6:case"end":return t.stop()}}),t,e)})))()},save:function(){var e=this;return(0,s.default)(r.default.mark((function t(){var n;return r.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,e.setSaveStatus(!0),n=e.isTemplatePipeline?e.saveSetting:e.savePipelineAndSetting,t.next=5,i.default.all([n()]);case 5:if(!t.sent.some((function(e){return 403===e.code}))){t.next=9;break}return e.setPermissionConfig("流水线："+e.pipeline.name,"编辑",e.$route.params.projectId,e.$route.params.pipelineId),t.abrupt("return",!1);case 9:return e.setPipelineEditing(!1),e.$showTips({message:"流水线保存成功",theme:"success"}),e.fetchPipelineList(),t.abrupt("return",!0);case 15:return t.prev=15,t.t0=t.catch(0),403===t.t0.code?e.setPermissionConfig("流水线："+e.pipeline.name,"编辑",e.$route.params.projectId,e.$route.params.pipelineId):e.$showTips({message:t.t0.message,theme:"error"}),t.abrupt("return",!1);case 19:return t.prev=19,e.setSaveStatus(!1),t.finish(19);case 22:case"end":return t.stop()}}),t,e,[[0,15,19,22]])})))()},saveAsPipelineTemplate:function(e,t,n){var i=this,a=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return(0,s.default)(r.default.mark((function s(){return r.default.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(r.prev=0,n){r.next=3;break}throw new Error("模板名称不能为空");case 3:return r.next=5,i.$ajax.post(c.PROCESS_API_URL_PREFIX+"/user/templates/projects/"+e+"/templates/saveAsTemplate",{pipelineId:t,templateName:n,copySetting:a});case 5:i.$showTips({message:"另存为模板成功",theme:"success"}),r.next=11;break;case 8:r.prev=8,r.t0=r.catch(0),403===r.t0.code?i.setPermissionConfig("流水线："+i.pipeline.name,"编辑",i.$route.params.projectId,i.$route.params.pipelineId):i.$showTips({message:r.t0.message,theme:"error"});case 11:case"end":return r.stop()}}),s,i,[[0,8]])})))()},setPermissionConfig:function(e,t,n,i){this.$showAskPermissionDialog({noPermissionList:[{resource:e,option:t}],applyPermissionUrl:PERM_URL_PIRFIX+"/backend/api/perm/apply/subsystem/?client_id=pipeline&project_code="+n+"&service_code=pipeline&"+("执行"===t?"role_executor":"role_manager")+"=pipeline:"+i})},updateCurPipelineId:function(e){for(var t=0;t<this.pipelineList.length;t++){var n=this.pipelineList[t];if(n.pipelineId===e)return void this.$store.commit("pipelines/updateCurPipeline",n)}},updateCurPipelineByKeyValue:function(e,t){this.$store.commit("pipelines/updateCurPipelineByKeyValue",{key:e,value:t})},changeProject:function(){this.$toggleProjectMenu(!0)},goToApplyPerm:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"role_viewer",t=PERM_URL_PIRFIX+"/backend/api/perm/apply/subsystem/?client_id=pipeline&project_code="+this.$route.params.projectId+"&service_code=pipeline&"+e+"=pipeline:"+this.$route.params.pipelineId;window.open(t,"_blank")}})}},a0nz:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i,a=n("q7rD"),r=(i=a)&&i.__esModule?i:{default:i};t.default={name:"atom-complete",mixins:[r.default],props:{name:{type:String,required:!0},value:{type:String},placeholder:{type:String,default:"请输入"},list:{type:Array,default:[]},displayKey:{type:String,default:""},settingKey:{type:String,default:""},openList:{type:Boolean,default:!1}},data:function(){return{showList:!1,focusList:"",localValue:"",localList:[]}},computed:{selectedText:function(){var e=this,t=this.list.find((function(t){if(t[e.settingKey]===e.value)return t}));return t?t[this.displayKey]:this.value}},watch:{list:function(e){this.getData()}},created:function(){this.getData()},methods:{input:function(e){this.showList=!0;var t=e.target.value;this.handleChange(this.name,t,!1),this.filterData(t)},hideAll:function(e){var t=this;setTimeout((function(){t.showList=!1;var n=e.target.value;t.localValue&&t.localValue!==n?t.handleChange(t.name,n,!0):t.handleChange(t.name,n,!1)}),250)},focus:function(e){var t=this;this.showList=!0,this.focusList=-1,this.localValue=this.value,this.value&&(this.filterData(this.value),this.localList.map((function(e,n){e===t.value&&(t.focusList=n)})))},mousemove:function(e){this.focusList=e},activeClass:function(e){return{"bk-selector-selected":e===this.focusList}},selectList:function(e){this.handleChange(this.name,e[this.settingKey],this.localValue!==e[this.settingKey])},filterData:function(e){var t=this;this.localList=this.list.filter((function(n){return n[t.displayKey].indexOf(e)>-1}))},getData:function(){this.localList=this.list}}}},a5dN:function(e,t,n){"use strict";var i=n("mcNi");n.n(i).a},a7YV:function(e,t,n){"use strict";n.r(t);var i=n("XPi0"),a=n("AU07");for(var r in a)"default"!==r&&function(e){n.d(t,e,(function(){return a[e]}))}(r);n("58Hg");var s=n("psIG"),o=Object(s.a)(a.default,i.a,i.b,!1,null,"55a66e6a",null);o.options.__file="src/components/common/custom-selector/index.vue",t.default=o.exports},aCvm:function(e,t,n){"use strict";n.r(t);var i=n("BDEw"),a=n("yElF");for(var r in a)"default"!==r&&function(e){n.d(t,e,(function(){return a[e]}))}(r);n("qDqU");var s=n("psIG"),o=Object(s.a)(a.default,i.a,i.b,!1,null,null,null);o.options.__file="src/components/atomFormField/NameSpaceVar/index.vue",t.default=o.exports},"bH+5":function(e,t,n){"use strict";n.r(t);var i=n("bXzj"),a=n.n(i);for(var r in i)"default"!==r&&function(e){n.d(t,e,(function(){return i[e]}))}(r);t.default=a.a},bI9q:function(e,t,n){"use strict";var i=function(){var e,t,n=this,i=n.$createElement,a=n._self._c||i;return a("section",{directives:[{name:"bkloading",rawName:"v-bkloading",value:{isLoading:n.isLoading||n.fetchingAtomList},expression:"{ isLoading: isLoading || fetchingAtomList }"}],staticClass:"pipeline-detail-wrapper"},[n.hasNoPermission?a("empty-tips",{attrs:{title:n.noPermissionTipsConfig.title,desc:n.noPermissionTipsConfig.desc,btns:n.noPermissionTipsConfig.btns}}):n.execDetail?[a("bk-tab",{staticClass:"bkdevops-pipeline-tab-card pipeline-detail-tab-card",attrs:{active:n.curItemTab,type:"unborder-card"},on:{"tab-change":n.switchTab}},[a("div",{staticClass:"pipeline-info",attrs:{slot:"setting"},slot:"setting"},[a("div",{staticClass:"info-item"},[a("span",{staticClass:"item-label"},[n._v("状态：")]),n._v(" "),"CANCELED"===n.execDetail.status?[a("span",{directives:[{name:"bk-tooltips",rawName:"v-bk-tooltips.light",value:"取消人："+n.execDetail.cancelUserId,expression:"`取消人：${execDetail.cancelUserId}`",modifiers:{light:!0}}],class:(e={},e[n.execDetail.status]=n.execDetail.status,e)},[n._v(n._s(n.statusMap[n.execDetail.status]))])]:a("span",{class:(t={},t[n.execDetail.status]=n.execDetail.status,t)},[n._v(n._s(n.statusMap[n.execDetail.status]))]),n._v(" "),n.showRetryIcon?a("i",{staticClass:"bk-icon icon-retry",attrs:{title:"重试"},on:{click:function(e){return e.stopPropagation(),n.retry(n.execDetail.id,!0)}}}):n._e()],2),n._v(" "),a("div",{staticClass:"info-item"},[a("span",{staticClass:"item-label"},[n._v("执行人：")]),n._v(" "),a("span",{staticClass:"trigger-mode"},[n._v(n._s(n.execDetail.userId||"--"))])]),n._v(" "),a("div",{staticClass:"info-item"},[a("span",{staticClass:"item-label"},[n._v("任务耗时：")]),n._v(" "),a("span",[n._v(n._s(n.execDetail.endTime?n.convertMStoStringByRule(n.execDetail.endTime-n.execDetail.startTime):"--"))])])]),n._v(" "),n._l(n.panels,(function(e){return a("bk-tab-panel",n._b({key:e.name,attrs:{"render-directive":"if"}},"bk-tab-panel",{name:e.name,label:e.label},!1),[a("div",{class:e.className,staticStyle:{height:"100%"}},[a(e.component,n._b({tag:"component"},"component",e.bindData,!1))],1)])}))],2)]:n._e(),n._v(" "),n.editingElementPos&&n.execDetail?a("bk-sideslider",n._b({attrs:{"is-show":n.isPropertyPanelShow,"quick-close":!0},on:{"update:isShow":function(e){n.isPropertyPanelShow=e},"update:is-show":function(e){n.isPropertyPanelShow=e}}},"bk-sideslider",n.sidePanelConfig,!1),[a("template",{slot:"content"},[n.showLog?a("pipeline-log",{staticClass:"log-panel",attrs:{"build-no":n.$route.params.buildNo,"build-num":n.execDetail.buildNum,"show-export":!0,"build-tag":n.getElementId,"execute-count":n.getExecuteCount}}):n.showContainerPanel?a("container-property-panel",{attrs:{"container-index":n.editingElementPos.containerIndex,"stage-index":n.editingElementPos.stageIndex,stages:n.execDetail.model.stages,editable:!1}}):n._e()],1)],2):n._e()],2)},a=[];i._withStripped=!0,n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return a}))},bJq6:function(e,t,n){"use strict";var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{class:{"container-node-selector":!0,"is-focus-selector":e.isFocus}},[e.isFocus?e._e():n("span",{class:{"build-resource-label":!0,disabled:e.disabled}},[e._v(e._s(e.buildResource))]),e._v(" "),n("select-input",{attrs:{name:"value",disabled:e.disabled,"is-loading":e.isLoading,"handle-change":e.handleSelect,options:e.nodeList,"has-error":e.hasError,value:e.value},on:{focus:e.handleFocus,blur:e.handleBlur}})],1)},a=[];i._withStripped=!0,n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return a}))},bXzj:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=c(n("06Hw")),a=c(n("YYXh")),r=c(n("wQpU")),s=c(n("Kz1y")),o=c(n("tuHn")),u=c(n("kWkj")),l=n("ygAv");function c(e){return e&&e.__esModule?e:{default:e}}t.default={name:"select-input",mixins:[o.default,u.default],props:{isLoading:Boolean,options:{type:Array,default:[]},optionsConf:{type:Object,default:function(){return{}}}},data:function(){return{optionList:Array.isArray(this.options)?this.options:[],optionListVisible:!1,isFocused:!1,loading:this.isLoading,selectedPointer:0}},computed:{mergedOptionsConf:function(){return(0,s.default)({},{url:"",paramId:"id",paramName:"name"},this.optionsConf)},restProps:function(){var e=this.$props,t=(e.options,e.optionsConf,e.atomvalue,e.container,(0,r.default)(e,["options","optionsConf","atomvalue","container"]));return t},hasUrl:function(){return this.mergedOptionsConf&&this.mergedOptionsConf.url&&"string"==typeof this.mergedOptionsConf.url},urlParamKeys:function(){if(this.hasUrl){var e=this.mergedOptionsConf.url.match(/\{(.*?)\}/g);return e?e.map((function(e){return e.replace(/\{(.*?)\}/,"$1")})):[]}return[]},queryParams:function(){var e=this.atomValue,t=void 0===e?{}:e,n=this.$route.params,i=void 0===n?{}:n;return(0,s.default)({},i,t)},isLackParam:function(){var e=this;return this.urlParamKeys.some((function(t){return e.queryParams.hasOwnProperty(t)&&(void 0===e.queryParams[t]||null===e.queryParams[t]||""===e.queryParams[t])}))},filteredList:function(){var e=this.value,t=this.optionList,n=e+"";return t.filter((function(e){return"string"==typeof e.name&&e.name.toLowerCase().indexOf(n.toLowerCase())>-1&&e}))},hasOption:function(){return Array.isArray(this.filteredList)&&this.filteredList.length>0}},watch:{atomValue:{handler:function(e,t){this.urlParamKeys.some((function(n){return e[n]!==t[n]}))&&this.debounceGetOptionList()}},options:function(e){var t=this;this.optionList=e,this.isFocused&&!this.disabled&&this.$nextTick((function(){t.$refs.inputArea.focus()}))},isLoading:function(e){this.loading=e}},created:function(){this.hasUrl&&(this.getOptionList(),this.debounceGetOptionList=(0,l.debounce)(this.getOptionList))},methods:{urlParse:function(e,t){return new Function("ctx","return '"+e.replace(/\{(.*?)\}/g,"'+ ctx.$1 +'")+"'")(t)},handleInput:function(e){var t=e.target,n=t.name,i=t.value;this.optionListVisible=!0,this.handleChange(n,i.trim())},selectOption:function(e){var t=e.id,n=(e.name,e.disabled);void 0!==n&&n||(this.handleBlur(),this.handleChange(this.name,t))},clearValue:function(){this.handleChange(this.name,""),this.$refs.inputArea.focus()},handleBlur:function(){this.optionListVisible=!1,this.selectedPointer=0,this.isFocused=!1,this.$refs.inputArea&&this.$refs.inputArea.blur(),this.$emit("blur",null)},handleFocus:function(e){this.isFocused=!0,this.optionListVisible||(this.optionListVisible=!0,this.$emit("focus",e))},setSelectPointer:function(e){this.selectedPointer=e,this.adjustViewPort()},getResponseData:function(e){try{if(Array.isArray(e.data))return e.data;if(Array.isArray(e.data.record))return e.data.record}catch(e){return console.error("获取列表数据失败",e),[]}},getOptionList:function(){var e=this;return(0,a.default)(i.default.mark((function t(){var n,a,r,o,u,c,d,p,f,h;return i.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!e.isLackParam){t.next=3;break}return e.optionList=[],t.abrupt("return");case 3:return t.prev=3,e.loading=!0,n=e.mergedOptionsConf,a=n.url,r=n.paramId,o=n.paramName,u=e.queryParams,c=e.urlParse,d=e.getResponseData,p=c(a,u),t.next=9,e.$ajax.get(p);case 9:f=t.sent,h=d(f),e.optionList=h.map((function(e){return(0,l.isObject)(e)?(0,s.default)({},e,{id:e[r],name:e[o]}):{id:e,name:e}})),t.next=17;break;case 14:t.prev=14,t.t0=t.catch(3),console.error(t.t0);case 17:return t.prev=17,e.loading=!1,t.finish(17);case 20:case"end":return t.stop()}}),t,e,[[3,14,17,20]])})))()}}}},bdvs:function(e,t,n){"use strict";n.r(t);var i=n("wGqH"),a=n.n(i);for(var r in i)"default"!==r&&function(e){n.d(t,e,(function(){return i[e]}))}(r);t.default=a.a},bmG3:function(e,t,n){"use strict";n.r(t);var i=n("zaVn"),a=n.n(i);for(var r in i)"default"!==r&&function(e){n.d(t,e,(function(){return i[e]}))}(r);t.default=a.a},bn9r:function(e,t,n){"use strict";var i=n("zjxr");n.n(i).a},br82:function(e,t,n){"use strict";n.r(t);var i=n("a0nz"),a=n.n(i);for(var r in i)"default"!==r&&function(e){n.d(t,e,(function(){return i[e]}))}(r);t.default=a.a},c1uh:function(e,t,n){"use strict";n.r(t);var i=n("CodG"),a=n("jFtf");for(var r in a)"default"!==r&&function(e){n.d(t,e,(function(){return a[e]}))}(r);n("7z9a");var s=n("psIG"),o=Object(s.a)(a.default,i.a,i.b,!1,null,null,null);o.options.__file="src/components/atomFormField/KeyValue/index.vue",t.default=o.exports},c8nl:function(e,t,n){"use strict";n.r(t);var i=n("SAjW"),a=n("bH+5");for(var r in a)"default"!==r&&function(e){n.d(t,e,(function(){return a[e]}))}(r);n("CzRM");var s=n("psIG"),o=Object(s.a)(a.default,i.a,i.b,!1,null,"513ab5ec",null);o.options.__file="src/components/AtomFormComponent/SelectInput/index.vue",t.default=o.exports},c8u7:function(e,t,n){"use strict";var i=function(){var e=this.$createElement;return(this._self._c||e)("custom-selector",{attrs:{name:"value",type:"text",value:this.curInsertVal,disabled:this.disabled,placeholder:this.placeholder,config:this.dataInputConfig,"selected-list":this.value,"set-value":this.setValue,"delete-item":this.deleteItem}})},a=[];i._withStripped=!0,n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return a}))},c9m7:function(e,t,n){"use strict";n.r(t);var i=n("6831"),a=n.n(i);for(var r in i)"default"!==r&&function(e){n.d(t,e,(function(){return i[e]}))}(r);t.default=a.a},cJcN:function(e,t,n){"use strict";n.r(t);var i=n("6U/x"),a=n("1faO");for(var r in a)"default"!==r&&function(e){n.d(t,e,(function(){return a[e]}))}(r);n("4wWG");var s=n("psIG"),o=Object(s.a)(a.default,i.a,i.b,!1,null,null,null);o.options.__file="src/components/pipelineSetting/BaseInfo.vue",t.default=o.exports},cRv7:function(e,t,n){"use strict";var i=n("vcXH");n.n(i).a},cU3k:function(e,t,n){"use strict";n.r(t);var i=n("MHHB"),a=n("LvMd");for(var r in a)"default"!==r&&function(e){n.d(t,e,(function(){return a[e]}))}(r);n("Am2o");var s=n("psIG"),o=Object(s.a)(a.default,i.a,i.b,!1,null,null,null);o.options.__file="src/components/Log/index.vue",t.default=o.exports},dON8:function(e,t,n){"use strict";var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("bk-checkbox",{attrs:{disabled:e.disabled,title:e.title,value:e.value},on:{change:e.handleSwitch}},[e._v("\n    "+e._s(e.text?e.text:"是否选中")+"\n    "),e.desc?n("bk-popover",{attrs:{placement:"right"}},[n("i",{staticClass:"bk-icon icon-info-circle"}),e._v(" "),n("div",{staticStyle:{"white-space":"pre-wrap","max-width":"300px"},attrs:{slot:"content"},slot:"content"},[n("div",{class:{"disabled-color":e.disabled}},[e._v(" "+e._s(e.desc)+" ")])])]):e._e()],1)},a=[];i._withStripped=!0,n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return a}))},dSfQ:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i,a=n("E4OK"),r=(i=a)&&i.__esModule?i:{default:i};t.default={components:{Logo:r.default},props:{reportList:Array},methods:{linkToReportDetail:function(e){window.open(e,"_blank")}}}},dwlt:function(e,t,n){var i={"./monokai":"5g6v"};function a(e){var t=r(e);return n(t)}function r(e){if(!n.o(i,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return i[e]}a.keys=function(){return Object.keys(i)},a.resolve=r,e.exports=a,a.id="dwlt"},eOqb:function(e,t,n){"use strict";var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{directives:[{name:"bkloading",rawName:"v-bkloading",value:{isLoading:e.isLoading},expression:"{ isLoading }"}],staticClass:"remote-trigger"},[n("p",[e._v("添加本插件后，当前流水线可过特定的URL触发构建（启动人是流水线的最后编辑人）。")]),e._v(" "),n("p",[e._v("示例：")]),e._v(" "),n("p",{staticClass:"curl-url"},[e._v("curl -X POST "+e._s(e.baseUrl)+"/external/pipelines/"+e._s(e.value)+'/build -H "Content-Type: application/json" -d "'+e._s(e.stringifyParmas)+'" ')])])},a=[];i._withStripped=!0,n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return a}))},eh6r:function(e,t,n){"use strict";var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("draggable",{staticClass:"container-atom-list",class:{"trigger-container":e.isTriggerContainer(e.container),readonly:!e.editable},attrs:{options:e.dragOptions},model:{value:e.atomList,callback:function(t){e.atomList=t},expression:"atomList"}},[e._l(e.atomList,(function(t,i){var a,r;return n("li",{key:t.name,class:(a={"atom-item":!0},a[t.status]=t.status,a),on:{click:function(t){return e.showPropertyPanel(i)}}},[n("section",{staticClass:"atom-item atom-section normal-atom",class:(r={},r[t.status]=t.status,r["is-error"]=t.isError,r["template-compare-atom"]=t.templateModify,r)},[t.status&&"SKIP"!==t.status?n("status-icon",{attrs:{type:"element",status:t.status}}):e.isWaiting&&"SKIP"!==t.status?n("status-icon",{attrs:{type:"element",status:"WAITING"}}):e.atomMap[t.atomCode]&&e.atomMap[t.atomCode].icon?n("img",{class:{"atom-icon":!0,"skip-icon":e.useSkipStyle(t)},attrs:{src:e.atomMap[t.atomCode].icon}}):n("logo",{class:{"atom-icon":!0,"skip-icon":e.useSkipStyle(t)},attrs:{name:e.getAtomIcon(t.atomCode),size:"18"}}),e._v(" "),n("span",{staticClass:"atom-name",class:{"skip-name":e.useSkipStyle(t)},attrs:{title:t.name}},[e._v(e._s(t.atomCode?t.name:"待选择插件"))]),e._v(" "),"REVIEWING"===t.status&&e.userInfo&&e.isCurrentUser(t.reviewUsers)?n("span",{staticClass:"atom-reviewing-tips",on:{click:function(n){return n.stopPropagation(),e.handleAtomCheck(t.id,"PROCESS")}}},[e._v("继续")]):e._e(),e._v(" "),"REVIEWING"===t.status&&e.userInfo&&e.isCurrentUser(t.reviewUsers)?n("span",{staticClass:"atom-reviewing-tips",on:{click:function(n){return n.stopPropagation(),e.handleAtomCheck(t.id,"ABORT")}}},[e._v("驳回")]):e._e(),e._v(" "),"REVIEWING"===t.status&&e.userInfo&&!e.isCurrentUser(t.reviewUsers)?n("bk-popover",{attrs:{placement:"top"}},[n("span",{staticClass:"atom-review-diasbled-tips"},[e._v("继续")]),e._v(" "),n("template",{slot:"content"},[n("p",[e._v("无权限进行此操作,审核人为"+e._s(t.reviewUsers.join(",")))])])],2):e._e(),e._v(" "),"REVIEWING"===t.status&&e.userInfo&&!e.isCurrentUser(t.reviewUsers)?n("bk-popover",{attrs:{placement:"top"}},[n("span",{staticClass:"atom-review-diasbled-tips"},[e._v("驳回")]),e._v(" "),n("template",{slot:"content"},[n("p",[e._v("无权限进行此操作,审核人为"+e._s(t.reviewUsers.join(",")))])])],2):e._e(),e._v(" "),"REVIEW_ABORT"===t.status?n("bk-popover",{attrs:{placement:"top"}},[n("span",{staticClass:"atom-review-diasbled-tips"},[e._v("已驳回")]),e._v(" "),n("template",{slot:"content"},[n("p",[e._v("审核未通过，审核人为"+e._s(e.execDetail.cancelUserId||t.reviewUsers))])])],2):e._e(),e._v(" "),t.elapsed<36e5&&"SKIP"!==t.status?n("span",{class:"SUCCEED"===t.status?"atom-success-timer":"REVIEW_ABORT"===t.status?"atom-warning-timer":"atom-fail-timer"},[t.canRetry?n("a",{staticClass:"atom-single-retry",attrs:{href:"javascript: void(0);"},on:{click:function(n){return n.stopPropagation(),e.singleRetry(t.id)}}},[e._v("重试")]):[e._v("\n                    "+e._s(void 0!==t.elapsed?e.localTime(t.elapsed):"")+"\n                ")]],2):e._e(),e._v(" "),t.elapsed>=36e5?n("bk-popover",{attrs:{placement:"top"}},[n("span",{class:"SUCCEED"===t.status?"atom-success-timer":"REVIEW_ABORT"===t.status?"atom-warning-timer":"atom-fail-timer"},[e._v(">1h")]),e._v(" "),n("template",{slot:"content"},[n("p",[e._v(e._s(t.elapsed?e.localTime(t.elapsed):""))])])],2):e._e(),e._v(" "),e.editable?n("i",{staticClass:"add-plus-icon close",on:{click:function(t){return t.stopPropagation(),e.editAtom(i,!1)}}}):e._e(),e._v(" "),e.editable&&t.isError?n("i",{staticClass:"bk-icon icon-exclamation-triangle-shape"}):e._e(),e._v(" "),e.isPreview&&e.container["@type"].indexOf("trigger")<0?n("bk-checkbox",{staticClass:"atom-canskip-checkbox",attrs:{disabled:e.useSkipStyle(t)},on:{click:function(e){e.stopPropagation()}},model:{value:t.canElementSkip,callback:function(n){e.$set(t,"canElementSkip",n)},expression:"atom.canElementSkip"}}):e._e()],1)])})),e._v(" "),e.editable?n("span",{class:{"add-atom-entry":!0,"block-add-entry":0===e.atomList.length},on:{click:function(t){return e.editAtom(e.atomList.length-1,!0)}}},[n("i",{staticClass:"add-plus-icon"}),e._v(" "),0===e.atomList.length?n("span",[e._v("添加插件")]):e._e()]):e._e()],2)},a=[];i._withStripped=!0,n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return a}))},ewgn:function(e,t,n){"use strict";n.r(t);var i=n("/T6n"),a=n("1+y6");for(var r in a)"default"!==r&&function(e){n.d(t,e,(function(){return a[e]}))}(r);var s=n("psIG"),o=Object(s.a)(a.default,i.a,i.b,!1,null,null,null);o.options.__file="src/components/ContainerPropertyPanel/JobMutual.vue",t.default=o.exports},fW58:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=u(n("tZmG")),a=u(n("06Hw")),r=u(n("YYXh")),s=u(n("I3lh")),o=n("ygAv");function u(e){return e&&e.__esModule?e:{default:e}}t.default={components:{qrcode:s.default},data:function(){return{showContent:!1,hasPermission:!0,curIndexItemUrl:"",emptyTitle:"wushuhsdjkghafjko",iconExts:{txt:[".json",".txt",".md"],zip:[".zip",".tar",".tar.gz",".tgz",".jar"],apkfile:[".apk"],ipafile:[".ipa"]},partList:[],loading:{isLoading:!1,title:""},lastClickItem:{},sideSliderConfig:{show:!1,title:"查看详情",quickClose:!0,width:820,data:{},detailData:{info:[{key:"name",name:"Name"},{key:"fullName",name:"Path"},{key:"size",name:"Size"},{key:"createdTime",name:"Created"},{key:"modifiedTime",name:"Last Modified"}]},isLoading:!1},permissionConfig:{isShow:!1,resource:"",option:"",link:"/perm/apply-perm"}}},computed:{projectId:function(){return this.$route.params.projectId},pipelineId:function(){return this.$route.params.pipelineId},buildNo:function(){return this.$route.params.buildNo},artifactoryUrl:function(){return WEB_URL_PIRFIX+"/artifactory/"+this.projectId+"/?pipelineId="+this.pipelineId+"&buildId="+this.buildNo}},watch:{buildNo:function(){this.init()}},created:function(){var e=this;return(0,r.default)(a.default.mark((function t(){return a.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.requestHasPermission(),t.next=3,e.init();case 3:e.addClickListenr();case 4:case"end":return t.stop()}}),t,e)})))()},beforeDestroy:function(){this.removeClickListenr()},methods:{init:function(){var e=this;return(0,r.default)(a.default.mark((function t(){var n,i,r;return a.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return(n=e.loading).isLoading=!0,n.title="数据加载中，请稍候",i={props:{pipelineId:e.pipelineId,buildId:e.buildNo}},t.prev=4,t.next=7,e.$store.dispatch("soda/requestPartFile",{projectId:e.projectId,params:i});case 7:r=t.sent,e.partList.splice(0,e.partList.length),r.records.map((function(t){t.display=!1,e.partList.push(t)})),t.next=15;break;case 12:t.prev=12,t.t0=t.catch(4),e.$showTips({message:t.t0.message?t.t0.message:t.t0,theme:"error"});case 15:return t.prev=15,setTimeout((function(){e.showContent=!0,e.loading.isLoading=!1}),500),t.finish(15);case 18:case"end":return t.stop()}}),t,e,[[4,12,15,18]])})))()},requestUrl:function(e,t,n,i){var s=this;return(0,r.default)(a.default.mark((function i(){var r,o,u;return a.default.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:if(s.curIndexItemUrl="",s.partList.forEach((function(e,t){e.display=t===n&&!e.display})),i.prev=2,"url"!==t){i.next=10;break}return i.next=6,s.$store.dispatch("soda/requestExternalUrl",{projectId:s.projectId,artifactoryType:e.artifactoryType,path:e.path});case 6:r=i.sent,s.curIndexItemUrl=r.url,i.next=14;break;case 10:return i.next=12,s.$store.dispatch("soda/requestDownloadUrl",{projectId:s.projectId,artifactoryType:e.artifactoryType,path:e.path});case 12:o=i.sent,window.location.href=o.url;case 14:i.next=21;break;case 16:i.prev=16,i.t0=i.catch(2),u=i.t0.message?i.t0.message:i.t0,"error",s.$showTips({message:u,theme:"error"});case 21:case"end":return i.stop()}}),i,s,[[2,16]])})))()},clickHandler:function(e){"partviewqrcode"!==e.target.id&&this.partList.forEach((function(e){e.display=!1}))},gotoArtifactory:function(){window.open(this.artifactoryUrl,"_blank")},addClickListenr:function(){document.addEventListener("mouseup",this.clickHandler)},removeClickListenr:function(){document.removeEventListener("mouseup",this.clickHandler)},requestHasPermission:function(){var e=this;return(0,r.default)(a.default.mark((function t(){var n,i,r;return a.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.pipelineId,"DOWNLOAD",t.prev=2,t.next=5,e.$store.dispatch("soda/requestExecPipPermission",{projectId:e.projectId,pipelineId:n,permission:"DOWNLOAD"});case 5:i=t.sent,e.hasPermission=i,t.next=14;break;case 9:t.prev=9,t.t0=t.catch(2),r=t.t0.message?t.t0.message:t.t0,"error",e.$showTips({message:r,theme:"error"});case 14:case"end":return t.stop()}}),t,e,[[2,9]])})))()},showDetail:function(e){var t=this;return(0,r.default)(a.default.mark((function n(){var i,r,s,o;return a.default.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return t.lastClickItem=e,i=t.sideSliderConfig,r=t.projectId,n.prev=3,i.isLoading=!0,s="PIPELINE"===e.artifactoryType?"PIPELINE":"CUSTOM_DIR",n.next=8,t.$store.dispatch("soda/requestFileInfo",{projectId:r,type:s,path:""+e.fullPath});case 8:o=n.sent,i.show=!0,i.title=o.name||e.name,i.data=o,i.isLoading=!1,n.next=18;break;case 15:n.prev=15,n.t0=n.catch(3),403===n.t0.code?t.$showAskPermissionDialog({noPermissionList:[{resource:"版本仓库",option:"查看"}],applyPermissionUrl:PERM_URL_PIRFIX+"/backend/api/perm/apply/subsystem/?client_id=artifactory&project_code="+t.projectId+"&service_code=artifactory&role_manager=artifactory"}):t.$showTips({theme:"error",message:n.t0.message||n.t0});case 18:case"end":return n.stop()}}),n,t,[[3,15]])})))()},extForFile:function(e){var t=this.iconExts,n=void 0,a=e.split(".");if(a.length>1){var r="."+a[a.length-1],s=a.length>2?"."+a[a.length-2]+"."+a[a.length-1]:"";(0,i.default)(t).forEach((function(e){n||t[e].forEach((function(t){r!==t&&s!==t||(n=e)}))}))}return n||"file"},convertInfoItem:function(e,t){return e.includes("Time")?(0,o.convertTime)(1e3*t):e.includes("size")?t>=0&&(0,o.convertFileSize)(t,"B")||"":t},isApkOrIpa:function(e){var t=e.name.toUpperCase().substring(e.name.lastIndexOf(".")+1);return"APK"===t||"IPA"===t}}}},gQGC:function(e,t,n){"use strict";n.r(t);var i=n("yScV"),a=n.n(i);for(var r in i)"default"!==r&&function(e){n.d(t,e,(function(){return i[e]}))}(r);t.default=a.a},gfAY:function(e,t,n){"use strict";var i=n("VyPk");n.n(i).a},"h/YL":function(e,t,n){"use strict";n.r(t);var i=n("dON8"),a=n("VBMx");for(var r in a)"default"!==r&&function(e){n.d(t,e,(function(){return a[e]}))}(r);n("9WkF");var s=n("psIG"),o=Object(s.a)(a.default,i.a,i.b,!1,null,null,null);o.options.__file="src/components/atomFormField/AtomCheckbox/index.vue",t.default=o.exports},"i/qZ":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=s(n("q7rD")),a=s(n("ZdkB")),r=s(n("eI+G"));function s(e){return e&&e.__esModule?e:{default:e}}t.default={name:"code-mode-selector",components:{EnumInput:a.default,VuexInput:r.default},mixins:[i.default],props:{text:{type:String},repositoryHashId:{type:String,required:!0},branchName:{type:String,default:""},elementType:{type:String,default:""},value:{type:Object},noUsePermission:{type:Boolean}},data:function(){return{noPermission:!1,isLoading:!1,list:[],gitPullModeType:this.value&&this.value.type||"",gitPullModeVal:this.value&&this.value.value||"",gitPullModeList:{BRANCH:{label:"分支名称",placeholder:"请输入分支",default:"master"},TAG:{label:"Tag",placeholder:"请输入Tag",default:""},COMMIT_ID:{label:"CommitID",placeholder:"请输入指定CommitID",default:""}},gitPullModes:[{id:"branch",value:"BRANCH",label:"按分支"},{id:"tag",value:"TAG",label:"按TAG"},{id:"commitId",value:"COMMIT_ID",label:"按CommitID"}]}},computed:{projectId:function(){return this.$route.params.projectId},dataInputConfig:function(){return{data:this.list||[],onChange:this.onChange}}},watch:{elementType:function(e){this.gitPullModeType="BRANCH",this.changeGitPullMode(!0)},gitPullModeType:function(e){this.changeGitPullMode(!0)},repositoryHashId:function(e){this.noPermission=!1,this.changeGitPullMode(!0)},noUsePermission:function(e){this.noPermission=e,e||this.changeGitPullMode(!1)}},created:function(){var e=this;this.gitPullModeType?this.changeGitPullMode(!1):(this.gitPullModeType="BRANCH",this.$nextTick((function(){e.branchName&&(e.gitPullModeVal=e.branchName),e.handleElementChange()})))},methods:{onChange:function(e,t){this.handleValueChange("value",t)},changeGitPullMode:function(e){this.list=[],e&&this.handleValueChange("value",this.gitPullModeList[this.gitPullModeType].default)},handleElementChange:function(){this.handleChange("gitPullMode",{type:this.gitPullModeType,value:this.gitPullModeVal})},handleModeChange:function(e,t){this.gitPullModeType=t,this.gitPullModeVal="",this.handleElementChange()},handleValueChange:function(e,t){this.gitPullModeVal=t,this.handleElementChange()}}}},i5G6:function(e,t,n){"use strict";var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("selector",{attrs:{tools:e.tools,name:e.name,edit:e.edit,placeholder:e.isLoading?"获取数据中...":e.placeholder,"handle-change":e.handleChange,list:e.list,"toggle-visible":e.toggleVisible,"is-loading":e.isLoading,value:e.value,searchable:e.searchable,"multi-select":e.multiSelect,disabled:e.disabled||e.isLoading}},[e.hasAddItem?n("template",{slot:"props"},[n("div",{staticClass:"bk-selector-create-item"},[n("a",{attrs:{href:e.urlParse(e.webUrl+e.itemTargetUrl,{projectId:e.projectId}),target:"_blank"}},[n("i",{staticClass:"bk-icon icon-plus-circle"}),e._v("\n                "+e._s(e.itemText)+"\n            ")])])]):e._e()],2)},a=[];i._withStripped=!0,n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return a}))},iBXJ:function(e,t,n){"use strict";n.r(t);var i=n("bJq6"),a=n("B4pn");for(var r in a)"default"!==r&&function(e){n.d(t,e,(function(){return a[e]}))}(r);n("lmJ7");var s=n("psIG"),o=Object(s.a)(a.default,i.a,i.b,!1,null,null,null);o.options.__file="src/components/ContainerPropertyPanel/ContainerEnvNode.vue",t.default=o.exports},iLMM:function(e,t,n){"use strict";n.r(t);var i=n("wRgW"),a=n("bmG3");for(var r in a)"default"!==r&&function(e){n.d(t,e,(function(){return a[e]}))}(r);n("q7+V");var s=n("psIG"),o=Object(s.a)(a.default,i.a,i.b,!1,null,null,null);o.options.__file="src/components/ContainerPropertyPanel/VersionConfig.vue",t.default=o.exports},"ic+k":function(e,t,n){"use strict";var i=n("EXLY");n.n(i).a},"im/W":function(e,t,n){},jFtf:function(e,t,n){"use strict";n.r(t);var i=n("PrK5"),a=n.n(i);for(var r in i)"default"!==r&&function(e){n.d(t,e,(function(){return i[e]}))}(r);t.default=a.a},jU13:function(e,t,n){"use strict";var i=n("t+6C");n.n(i).a},jtfD:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=o(n("Kz1y")),a=n("WIBD"),r=o(n("Rv+a")),s=n("ygAv");function o(e){return e&&e.__esModule?e:{default:e}}t.default={components:{StageContainer:r.default},props:{containers:{type:Array,default:[]},stageIndex:Number,stageLength:Number,editable:{type:Boolean,default:!0},isPreview:{type:Boolean,default:!1}},data:function(){return{isAddMenuShow:!1}},computed:(0,i.default)({},(0,a.mapState)("atom",["insertStageIndex"]),{isFirstStage:function(){return 0===this.stageIndex},isLastStage:function(){return this.stageIndex===this.stageLength-1}}),mounted:function(){this.updateHeight()},updated:function(){this.updateHeight()},methods:(0,i.default)({},(0,a.mapActions)("atom",["setInertStageIndex","toggleStageSelectPopup"]),{appendStage:function(){var e=this.stageIndex,t=this.setInertStageIndex,n=this.showStageSelectPopup;t({insertStageIndex:e+1}),n(!1)},showStageSelectPopup:function(e){this.toggleStageSelectPopup({isStagePopupShow:!0,isAddParallelContainer:e})},toggleAddMenu:function(e){var t=this.stageIndex,n=this.setInertStageIndex;this.isAddMenuShow="boolean"==typeof e&&e,this.isAddMenuShow&&n({insertStageIndex:t})},updateHeight:function(){var e=this.$refs.stageRef.parentElement,t=e.querySelector(".cruve-line"),n=e.querySelector(".parallel-add"),i=(0,s.getOuterHeight)(this.$refs.stageRef);t&&(t.style.height=i+"px"),n&&(n.style.top=i+10+"px")}})}},"kKM+":function(e,t,n){"use strict";n.r(t);var i=n("pPuX"),a=n("xZjW");for(var r in a)"default"!==r&&function(e){n.d(t,e,(function(){return a[e]}))}(r);n("NwYm");var s=n("psIG"),o=Object(s.a)(a.default,i.a,i.b,!1,null,null,null);o.options.__file="src/components/atomFormField/RouteTips/index.vue",t.default=o.exports},kPdS:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=s(n("Cffk")),a=s(n("q7rD")),r=n("ygAv");function s(e){return e&&e.__esModule?e:{default:e}}t.default={name:"atom-ace-editor",components:{Ace:i.default},mixins:[a.default],props:{lang:{type:String,default:"sh"}},data:function(){return{height:360,isFullScreen:!1}},watch:{isFullScreen:function(e){var t=(0,r.getActualTop)(this.$el),n=document.body.clientHeight;this.height=e?Math.max(n-10,360):Math.max(n-t-180,360)}},mounted:function(){var e=(0,r.getActualTop)(this.$el),t=document.body.clientHeight;this.height=Math.max(t-e-180,360)},methods:{handleScriptInput:function(e){this.handleChange(this.name,e)},setFullScreen:function(){this.isFullScreen=!this.isFullScreen}}}},kWkj:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={computed:{hasDropMenu:function(){return!!this.$refs.dropMenu&&this.$refs.dropMenu},pixelsToPointerTop:function(){var e=0;if(this.hasDropMenu)for(var t=0;t<this.selectedPointer;t++)e+=this.$refs.dropMenu.children[0].children[t].offsetHeight;return e},selectedElementHeight:function(){var e=!!this.hasDropMenu&&this.$refs.dropMenu.children[0].children[this.selectedPointer];return e?e.offsetHeight:0},pixelsToPointerBottom:function(){return this.pixelsToPointerTop+this.selectedElementHeight}},methods:{getViewPort:function(){var e=0,t=0;if(this.hasDropMenu){var n=this.$refs.dropMenu;e=n.scrollTop,t=n.scrollTop+n.offsetHeight}return{top:e,bottom:t}},adjustViewPort:function(){var e=this.getViewPort();if(this.pixelsToPointerTop<=e.top)return this.scrollTo(this.pixelsToPointerTop);this.pixelsToPointerBottom>=e.bottom&&this.scrollTo(e.top+this.selectedElementHeight)},scrollTo:function(e){this.hasDropMenu&&(this.$refs.dropMenu.scrollTop=e||null)},handleKeyup:function(){this.selectedPointer>0&&(this.selectedPointer--,this.adjustViewPort())},handleKeydown:function(){this.optionListVisible||(this.optionListVisible=!0),this.selectedPointer<this.filteredList.length-1&&(this.selectedPointer++,this.adjustViewPort())},handleEnterOption:function(){var e=this.filteredList[this.selectedPointer];e&&!e.disabled&&(this.handleChange(this.name,e.id),this.handleBlur())}}}},kXUh:function(e,t,n){},kaYn:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=d(n("7lnb")),a=d(n("Kz1y")),r=n("WIBD"),s=n("ygAv"),o=d(n("qzqJ")),u=d(n("5LzY")),l=d(n("BdbJ")),c=d(n("QuxH"));function d(e){return e&&e.__esModule?e:{default:e}}t.default={components:{StatusIcon:c.default,ContainerType:o.default,AtomList:u.default,showTooltip:l.default},props:{container:Object,stageIndex:Number,containerIndex:Number,stageLength:Number,containerLength:Number,editable:{type:Boolean,default:!0},isPreview:{type:Boolean,default:!1}},data:function(){return{showContainerName:!1,showAtomName:!1}},computed:(0,a.default)({},(0,r.mapState)("atom",["execDetail"]),(0,r.mapGetters)("atom",["isTriggerContainer","isDockerBuildResource","getAllContainers"]),{showCheckedToatal:function(){var e=this.isTriggerContainer,t=this.container;return this.$route.path.indexOf("preview")>0&&!e(t)},containerSerialNum:function(){return this.stageIndex+1+"-"+(this.containerIndex+1)},isOnlyOneContainer:function(){return 1===this.containerLength},projectId:function(){return this.$route.params.projectId},containerDisabled:function(){return!(!this.container.jobControlOption||!1!==this.container.jobControlOption.enable)},containerTooltipConfig:function(){var e=void 0,t=void 0;switch(!0){case this.isTriggerContainer(this.container):e="build_trigger",t="点击构建触发可配置推荐版本号、流水线变量"}return!this.isPreview&&e?{name:e,content:t,key:e}:{}}}),watch:{"container.elements.length":function(e,t){e!==t&&this.$forceUpdate()},"container.runContainer":function(e){var t=this.container,n=this.updateContainer,i=t.elements;this.containerDisabled||(i.filter((function(e){return void 0===e.additionalOptions||e.additionalOptions.enable})).map((function(t){return t.canElementSkip=e,!1})),n({container:t,newParam:{elements:i}}))}},mounted:function(){this.updateCruveConnectHeight(),this.containerDisabled&&(this.container.runContainer=!1)},updated:function(){this.updateCruveConnectHeight()},methods:(0,a.default)({},(0,r.mapActions)("atom",["togglePropertyPanel","addAtom","deleteAtom","updateContainer"]),{updateCruveConnectHeight:function(){if(this.$refs.stageContainer){var e=(0,s.getOuterHeight)(this.$refs.stageContainer)-12+"px";(0,i.default)(this.$refs.stageContainer.querySelectorAll(".connect-line")).map((function(t){t.style.height=e}))}},showContainerPanel:function(){var e=this.stageIndex,t=this.containerIndex;this.togglePropertyPanel({isShow:!0,editingElementPos:{stageIndex:e,containerIndex:t}})}})}},kvDO:function(e,t,n){"use strict";n.r(t);var i=n("GZWC"),a=n("/Thn");for(var r in a)"default"!==r&&function(e){n.d(t,e,(function(){return a[e]}))}(r);n("yIhZ");var s=n("psIG"),o=Object(s.a)(a.default,i.a,i.b,!1,null,null,null);o.options.__file="src/components/atomFormField/SvnpathInput/index.vue",t.default=o.exports},lPuA:function(e,t,n){"use strict";n.r(t);var i=n("jtfD"),a=n.n(i);for(var r in i)"default"!==r&&function(e){n.d(t,e,(function(){return i[e]}))}(r);t.default=a.a},lbro:function(e,t,n){"use strict";n.r(t);var i=n("piyX"),a=n("Lbrp");for(var r in a)"default"!==r&&function(e){n.d(t,e,(function(){return a[e]}))}(r);n("NCi+");var s=n("psIG"),o=Object(s.a)(a.default,i.a,i.b,!1,null,null,null);o.options.__file="src/components/outputOption/index.vue",t.default=o.exports},lmJ7:function(e,t,n){"use strict";var i=n("IknT");n.n(i).a},luCE:function(e,t,n){"use strict";var i=n("ZjzD");n.n(i).a},lwuc:function(e,t,n){"use strict";n.r(t);var i=n("vozC"),a=n("XNUb");for(var r in a)"default"!==r&&function(e){n.d(t,e,(function(){return a[e]}))}(r);var s=n("psIG"),o=Object(s.a)(a.default,i.a,i.b,!1,null,null,null);o.options.__file="src/components/ContainerPropertyPanel/JobOption.vue",t.default=o.exports},mcNi:function(e,t,n){},"mm+E":function(e,t,n){"use strict";n.r(t);var i=n("wqmO"),a=n("uwF2");for(var r in a)"default"!==r&&function(e){n.d(t,e,(function(){return a[e]}))}(r);n("luCE");var s=n("psIG"),o=Object(s.a)(a.default,i.a,i.b,!1,null,null,null);o.options.__file="src/components/pipelineSetting/CleanPolicy.vue",t.default=o.exports},mw7t:function(e,t,n){"use strict";var i=function(){var e=this.$createElement;return(this._self._c||e)("div",{ref:"qrcode",staticClass:"qrcode-content"})},a=[];i._withStripped=!0,n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return a}))},mwXv:function(e,t,n){"use strict";var i=n("NzHB");n.n(i).a},nUQc:function(e,t,n){"use strict";n.r(t);var i=n("kaYn"),a=n.n(i);for(var r in i)"default"!==r&&function(e){n.d(t,e,(function(){return i[e]}))}(r);t.default=a.a},nXrI:function(e,t,n){"use strict";var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"Key-value-nomal"},[n("ul",[e.paramList.length?e._l(e.paramList,(function(t,i){return n("li",{key:i,staticClass:"param-item",attrs:{isError:e.errors.any("param-"+i)}},[n("form-field",{attrs:{"is-error":e.errors.has("param-"+i+".key"),"error-msg":e.errors.first("param-"+i+".key")}},[n("vuex-input",{directives:[{name:"validate",rawName:"v-validate.initial",value:"required|unique:"+e.paramList.map((function(e){return e.key})).join(",")+"|max: 30|"+e.snonVarRule,expression:'`required|unique:${paramList.map(p => p.key).join(",")}|max: 30|${snonVarRule}`',modifiers:{initial:!0}}],attrs:{"data-vv-scope":"param-"+i,disabled:e.disabled,"handle-change":function(t,n){return e.handleParamChange(t,n,i)},name:"key",placeholder:"Key",value:t.key}})],1),e._v(" "),n("div",{staticClass:"bk-form-item"},[n("vuex-input",{attrs:{name:"value",disabled:e.disabled,placeholder:"Value",value:t.value,"handle-change":function(t,n){return e.handleParamChange(t,n,i)}}})],1),e._v(" "),e.disabled?e._e():n("i",{staticClass:"bk-icon icon-minus hover-click",on:{click:function(t){return t.stopPropagation(),t.preventDefault(),e.editParam(i,!1)}}})],1)})):e._e(),e._v(" "),e.disabled?e._e():n("a",{staticClass:"text-link hover-click",on:{click:function(t){return t.stopPropagation(),t.preventDefault(),e.editParam(e.paramList.length,!0)}}},[n("i",{staticClass:"bk-icon icon-plus-circle"}),e._v(" "),n("span",[e._v("新增变量")])])],2)])},a=[];i._withStripped=!0,n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return a}))},neEv:function(e,t,n){"use strict";var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("section",{staticClass:"devops-empty-tips"},[n("h2",{staticClass:"title"},[e._v(e._s(e.title))]),e._v(" "),n("p",{staticClass:"desc"},[e._v(e._s(e.desc))]),e._v(" "),n("p",{staticClass:"btns-row"},[e._t("btns",[Array.isArray(e.btns)&&e.btns.length>0?e._l(e.btns,(function(t,i){return n("bk-button",{key:i,attrs:{disabled:t.disabled,theme:t.theme,size:t.size,icon:t.loading?"loading":""},on:{click:t.handler}},[e._v("\n                    "+e._s(t.text)+"\n                ")])})):e._e()])],2)])},a=[];i._withStripped=!0,n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return a}))},"o+lK":function(e,t,n){"use strict";var i=function(){var e,t=this,n=t.$createElement,i=t._self._c||n;return i("span",{class:(e={"stage-status":!0},e[t.type]=t.type,e.readonly=!t.editable||t.jobOption&&!1===t.jobOption.enable,e)},[i("transition",{attrs:{name:"slide-top"}},["RUNNING"===t.status||"PREPARE_ENV"===t.status||"QUEUE"===t.status||"LOOP_WAITING"===t.status||"CALL_WAITING"===t.status?i("i",{staticClass:"bk-icon icon-circle-2-1 executing-job"}):t._e()]),t._v(" "),i("transition",{attrs:{name:"slide-top"}},["WAITING"===t.status?i("i",{staticClass:"bk-icon icon-clock"}):t._e()]),t._v(" "),i("transition",{attrs:{name:"slide-down"}},["CANCELED"===t.status?i("i",{staticClass:"bk-icon warning icon-exclamation-circle-shape"}):t._e()]),t._v(" "),i("transition",{attrs:{name:"slide-down"}},["REVIEWING"===t.status||"REVIEW_ABORT"===t.status?i("i",{staticClass:"bk-icon warning icon-exclamation-triangle-shape"}):t._e()]),t._v(" "),i("transition",{attrs:{name:"slide-left"}},["FAILED"===t.status||"HEARTBEAT_TIMEOUT"===t.status||"QUEUE_TIMEOUT"===t.status||"EXEC_TIMEOUT"===t.status?i("i",{staticClass:"bk-icon danger icon-close-circle-shape"}):t._e()]),t._v(" "),i("transition",{attrs:{name:"slide-right"}},["SUCCEED"===t.status?i("i",{staticClass:"bk-icon success icon-check-circle-shape"}):t._e()]),t._v(" "),t.status&&"SKIP"!==t.status?t._e():t._t("default")],2)},a=[];i._withStripped=!0,n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return a}))},oE9V:function(e,t,n){},oXU7:function(e,t,n){"use strict";var i=n("YiFe");n.n(i).a},obfs:function(e,t,n){},og3W:function(e,t,n){"use strict";var i=n("Kkf7");n.n(i).a},ohnJ:function(e,t,n){"use strict";n.r(t);var i=n("JsCa"),a=n.n(i);for(var r in i)"default"!==r&&function(e){n.d(t,e,(function(){return i[e]}))}(r);t.default=a.a},olS4:function(e,t,n){"use strict";var i=n("qCg/");n.n(i).a},pPuX:function(e,t,n){"use strict";var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.visible?n("div",{staticClass:"route-tips",style:e.pathTips?"":"height:48px"},[n("div",{staticClass:"tips-icon"},[n("i",{staticClass:"bk-icon icon-info-circle-shape",style:e.pathTips?"":"margin: 15px 13px;"})]),e._v(" "),n("div",{staticClass:"tips-content"},[e.srcTips?n("p",{staticClass:"tips-row",style:e.pathTips?"":"margin-top: 15px"},[n("span",{staticClass:"tips-label"},[e._v("源 ：")]),e._v(" "),n("span",{staticClass:"tips-route",attrs:{title:e.srcTips}},[e._v(e._s(e.srcTips))])]):e._e(),e._v(" "),e.pathTips?n("p",{staticClass:"tips-row",staticStyle:{"margin-top":"0px"}},[n("span",{staticClass:"tips-label"},[e._v("目标 ：")]),e._v(" "),n("span",{staticClass:"tips-route",attrs:{title:e.pathTips}},[e._v(e._s(e.pathTips))])]):e._e(),e._v(" "),e.keystoreTips?n("p",{staticClass:"tips-row keystore-row",style:e.pathTips?"":"margin-top: 15px"},[n("span",{staticClass:"tips-label",staticStyle:{width:"78px"}},[e._v("证书文件 ：")]),e._v(" "),n("span",{staticClass:"tips-route",attrs:{title:e.keystoreTips}},[e._v(e._s(e.keystoreTips))])]):e._e(),e._v(" "),e.githubAppUrl?n("p",{staticClass:"tips-row",staticStyle:{"margin-top":"15px"}},[n("span",{staticClass:"tips-route normal-route",staticStyle:{"margin-left":"15px"}},[e._v("启用本插件需安装对应\n                "),n("a",{staticClass:"link",attrs:{href:e.githubAppUrl,target:"_blank"}},[e._v("GitHub APP")]),e._v("（Tencent DevOps）\n            ")])]):e._e()])]):e._e()},a=[];i._withStripped=!0,n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return a}))},pRQp:function(e,t,n){"use strict";n.r(t);var i=n("DYYE"),a=n.n(i);for(var r in i)"default"!==r&&function(e){n.d(t,e,(function(){return i[e]}))}(r);t.default=a.a},pg9h:function(e,t,n){},piyX:function(e,t,n){"use strict";var i=function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"output-option-wrapper"},[t("vertical-tab",{attrs:{tabs:this.tabs}}),this._v(" "),this.isEmptyNav?t("div",{staticClass:"output-option-empty"},[this._m(0)]):this._e()],1)},a=[function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"no-data-right"},[t("img",{attrs:{src:n("tNV3")}}),this._v(" "),t("p",[this._v("暂时没有产出物报告")])])}];i._withStripped=!0,n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return a}))},q36d:function(e,t,n){},"q7+V":function(e,t,n){"use strict";var i=n("RKWf");n.n(i).a},"qCg/":function(e,t,n){},qDqU:function(e,t,n){"use strict";var i=n("9o7p");n.n(i).a},qSlG:function(e,t,n){"use strict";var i=n("q36d");n.n(i).a},qWfG:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i,a=n("q7rD"),r=(i=a)&&i.__esModule?i:{default:i};t.default={name:"vuex-textarea",mixins:[r.default],methods:{handleInput:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=e.target,i=n.value,a=n.name,r=t?i.trim():i;r!==this.value&&(this.$emit("input",r),this.handleChange(a,r))},handleBlur:function(e){this.handleInput(e,!0)}},render:function(e){var t=this.value,n=this.disabled,i=this.handleInput,a=this.name;return e("textarea",{on:{blur:this.handleBlur,input:i},class:"bk-form-textarea",attrs:{name:a,disabled:n},domProps:{value:t}})}}},qzqJ:function(e,t,n){"use strict";n.r(t);var i=n("gQGC");for(var a in i)"default"!==a&&function(e){n.d(t,e,(function(){return i[e]}))}(a);n("gfAY");var r=n("psIG"),s=Object(r.a)(i.default,void 0,void 0,!1,null,null,null);s.options.__file="src/components/Stages/ContainerType.vue",t.default=s.exports},r1Uo:function(e,t,n){"use strict";var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("transition-group",{staticClass:"soda-stage-list",attrs:{name:"list",tag:"div"}},e._l(e.stages,(function(t,i){return n("Stage",{key:i,staticClass:"list-item",attrs:{editable:e.editable,"is-preview":e.isPreview,"stage-index":i,"stage-length":e.stages.length,containers:t.containers}})})),1)},a=[];i._withStripped=!0,n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return a}))},rgNe:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=c(n("06Hw")),a=c(n("tZmG")),r=c(n("YYXh")),s=c(n("q7rD")),o=c(n("eI+G")),u=c(n("c8nl")),l=n("ygAv");function c(e){return e&&e.__esModule?e:{default:e}}var d=[{id:"true",name:"true"},{id:"false",name:"false"}];t.default={components:{VuexInput:o.default,SelectInput:u.default},mixins:[s.default],props:{url:{type:String,default:""},value:{type:Object}},data:function(){return{isLoading:!1,paramValues:{},paramList:[]}},computed:{projectId:function(){return this.$route.params.projectId},pipelineId:function(){return this.element.subPipelineId}},watch:{pipelineId:function(e){this.getParams()},paramValues:{deep:!0,handler:function(e){this.handleChange(this.name,e)}}},created:function(){var e=this;return(0,r.default)(i.default.mark((function t(){var n;return i.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.value&&(0,l.deepCopy)(e.value)||{},t.next=3,e.getParams();case 3:(0,a.default)(n).forEach((function(t){void 0!==e.paramValues[t]&&(e.paramValues[t]=n[t])}));case 4:case"end":return t.stop()}}),t,e)})))()},methods:{dataInputConfig:function(e){return{options:"BOOLEAN"===e.type?d:"ENUM"===e.type?e.options.map((function(e){return{id:e.key,name:e.key}})):[],handleChange:this.handleParamChange}},curItem:function(e){return this.paramList.length&&this.paramList.filter((function(t){return t.id===e}))[0]||[]},urlParse:function(e,t){return new Function("ctx","return '"+e.replace(/\{(.*?)\}/g,"'+ ctx.$1 +'")+"'")(t)},handleParamChange:function(e,t){"BOOLEAN"===this.curItem(e).type&&("true"===t?t=!0:"false"===t&&(t=!1)),this.paramValues[e]=t},getParams:function(){var e=this;return(0,r.default)(i.default.mark((function t(){var n,a,r,s,o,u;return i.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=e.url,a=e.pipelineId,r=e.projectId,!a){t.next=19;break}return t.prev=2,s=e.urlParse(n,{pipelineId:a,projectId:r}),e.isLoading=!0,e.paramList=[],t.next=8,e.$ajax.get(s);case 8:o=t.sent,(u=o.data.properties.length&&o.data.properties.filter((function(e){return e.required}))).length?(e.isDialogShow=!0,e.paramList=u.map((function(t){return e.$set(e.paramValues,t.id,t.defaultValue),t}))):e.paramValues={},t.next=16;break;case 13:t.prev=13,t.t0=t.catch(2),e.$showTips({message:t.t0.message,theme:"error"});case 16:return t.prev=16,e.isLoading=!1,t.finish(16);case 19:case"end":return t.stop()}}),t,e,[[2,13,16,19]])})))()}}}},roFu:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=v(n("Kz1y")),a=n("WIBD"),r=v(n("0t4y")),s=v(n("1kG9")),o=v(n("vJWW")),u=v(n("0eDu")),l=v(n("lbro")),c=v(n("cU3k")),d=v(n("SuKS")),p=v(n("wm1E")),f=v(n("ZzwQ")),h=n("eQpR"),m=n("ygAv");function v(e){return e&&e.__esModule?e:{default:e}}t.default={components:{stages:s.default,PipelineLog:c.default,ContainerPropertyPanel:d.default,viewPart:o.default,codeRecord:u.default,outputOption:l.default,emptyTips:p.default},mixins:[f.default],data:function(){var e=this;return{isLoading:!0,hasNoPermission:!1,noPermissionTipsConfig:{title:"没有权限",desc:"你没有查看该流水线的权限，请切换项目或申请相应权限",btns:[{theme:"primary",size:"normal",handler:this.changeProject,text:"切换项目"},{theme:"success",size:"normal",handler:function(){e.goToApplyPerm("role_manager")},text:"申请权限"}]}}},computed:(0,i.default)({},(0,a.mapState)("atom",["execDetail","editingElementPos","isPropertyPanelVisible","fetchingAtomList"]),(0,a.mapState)(["fetchError"]),{statusMap:function(){return h.statusMap},panels:function(){return[{name:"executeDetail",label:"执行详情",component:"stages",className:"exec-pipeline",bindData:{editable:!1,stages:this.execDetail&&this.execDetail.model&&this.execDetail.model.stages}},{name:"partView",label:"查看构件",className:"",component:"view-part",bindData:{}},{name:"codeRecords",label:"代码变更记录",className:"",component:"code-record",bindData:{}},{name:"output",label:"产出物报告",className:"",component:"output-option",bindData:{curPipeline:this.execDetail&&this.execDetail.model}}]},showLog:function(){var e=this.editingElementPos,t=this.$route.params;return void 0!==e.elementIndex&&t.buildNo},showContainerPanel:function(){return void 0!==this.editingElementPos.containerIndex},getElementId:function(){var e=this.editingElementPos,t=e.stageIndex,n=e.containerIndex,i=e.elementIndex;return this.execDetail.model.stages[t].containers[n].elements[i].id||""},getElementViewName:function(){try{var e=this.editingElementPos,t=e.stageIndex,n=e.containerIndex,i=e.elementIndex;return this.execDetail.model.stages[t].containers[n].elements[i].name+" T"+(t+1)+"-"+(n+1)+"-"+(i+1)}catch(e){return""}},getExecuteCount:function(){var e=this.editingElementPos,t=e.stageIndex,n=e.containerIndex,i=e.elementIndex,a=this.execDetail.model.stages[t].containers[n].elements[i];return void 0!==a&&a.executeCount||1},sidePanelConfig:function(){return this.showLog?{title:""+(this.getElementViewName||"查看日志"),width:820}:{title:"属性栏",class:"sodaci-property-panel",width:640}},buildNum:function(){var e=this.execDetail;return e&&e.buildNum?e.buildNum:""},routerParams:function(){return this.$route.params},curItemTab:function(){return this.routerParams.type||"executeDetail"},isPropertyPanelShow:{get:function(){return this.isPropertyPanelVisible},set:function(e){this.togglePropertyPanel({isShow:e})}},showRetryIcon:function(){return this.execDetail&&this.execDetail.latestVersion===this.execDetail.curVersion&&["RUNNING","QUEUE","SUCCEED"].indexOf(this.execDetail.status)<0}}),watch:{execDetail:function(e){this.isLoading=null===e},"routerParams.buildNo":{handler:function(e,t){e!==t&&(this.requestPipelineExecDetail(this.routerParams),this.initWebSocket(e))}},fetchError:function(e){403===e.code&&(this.isLoading=!1,this.hasNoPermission=!0)}},created:function(){this.requestPipelineExecDetail(this.routerParams)},beforeDestroy:function(){this.setPipelineDetail(null),this.togglePropertyPanel({isShow:!1}),r.default.disconnect()},methods:(0,i.default)({},(0,a.mapActions)("atom",["updateAtom","togglePropertyPanel","requestPipelineExecDetail","setPipelineDetail"]),{convertMStoStringByRule:m.convertMStoStringByRule,switchTab:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"executeDetail";this.$router.push({name:"pipelinesDetail",params:(0,i.default)({},this.$route.params,{type:e})})},initWebSocket:function(){var e=this,t=this.routerParams.projectId,n="/topic/pipelineDetail/"+this.routerParams.buildNo;r.default.connect(t,n,{success:function(t){var n=JSON.parse(t.body);e.setPipelineDetail(n)},error:function(t){return e.$showTips({message:t,theme:"error"})}})}})}},sJ6W:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=u(n("Kz1y")),a=u(n("/9Wh")),r=u(n("q7rD")),s=n("WIBD"),o=n("Vgl9");function u(e){return e&&e.__esModule?e:{default:e}}t.default={name:"remote-curl-url",mixins:[r.default],props:{container:Object,element:Object},computed:{baseUrl:function(){return AJAX_URL_PIRFIX+"/"+o.PROCESS_API_URL_PREFIX},stringifyParmas:function(){var e=this.container.params.filter((function(e){return e.required})).reduce((function(e,t){return e[t.id]=t.defaultValue,e}),{});return(0,a.default)(e).replace(/\"/g,'\\"')},isLoading:function(){return!this.value}},watch:{value:function(e,t){var n=this.$route.params;e!==t&&this.getRemoteTriggerToken((0,i.default)({},n,{preToken:e,element:this.element}))}},mounted:function(){var e=this.$route.params;this.getRemoteTriggerToken((0,i.default)({},e,{preToken:this.value,element:this.element}))},methods:(0,i.default)({},(0,s.mapActions)("atom",["getRemoteTriggerToken"]))}},sLYw:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={name:"iframe-report",props:{indexFileUrl:{type:String,default:""}}}},sxAL:function(e,t,n){"use strict";var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.pipelineSetting?n("div",{staticClass:"bkdevops-running-lock-setting-tab"},[n("enum-input",{staticClass:"running-lock-radio",attrs:{list:e.runTypeList,value:e.pipelineSetting.runLockType,name:"runLockType","handle-change":e.handleRunningLockChange}}),e._v(" "),"SINGLE"===e.pipelineSetting.runLockType?n("div",{staticClass:"bk-form-item opera-lock"},[n("div",{staticClass:"opera-lock-item"},[n("label",{staticClass:"opera-lock-label"},[e._v("最大排队数量：")]),e._v(" "),n("div",[n("vuex-input",{directives:[{name:"validate",rawName:"v-validate.initial",value:"required|numeric|max_value:20|min_value:0",expression:'"required|numeric|max_value:20|min_value:0"',modifiers:{initial:!0}}],attrs:{"input-type":"number",name:"maxQueueSize",placeholder:"请输入",value:e.pipelineSetting.maxQueueSize,"handle-change":e.handleRunningLockChange}}),e._v(" "),n("span",[e._v("个")]),e._v(" "),e.errors.has("maxQueueSize")?n("p",{staticClass:"is-danger"},[e._v(e._s(e.errors.first("maxQueueSize")))]):e._e()],1)]),e._v(" "),n("div",{staticClass:"opera-lock-item"},[n("label",{staticClass:"opera-lock-label"},[e._v("最大排队时长：")]),e._v(" "),n("div",[n("vuex-input",{directives:[{name:"validate",rawName:"v-validate.initial",value:"required|numeric|max_value:1440|min_value:60",expression:'"required|numeric|max_value:1440|min_value:60"',modifiers:{initial:!0}}],attrs:{"input-type":"number",name:"waitQueueTimeMinute",placeholder:"请输入",value:e.pipelineSetting.waitQueueTimeMinute,"handle-change":e.handleRunningLockChange}}),e._v(" "),n("span",[e._v("分钟")]),e._v(" "),e.errors.has("waitQueueTimeMinute")?n("p",{staticClass:"is-danger"},[e._v(e._s(e.errors.first("waitQueueTimeMinute")))]):e._e()],1)])]):e._e()],1):e._e()},a=[];i._withStripped=!0,n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return a}))},"t+6C":function(e,t,n){},tLVg:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=s(n("q7rD")),a=s(n("ZdkB")),r=s(n("eI+G"));function s(e){return e&&e.__esModule?e:{default:e}}t.default={name:"code-mode-selector",components:{EnumInput:a.default,VuexInput:r.default},mixins:[i.default],props:{text:{type:String},repositoryType:{type:String,required:!0},repositoryHashId:{type:String,required:!0},branchName:{type:String,default:""},elementType:{type:String,default:""},value:{type:Object},noUsePermission:{type:Boolean}},data:function(){return{isLoading:!1,gitPullModeType:this.value&&this.value.type||"",gitPullModeVal:this.value&&this.value.value||"",gitPullModeList:{BRANCH:{label:"分支名称",placeholder:"请输入分支",default:"master"},TAG:{label:"Tag",placeholder:"请输入Tag",default:""},COMMIT_ID:{label:"CommitID",placeholder:"请输入指定CommitID",default:""}},gitPullModes:[{id:"branch",value:"BRANCH",label:"按分支"},{id:"tag",value:"TAG",label:"按TAG"},{id:"commitId",value:"COMMIT_ID",label:"按CommitID"}]}},computed:{projectId:function(){return this.$route.params.projectId}},watch:{elementType:function(e){this.gitPullModeType="BRANCH",this.changeGitPullMode(!0)},repositoryType:function(e){this.changeGitPullMode(!0)},gitPullModeType:function(e){this.changeGitPullMode(!0)},repositoryHashId:function(e){this.noPermission=!1,this.changeGitPullMode(!0)}},methods:{changeGitPullMode:function(e){e&&this.handleValueChange("value",this.gitPullModeList[this.gitPullModeType].default)},handleElementChange:function(){this.handleChange("gitPullMode",{type:this.gitPullModeType,value:this.gitPullModeVal})},handleModeChange:function(e,t){this.gitPullModeType=t,this.gitPullModeVal="",this.handleElementChange()},handleValueChange:function(e,t){this.gitPullModeVal=t,this.handleElementChange()}}}},tNV3:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFsAAAA5CAYAAABZClfIAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyZpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMDY3IDc5LjE1Nzc0NywgMjAxNS8wMy8zMC0yMzo0MDo0MiAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIDIwMTUgKFdpbmRvd3MpIiB4bXBNTTpJbnN0YW5jZUlEPSJ4bXAuaWlkOkU1NzFFNzcxRjUzQzExRTdBMkU1QUQxMkE2RTNCRDUwIiB4bXBNTTpEb2N1bWVudElEPSJ4bXAuZGlkOkU1NzFFNzcyRjUzQzExRTdBMkU1QUQxMkE2RTNCRDUwIj4gPHhtcE1NOkRlcml2ZWRGcm9tIHN0UmVmOmluc3RhbmNlSUQ9InhtcC5paWQ6RTU3MUU3NkZGNTNDMTFFN0EyRTVBRDEyQTZFM0JENTAiIHN0UmVmOmRvY3VtZW50SUQ9InhtcC5kaWQ6RTU3MUU3NzBGNTNDMTFFN0EyRTVBRDEyQTZFM0JENTAiLz4gPC9yZGY6RGVzY3JpcHRpb24+IDwvcmRmOlJERj4gPC94OnhtcG1ldGE+IDw/eHBhY2tldCBlbmQ9InIiPz5558DUAAAHDUlEQVR42uycS2wbVRSGj9/vxInfsRMnsZu6DVBUXhIEVWwQgg1s6AYkBGIBEkVl1RXqigUgFq0qVNHCBpCg6mPBAomKDWyQAInSiDRJEzuOHceJ83BiO3H84Py3TpqWksaJp4md+aWra8+MZ3w/nznnzLkzVpTLZdqufv1z4Ch3x7gd4maixlCG21/cPu07HLpcix0qfvnjn/tuxAfbCPQp7t5raTKR1WIilUrZEKSLpRLNLWRpdn4Rb0899UjP+/faTqPe/HjV27TotwA60O4ij6OFGk1eZytNTM3Szejksd+uDQ4w8M+3s7+7Ya/6FMUmQD/B3Rm33Upo45Mpmpyep9xyvu4hK3j0ep2W3DYrtTlbKLuUB/TTDHyYgf9UK9ibtWgHdxctJr0OVj0wEqOZdIYcLU3kYvAKhaKuYSOOZXLLFI5PUTqTo1CXl5aW86rZdOYCA3+Ggfc/ENgMWsXddxq1qj3U7aNYcoZS7Nf28xeCz24ktTSZaSgSo7HEtBjf34ORZv4RrjDwpxn4VLX7U1ZcR3mdC6H/Wbaqj9lwnwt1eymfL1AkPs3+urXhQN+CbSKfy07RiWmaX8jQATYuNrIgzmoGrt0K7Gqs+lXuPuj0Osls0NON0RiZDDpqd9uoUdXGQbK12UyDkQkqlUt0MOCDm3yWV53bCmzFukbrAuQdyxj0Q9x9ZWe/jCg9PJaglWKRAh2euvfR91N3u5u0Gg39czNGBr2OevweLH6drftEzS2bQTdzd5mt2Njjd9Nkap6mZtPU5XWRXquhRpdKqaSezjbKFwo0GI6To7WJfLfO5o+Yzcu1hA2z/UatUgUPsJ9eZj89Ep0UmYfNaqG9IhhVkM/i2fQijbEP72xzkN1qEWwY+GNbga24R479IbeX9nd6SMsHHBiNk0ajJvjtvSYkAV4OmICdmltga/eQxWQw8qorDNx3X6vdqDbCO3iRux86PHYFN2HRiek5OhjsEIFxr2ooEqf5xSwd2t8pyhPXBsK0vFL4nVcd6TscylbtRhg0UpxvORIL0DOcS8f50rWdX+9l0LcDppoD5rjw5weDPlIqlY/zqq+Zm6Iq2PwBnBqXDDptswgMKwWR+lg573TbW2ivSwRM/+2AaeI0ONTVhlWvIGhWa9lf8g4fRkDEjm/wDpWc3gV8bpJVCZg67R0BE7k4gibrBBvra5uCzRse5+7oPs4ljewuUGBKs38K8KmjVqvqDgq+v6QB02lbC5hIB102ZMl0njn2bQibNzjC3Se4aLG3WEQRZmxiSlyON5mNdQd6MbtEMYaNXip5XTZh1UPsZlEdDHa4qdlixKX8pUrc+y/sSupygTdUIa0r8NXhDU7zzAYD+Vz1dTle4gwLRtI/PCbeo4/Ep8RySQImu1dNJWCWSmVRJWQ3A59yuXJBeBs2L8AvcVGn1TiwIa6+oxMpATzAv1S9XY4jvnR4HNTLKSqE3s/+VCnROJD+IWBy+kfRRArFKuoN+EitUqLE8X2lUrpWYj3DX+RJBERNxS/DBxn1OpFPViOL0UAGvXZXQDcb9eI0R1+NcuwOFrK5qo9n5HGDW6fXIRigBM1n1fN8Qp3m1e9iDvINFJj2+d3s3K1rH0ShCTWQaieE4YLW76ceNZmao3AsWfXn4AE8divn4a61ZRNTc3QzmsDLN2HZJ8UMy12A4OjRqhGfLg2V3m000b1ZeRxWWshkKTmTPgmf7a/HTKOeZDEJvh1KGcUDDNwyAhm2DFuWDFuGLUuGLcOWYcva3bBRG0CJsd6FMWCGalfDRnVtcQvVst0mjMEowaR2TWGjoDWbzojbbetV2aVlMQaMZVfDdjusoqY7GI5Rtg6B4ztjthxjwFhqLXVNfzn22b3BduofHqfrw2Pilluz0bDrn7MpFkvCdcCiARpjkGJWR13rHeLmlUdDflE0T87MiwlXPAy0m4VgiJmVLq9T1J+lmgZUS7FTfFk8i4ImS86zZdgybFky7HqUeicPjtskRmNJzDxToVCUdqAqFTltTSLj2KmbjnYUNkDPL+ao0+cWMKQU7u6aSKbEo4S4iWbPuRFYtMdpkxz0qmXjWInUnOyz5QApsZytTZRIzohTXGohJuBY7h28NQ4+O18ql3bkTkgEK/jtcDQhOfDVAOlvsz/wceLJYNYiYI/klvKhnYCNrKDb5xKtkYW7YlkRuJEf8W8x5XKZZEmT3lb+jecqYJ9fXikU8XyjrNoL/8QDvvzynLLvcOg6vzg7Mp6s+sZ3WRsLPEdj4m9JzoLzajZynM39av9QlOIcsWWXsn3XEU/OEnjy65/BV8SoVbCV52o+4/aOVqNW4gkoFNSlmGVuVGGSBMEQT0PnVwpIQb4AaLbq3B2wV8XQe7l7m9sL3Lq5aWSMmxb+CzCMYAgfXXHRa/pXgAEAdjq+qfD3Of4AAAAASUVORK5CYII="},tNgP:function(e,t,n){"use strict";var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("selector",{attrs:{tools:e.tools,name:e.name,edit:e.edit,placeholder:e.isLoading?"获取数据中...":e.placeholder,"handle-change":e.handleChange,list:e.list,"toggle-visible":e.toggleVisible,"is-loading":e.isLoading,value:e.value,searchable:e.searchable,"multi-select":e.multiSelect,disabled:e.disabled||e.isLoading}},[e.hasAddItem?n("template",{slot:"props"},[n("div",{staticClass:"bk-selector-create-item"},[n("a",{attrs:{href:e.urlParse(e.webUrl+e.itemTargetUrl,{projectId:e.projectId}),target:"_blank"}},[n("i",{staticClass:"bk-icon icon-plus-circle"}),e._v("\n                "+e._s(e.itemText)+"\n            ")])])]):e._e()],2)},a=[];i._withStripped=!0,n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return a}))},tPz6:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={name:"stage-status",props:{status:String,type:String,editable:Boolean,serialNum:String,jobOption:Object}}},tq5z:function(e,t,n){"use strict";(function(e){var t;!function(){function e(e){this.mode=i.MODE_8BIT_BYTE,this.data=e,this.parsedData=[];for(var t=0,n=this.data.length;t<n;t++){var a=[],r=this.data.charCodeAt(t);r>65536?(a[0]=240|(1835008&r)>>>18,a[1]=128|(258048&r)>>>12,a[2]=128|(4032&r)>>>6,a[3]=128|63&r):r>2048?(a[0]=224|(61440&r)>>>12,a[1]=128|(4032&r)>>>6,a[2]=128|63&r):r>128?(a[0]=192|(1984&r)>>>6,a[1]=128|63&r):a[0]=r,this.parsedData.push(a)}this.parsedData=Array.prototype.concat.apply([],this.parsedData),this.parsedData.length!=this.data.length&&(this.parsedData.unshift(191),this.parsedData.unshift(187),this.parsedData.unshift(239))}function n(e,t){this.typeNumber=e,this.errorCorrectLevel=t,this.modules=null,this.moduleCount=0,this.dataCache=null,this.dataList=[]}e.prototype={getLength:function(e){return this.parsedData.length},write:function(e){for(var t=0,n=this.parsedData.length;t<n;t++)e.put(this.parsedData[t],8)}},n.prototype={addData:function(t){var n=new e(t);this.dataList.push(n),this.dataCache=null},isDark:function(e,t){if(e<0||this.moduleCount<=e||t<0||this.moduleCount<=t)throw new Error(e+","+t);return this.modules[e][t]},getModuleCount:function(){return this.moduleCount},make:function(){this.makeImpl(!1,this.getBestMaskPattern())},makeImpl:function(e,t){this.moduleCount=4*this.typeNumber+17,this.modules=new Array(this.moduleCount);for(var i=0;i<this.moduleCount;i++){this.modules[i]=new Array(this.moduleCount);for(var a=0;a<this.moduleCount;a++)this.modules[i][a]=null}this.setupPositionProbePattern(0,0),this.setupPositionProbePattern(this.moduleCount-7,0),this.setupPositionProbePattern(0,this.moduleCount-7),this.setupPositionAdjustPattern(),this.setupTimingPattern(),this.setupTypeInfo(e,t),this.typeNumber>=7&&this.setupTypeNumber(e),null==this.dataCache&&(this.dataCache=n.createData(this.typeNumber,this.errorCorrectLevel,this.dataList)),this.mapData(this.dataCache,t)},setupPositionProbePattern:function(e,t){for(var n=-1;n<=7;n++)if(!(e+n<=-1||this.moduleCount<=e+n))for(var i=-1;i<=7;i++)t+i<=-1||this.moduleCount<=t+i||(this.modules[e+n][t+i]=0<=n&&n<=6&&(0==i||6==i)||0<=i&&i<=6&&(0==n||6==n)||2<=n&&n<=4&&2<=i&&i<=4)},getBestMaskPattern:function(){for(var e=0,t=0,n=0;n<8;n++){this.makeImpl(!0,n);var i=f.getLostPoint(this);(0==n||e>i)&&(e=i,t=n)}return t},createMovieClip:function(e,t,n){var i=e.createEmptyMovieClip(t,n);this.make();for(var a=0;a<this.modules.length;a++)for(var r=1*a,s=0;s<this.modules[a].length;s++){var o=1*s;this.modules[a][s]&&(i.beginFill(0,100),i.moveTo(o,r),i.lineTo(o+1,r),i.lineTo(o+1,r+1),i.lineTo(o,r+1),i.endFill())}return i},setupTimingPattern:function(){for(var e=8;e<this.moduleCount-8;e++)null==this.modules[e][6]&&(this.modules[e][6]=e%2==0);for(var t=8;t<this.moduleCount-8;t++)null==this.modules[6][t]&&(this.modules[6][t]=t%2==0)},setupPositionAdjustPattern:function(){for(var e=f.getPatternPosition(this.typeNumber),t=0;t<e.length;t++)for(var n=0;n<e.length;n++){var i=e[t],a=e[n];if(null==this.modules[i][a])for(var r=-2;r<=2;r++)for(var s=-2;s<=2;s++)this.modules[i+r][a+s]=-2==r||2==r||-2==s||2==s||0==r&&0==s}},setupTypeNumber:function(e){for(var t=f.getBCHTypeNumber(this.typeNumber),n=0;n<18;n++){var i=!e&&1==(t>>n&1);this.modules[Math.floor(n/3)][n%3+this.moduleCount-8-3]=i}for(n=0;n<18;n++){i=!e&&1==(t>>n&1);this.modules[n%3+this.moduleCount-8-3][Math.floor(n/3)]=i}},setupTypeInfo:function(e,t){for(var n=this.errorCorrectLevel<<3|t,i=f.getBCHTypeInfo(n),a=0;a<15;a++){var r=!e&&1==(i>>a&1);a<6?this.modules[a][8]=r:a<8?this.modules[a+1][8]=r:this.modules[this.moduleCount-15+a][8]=r}for(a=0;a<15;a++){r=!e&&1==(i>>a&1);a<8?this.modules[8][this.moduleCount-a-1]=r:a<9?this.modules[8][15-a-1+1]=r:this.modules[8][15-a-1]=r}this.modules[this.moduleCount-8][8]=!e},mapData:function(e,t){for(var n=-1,i=this.moduleCount-1,a=7,r=0,s=this.moduleCount-1;s>0;s-=2)for(6==s&&s--;;){for(var o=0;o<2;o++)if(null==this.modules[i][s-o]){var u=!1;r<e.length&&(u=1==(e[r]>>>a&1)),f.getMask(t,i,s-o)&&(u=!u),this.modules[i][s-o]=u,-1==--a&&(r++,a=7)}if((i+=n)<0||this.moduleCount<=i){i-=n,n=-n;break}}}},n.PAD0=236,n.PAD1=17,n.createData=function(e,t,i){for(var a=g.getRSBlocks(e,t),r=new _,s=0;s<i.length;s++){var o=i[s];r.put(o.mode,4),r.put(o.getLength(),f.getLengthInBits(o.mode,e)),o.write(r)}var u=0;for(s=0;s<a.length;s++)u+=a[s].dataCount;if(r.getLengthInBits()>8*u)throw new Error("code length overflow. ("+r.getLengthInBits()+">"+8*u+")");for(r.getLengthInBits()+4<=8*u&&r.put(0,4);r.getLengthInBits()%8!=0;)r.putBit(!1);for(;!(r.getLengthInBits()>=8*u||(r.put(n.PAD0,8),r.getLengthInBits()>=8*u));)r.put(n.PAD1,8);return n.createBytes(r,a)},n.createBytes=function(e,t){for(var n=0,i=0,a=0,r=new Array(t.length),s=new Array(t.length),o=0;o<t.length;o++){var u=t[o].dataCount,l=t[o].totalCount-u;i=Math.max(i,u),a=Math.max(a,l),r[o]=new Array(u);for(var c=0;c<r[o].length;c++)r[o][c]=255&e.buffer[c+n];n+=u;var d=f.getErrorCorrectPolynomial(l),p=new v(r[o],d.getLength()-1).mod(d);s[o]=new Array(d.getLength()-1);for(c=0;c<s[o].length;c++){var h=c+p.getLength()-s[o].length;s[o][c]=h>=0?p.get(h):0}}var m=0;for(c=0;c<t.length;c++)m+=t[c].totalCount;var g=new Array(m),_=0;for(c=0;c<i;c++)for(o=0;o<t.length;o++)c<r[o].length&&(g[_++]=r[o][c]);for(c=0;c<a;c++)for(o=0;o<t.length;o++)c<s[o].length&&(g[_++]=s[o][c]);return g};for(var i={MODE_NUMBER:1,MODE_ALPHA_NUM:2,MODE_8BIT_BYTE:4,MODE_KANJI:8},a={L:1,M:0,Q:3,H:2},r=0,s=1,o=2,u=3,l=4,c=5,d=6,p=7,f={PATTERN_POSITION_TABLE:[[],[6,18],[6,22],[6,26],[6,30],[6,34],[6,22,38],[6,24,42],[6,26,46],[6,28,50],[6,30,54],[6,32,58],[6,34,62],[6,26,46,66],[6,26,48,70],[6,26,50,74],[6,30,54,78],[6,30,56,82],[6,30,58,86],[6,34,62,90],[6,28,50,72,94],[6,26,50,74,98],[6,30,54,78,102],[6,28,54,80,106],[6,32,58,84,110],[6,30,58,86,114],[6,34,62,90,118],[6,26,50,74,98,122],[6,30,54,78,102,126],[6,26,52,78,104,130],[6,30,56,82,108,134],[6,34,60,86,112,138],[6,30,58,86,114,142],[6,34,62,90,118,146],[6,30,54,78,102,126,150],[6,24,50,76,102,128,154],[6,28,54,80,106,132,158],[6,32,58,84,110,136,162],[6,26,54,82,110,138,166],[6,30,58,86,114,142,170]],G15:1335,G18:7973,G15_MASK:21522,getBCHTypeInfo:function(e){for(var t=e<<10;f.getBCHDigit(t)-f.getBCHDigit(f.G15)>=0;)t^=f.G15<<f.getBCHDigit(t)-f.getBCHDigit(f.G15);return(e<<10|t)^f.G15_MASK},getBCHTypeNumber:function(e){for(var t=e<<12;f.getBCHDigit(t)-f.getBCHDigit(f.G18)>=0;)t^=f.G18<<f.getBCHDigit(t)-f.getBCHDigit(f.G18);return e<<12|t},getBCHDigit:function(e){for(var t=0;0!=e;)t++,e>>>=1;return t},getPatternPosition:function(e){return f.PATTERN_POSITION_TABLE[e-1]},getMask:function(e,t,n){switch(e){case r:return(t+n)%2==0;case s:return t%2==0;case o:return n%3==0;case u:return(t+n)%3==0;case l:return(Math.floor(t/2)+Math.floor(n/3))%2==0;case c:return t*n%2+t*n%3==0;case d:return(t*n%2+t*n%3)%2==0;case p:return(t*n%3+(t+n)%2)%2==0;default:throw new Error("bad maskPattern:"+e)}},getErrorCorrectPolynomial:function(e){for(var t=new v([1],0),n=0;n<e;n++)t=t.multiply(new v([1,h.gexp(n)],0));return t},getLengthInBits:function(e,t){if(1<=t&&t<10)switch(e){case i.MODE_NUMBER:return 10;case i.MODE_ALPHA_NUM:return 9;case i.MODE_8BIT_BYTE:case i.MODE_KANJI:return 8;default:throw new Error("mode:"+e)}else if(t<27)switch(e){case i.MODE_NUMBER:return 12;case i.MODE_ALPHA_NUM:return 11;case i.MODE_8BIT_BYTE:return 16;case i.MODE_KANJI:return 10;default:throw new Error("mode:"+e)}else{if(!(t<41))throw new Error("type:"+t);switch(e){case i.MODE_NUMBER:return 14;case i.MODE_ALPHA_NUM:return 13;case i.MODE_8BIT_BYTE:return 16;case i.MODE_KANJI:return 12;default:throw new Error("mode:"+e)}}},getLostPoint:function(e){for(var t=e.getModuleCount(),n=0,i=0;i<t;i++)for(var a=0;a<t;a++){for(var r=0,s=e.isDark(i,a),o=-1;o<=1;o++)if(!(i+o<0||t<=i+o))for(var u=-1;u<=1;u++)a+u<0||t<=a+u||0==o&&0==u||s==e.isDark(i+o,a+u)&&r++;r>5&&(n+=3+r-5)}for(i=0;i<t-1;i++)for(a=0;a<t-1;a++){var l=0;e.isDark(i,a)&&l++,e.isDark(i+1,a)&&l++,e.isDark(i,a+1)&&l++,e.isDark(i+1,a+1)&&l++,0!=l&&4!=l||(n+=3)}for(i=0;i<t;i++)for(a=0;a<t-6;a++)e.isDark(i,a)&&!e.isDark(i,a+1)&&e.isDark(i,a+2)&&e.isDark(i,a+3)&&e.isDark(i,a+4)&&!e.isDark(i,a+5)&&e.isDark(i,a+6)&&(n+=40);for(a=0;a<t;a++)for(i=0;i<t-6;i++)e.isDark(i,a)&&!e.isDark(i+1,a)&&e.isDark(i+2,a)&&e.isDark(i+3,a)&&e.isDark(i+4,a)&&!e.isDark(i+5,a)&&e.isDark(i+6,a)&&(n+=40);var c=0;for(a=0;a<t;a++)for(i=0;i<t;i++)e.isDark(i,a)&&c++;return n+=10*(Math.abs(100*c/t/t-50)/5)}},h={glog:function(e){if(e<1)throw new Error("glog("+e+")");return h.LOG_TABLE[e]},gexp:function(e){for(;e<0;)e+=255;for(;e>=256;)e-=255;return h.EXP_TABLE[e]},EXP_TABLE:new Array(256),LOG_TABLE:new Array(256)},m=0;m<8;m++)h.EXP_TABLE[m]=1<<m;for(m=8;m<256;m++)h.EXP_TABLE[m]=h.EXP_TABLE[m-4]^h.EXP_TABLE[m-5]^h.EXP_TABLE[m-6]^h.EXP_TABLE[m-8];for(m=0;m<255;m++)h.LOG_TABLE[h.EXP_TABLE[m]]=m;function v(e,t){if(null==e.length)throw new Error(e.length+"/"+t);for(var n=0;n<e.length&&0==e[n];)n++;this.num=new Array(e.length-n+t);for(var i=0;i<e.length-n;i++)this.num[i]=e[i+n]}function g(e,t){this.totalCount=e,this.dataCount=t}function _(){this.buffer=[],this.length=0}v.prototype={get:function(e){return this.num[e]},getLength:function(){return this.num.length},multiply:function(e){for(var t=new Array(this.getLength()+e.getLength()-1),n=0;n<this.getLength();n++)for(var i=0;i<e.getLength();i++)t[n+i]^=h.gexp(h.glog(this.get(n))+h.glog(e.get(i)));return new v(t,0)},mod:function(e){if(this.getLength()-e.getLength()<0)return this;for(var t=h.glog(this.get(0))-h.glog(e.get(0)),n=new Array(this.getLength()),i=0;i<this.getLength();i++)n[i]=this.get(i);for(i=0;i<e.getLength();i++)n[i]^=h.gexp(h.glog(e.get(i))+t);return new v(n,0).mod(e)}},g.RS_BLOCK_TABLE=[[1,26,19],[1,26,16],[1,26,13],[1,26,9],[1,44,34],[1,44,28],[1,44,22],[1,44,16],[1,70,55],[1,70,44],[2,35,17],[2,35,13],[1,100,80],[2,50,32],[2,50,24],[4,25,9],[1,134,108],[2,67,43],[2,33,15,2,34,16],[2,33,11,2,34,12],[2,86,68],[4,43,27],[4,43,19],[4,43,15],[2,98,78],[4,49,31],[2,32,14,4,33,15],[4,39,13,1,40,14],[2,121,97],[2,60,38,2,61,39],[4,40,18,2,41,19],[4,40,14,2,41,15],[2,146,116],[3,58,36,2,59,37],[4,36,16,4,37,17],[4,36,12,4,37,13],[2,86,68,2,87,69],[4,69,43,1,70,44],[6,43,19,2,44,20],[6,43,15,2,44,16],[4,101,81],[1,80,50,4,81,51],[4,50,22,4,51,23],[3,36,12,8,37,13],[2,116,92,2,117,93],[6,58,36,2,59,37],[4,46,20,6,47,21],[7,42,14,4,43,15],[4,133,107],[8,59,37,1,60,38],[8,44,20,4,45,21],[12,33,11,4,34,12],[3,145,115,1,146,116],[4,64,40,5,65,41],[11,36,16,5,37,17],[11,36,12,5,37,13],[5,109,87,1,110,88],[5,65,41,5,66,42],[5,54,24,7,55,25],[11,36,12,7,37,13],[5,122,98,1,123,99],[7,73,45,3,74,46],[15,43,19,2,44,20],[3,45,15,13,46,16],[1,135,107,5,136,108],[10,74,46,1,75,47],[1,50,22,15,51,23],[2,42,14,17,43,15],[5,150,120,1,151,121],[9,69,43,4,70,44],[17,50,22,1,51,23],[2,42,14,19,43,15],[3,141,113,4,142,114],[3,70,44,11,71,45],[17,47,21,4,48,22],[9,39,13,16,40,14],[3,135,107,5,136,108],[3,67,41,13,68,42],[15,54,24,5,55,25],[15,43,15,10,44,16],[4,144,116,4,145,117],[17,68,42],[17,50,22,6,51,23],[19,46,16,6,47,17],[2,139,111,7,140,112],[17,74,46],[7,54,24,16,55,25],[34,37,13],[4,151,121,5,152,122],[4,75,47,14,76,48],[11,54,24,14,55,25],[16,45,15,14,46,16],[6,147,117,4,148,118],[6,73,45,14,74,46],[11,54,24,16,55,25],[30,46,16,2,47,17],[8,132,106,4,133,107],[8,75,47,13,76,48],[7,54,24,22,55,25],[22,45,15,13,46,16],[10,142,114,2,143,115],[19,74,46,4,75,47],[28,50,22,6,51,23],[33,46,16,4,47,17],[8,152,122,4,153,123],[22,73,45,3,74,46],[8,53,23,26,54,24],[12,45,15,28,46,16],[3,147,117,10,148,118],[3,73,45,23,74,46],[4,54,24,31,55,25],[11,45,15,31,46,16],[7,146,116,7,147,117],[21,73,45,7,74,46],[1,53,23,37,54,24],[19,45,15,26,46,16],[5,145,115,10,146,116],[19,75,47,10,76,48],[15,54,24,25,55,25],[23,45,15,25,46,16],[13,145,115,3,146,116],[2,74,46,29,75,47],[42,54,24,1,55,25],[23,45,15,28,46,16],[17,145,115],[10,74,46,23,75,47],[10,54,24,35,55,25],[19,45,15,35,46,16],[17,145,115,1,146,116],[14,74,46,21,75,47],[29,54,24,19,55,25],[11,45,15,46,46,16],[13,145,115,6,146,116],[14,74,46,23,75,47],[44,54,24,7,55,25],[59,46,16,1,47,17],[12,151,121,7,152,122],[12,75,47,26,76,48],[39,54,24,14,55,25],[22,45,15,41,46,16],[6,151,121,14,152,122],[6,75,47,34,76,48],[46,54,24,10,55,25],[2,45,15,64,46,16],[17,152,122,4,153,123],[29,74,46,14,75,47],[49,54,24,10,55,25],[24,45,15,46,46,16],[4,152,122,18,153,123],[13,74,46,32,75,47],[48,54,24,14,55,25],[42,45,15,32,46,16],[20,147,117,4,148,118],[40,75,47,7,76,48],[43,54,24,22,55,25],[10,45,15,67,46,16],[19,148,118,6,149,119],[18,75,47,31,76,48],[34,54,24,34,55,25],[20,45,15,61,46,16]],g.getRSBlocks=function(e,t){var n=g.getRsBlockTable(e,t);if(null==n)throw new Error("bad rs block @ typeNumber:"+e+"/errorCorrectLevel:"+t);for(var i=n.length/3,a=[],r=0;r<i;r++)for(var s=n[3*r+0],o=n[3*r+1],u=n[3*r+2],l=0;l<s;l++)a.push(new g(o,u));return a},g.getRsBlockTable=function(e,t){switch(t){case a.L:return g.RS_BLOCK_TABLE[4*(e-1)+0];case a.M:return g.RS_BLOCK_TABLE[4*(e-1)+1];case a.Q:return g.RS_BLOCK_TABLE[4*(e-1)+2];case a.H:return g.RS_BLOCK_TABLE[4*(e-1)+3];default:return}},_.prototype={get:function(e){var t=Math.floor(e/8);return 1==(this.buffer[t]>>>7-e%8&1)},put:function(e,t){for(var n=0;n<t;n++)this.putBit(1==(e>>>t-n-1&1))},getLengthInBits:function(){return this.length},putBit:function(e){var t=Math.floor(this.length/8);this.buffer.length<=t&&this.buffer.push(0),e&&(this.buffer[t]|=128>>>this.length%8),this.length++}};var b=[[17,14,11,7],[32,26,20,14],[53,42,32,24],[78,62,46,34],[106,84,60,44],[134,106,74,58],[154,122,86,64],[192,152,108,84],[230,180,130,98],[271,213,151,119],[321,251,177,137],[367,287,203,155],[425,331,241,177],[458,362,258,194],[520,412,292,220],[586,450,322,250],[644,504,364,280],[718,560,394,310],[792,624,442,338],[858,666,482,382],[929,711,509,403],[1003,779,565,439],[1091,857,611,461],[1171,911,661,511],[1273,997,715,535],[1367,1059,751,593],[1465,1125,805,625],[1528,1190,868,658],[1628,1264,908,698],[1732,1370,982,742],[1840,1452,1030,790],[1952,1538,1112,842],[2068,1628,1168,898],[2188,1722,1228,958],[2303,1809,1283,983],[2431,1911,1351,1051],[2563,1989,1423,1093],[2699,2099,1499,1139],[2809,2213,1579,1219],[2953,2331,1663,1273]];var y=function(){var e=function(e,t){this._el=e,this._htOption=t};return e.prototype.draw=function(e){var t=this._htOption,n=this._el,i=e.getModuleCount();Math.floor(t.width/i),Math.floor(t.height/i);function a(e,t){var n=document.createElementNS("http://www.w3.org/2000/svg",e);for(var i in t)t.hasOwnProperty(i)&&n.setAttribute(i,t[i]);return n}this.clear();var r=a("svg",{viewBox:"0 0 "+String(i)+" "+String(i),width:"100%",height:"100%",fill:t.colorLight});r.setAttributeNS("http://www.w3.org/2000/xmlns/","xmlns:xlink","http://www.w3.org/1999/xlink"),n.appendChild(r),r.appendChild(a("rect",{fill:t.colorLight,width:"100%",height:"100%"})),r.appendChild(a("rect",{fill:t.colorDark,width:"1",height:"1",id:"template"}));for(var s=0;s<i;s++)for(var o=0;o<i;o++)if(e.isDark(s,o)){var u=a("use",{x:String(s),y:String(o)});u.setAttributeNS("http://www.w3.org/1999/xlink","href","#template"),r.appendChild(u)}},e.prototype.clear=function(){for(;this._el.hasChildNodes();)this._el.removeChild(this._el.lastChild)},e}(),C="svg"===document.documentElement.tagName.toLowerCase()?y:"undefined"==typeof CanvasRenderingContext2D?function(){var e=function(e,t){this._el=e,this._htOption=t};return e.prototype.draw=function(e){for(var t=this._htOption,n=this._el,i=e.getModuleCount(),a=Math.floor(t.width/i),r=Math.floor(t.height/i),s=['<table style="border:0;border-collapse:collapse;">'],o=0;o<i;o++){s.push("<tr>");for(var u=0;u<i;u++)s.push('<td style="border:0;border-collapse:collapse;padding:0;margin:0;width:'+a+"px;height:"+r+"px;background-color:"+(e.isDark(o,u)?t.colorDark:t.colorLight)+';"></td>');s.push("</tr>")}s.push("</table>"),n.innerHTML=s.join("");var l=n.childNodes[0],c=(t.width-l.offsetWidth)/2,d=(t.height-l.offsetHeight)/2;c>0&&d>0&&(l.style.margin=d+"px "+c+"px")},e.prototype.clear=function(){this._el.innerHTML=""},e}():function(){function e(){this._elImage.src=this._elCanvas.toDataURL("image/png"),this._elImage.style.setProperty("display","block","important"),this._elCanvas.style.setProperty("display","none","important")}function t(e,t){var n=this;if(n._fFail=t,n._fSuccess=e,null===n._bSupportDataURI){var i=document.createElement("img"),a=function(){n._bSupportDataURI=!1,n._fFail&&n._fFail.call(n)};return i.onabort=a,i.onerror=a,i.onload=function(){n._bSupportDataURI=!0,n._fSuccess&&n._fSuccess.call(n)},void(i.src="data:image/gif;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAAHElEQVQI12P4//8/w38GIAXDIBKE0DHxgljNBAAO9TXL0Y4OHwAAAABJRU5ErkJggg==")}!0===n._bSupportDataURI&&n._fSuccess?n._fSuccess.call(n):!1===n._bSupportDataURI&&n._fFail&&n._fFail.call(n)}var n=function(e,t){this._bIsPainted=!1,this._htOption=t,this._elCanvas=document.createElement("canvas"),this._elCanvas.width=t.width,this._elCanvas.height=t.height,e.appendChild(this._elCanvas),this._el=e,this._oContext=this._elCanvas.getContext("2d"),this._bIsPainted=!1,this._elImage=document.createElement("img"),this._elImage.alt="Scan me!",this._elImage.style.setProperty("display","none","important"),this._el.appendChild(this._elImage),this._bSupportDataURI=null};return n.prototype.draw=function(e){var t=this._elImage,n=this._oContext,i=this._htOption,a=e.getModuleCount(),r=i.width/a,s=i.height/a,o=Math.round(r),u=Math.round(s);t.style.setProperty("display","none","important"),this.clear();for(var l=0;l<a;l++)for(var c=0;c<a;c++){var d=e.isDark(l,c),p=c*r,f=l*s;n.strokeStyle=d?i.colorDark:i.colorLight,n.lineWidth=1,n.fillStyle=d?i.colorDark:i.colorLight,n.fillRect(p,f,r,s),n.strokeRect(Math.floor(p)+.5,Math.floor(f)+.5,o,u),n.strokeRect(Math.ceil(p)-.5,Math.ceil(f)-.5,o,u)}this._bIsPainted=!0},n.prototype.makeImage=function(){this._bIsPainted&&t.call(this,e)},n.prototype.isPainted=function(){return this._bIsPainted},n.prototype.clear=function(){this._oContext.clearRect(0,0,this._elCanvas.width,this._elCanvas.height),this._bIsPainted=!1},n.prototype.round=function(e){return e?Math.floor(1e3*e)/1e3:e},n}();function I(e,t){for(var n=1,i=function(e){var t=encodeURI(e).toString().replace(/\%[0-9a-fA-F]{2}/g,"a");return t.length+(t.length!=e?3:0)}(e),r=0,s=b.length;r<=s;r++){var o=0;switch(t){case a.L:o=b[r][0];break;case a.M:o=b[r][1];break;case a.Q:o=b[r][2];break;case a.H:o=b[r][3]}if(i<=o)break;n++}if(n>b.length)throw new Error("Too long data");return n}(t=function(e,t){if(this._htOption={width:256,height:256,typeNumber:4,colorDark:"#000000",colorLight:"#ffffff",correctLevel:a.H},"string"==typeof t&&(t={text:t}),t)for(var n in t)this._htOption[n]=t[n];"string"==typeof e&&(e=document.getElementById(e)),this._htOption.useSVG&&(C=y),this._el=e,this._oQRCode=null,this._oDrawing=new C(this._el,this._htOption),this._htOption.text&&this.makeCode(this._htOption.text)}).prototype.makeCode=function(e){this._oQRCode=new n(I(e,this._htOption.correctLevel),this._htOption.correctLevel),this._oQRCode.addData(e),this._oQRCode.make(),this._el.title=e,this._oDrawing.draw(this._oQRCode),this.makeImage()},t.prototype.makeImage=function(){},t.prototype.clear=function(){this._oDrawing.clear()},t.CorrectLevel=a}(),e&&e.exports&&(e.exports=t)}).call(this,n("RoC8")(e))},tuHn:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={props:{name:{type:String,required:!0},value:{type:String,required:!0,default:""},disabled:{type:Boolean,default:!1},handleChange:{type:Function,default:function(){return function(){}}},atomValue:{type:Object,default:function(){return{}}},container:{type:Object,default:function(){return{}}},rule:{type:Object,default:function(){return{}}},component:String,required:Boolean,hasError:{type:Boolean},hidden:{type:Boolean,default:!1}},watch:{value:function(e,t){e!==t&&this.$emit("input",e)}}}},unRz:function(e,t,n){"use strict";var i=function(){var e,t=this,n=t.$createElement,i=t._self._c||n;return i("div",{ref:"stageContainer",class:{"soda-stage-container":!0,"first-container":0===t.stageIndex,readonly:!t.editable||t.containerDisabled}},[t.isOnlyOneContainer||t.containerLength-1===t.containerIndex?t._e():[i("span",{staticClass:"connect-line left",class:{cruve:0===t.containerIndex}}),t._v(" "),i("span",{staticClass:"connect-line right",class:{cruve:0===t.containerIndex}})],t._v(" "),i("show-tooltip",t._b({attrs:{placement:"bottom"}},"show-tooltip",t.containerTooltipConfig,!1),[i("h3",{class:(e={"container-title":!0,"first-ctitle":0===t.containerIndex},e[t.container.status]=t.container.status,e),on:{click:t.showContainerPanel}},[i("status-icon",{attrs:{type:"container",editable:t.editable,"job-option":t.container.jobControlOption,status:t.container.status}},[t._v("\n                "+t._s(t.containerSerialNum)+"\n            ")]),t._v(" "),i("p",{staticClass:"container-name",attrs:{title:t.container.name}},[i("span",[t._v(t._s("PREPARE_ENV"===t.container.status?"准备构建环境中":t.container.name))])]),t._v(" "),t.showCheckedToatal?t._e():i("container-type",{attrs:{container:t.container}}),t._v(" "),t.showCheckedToatal?i("bk-checkbox",{staticClass:"atom-canskip-checkbox",attrs:{disabled:t.containerDisabled},on:{click:function(e){e.stopPropagation()}},model:{value:t.container.runContainer,callback:function(e){t.$set(t.container,"runContainer",e)},expression:"container.runContainer"}}):t._e(),t._v(" "),t.showDebugBtn?i("bk-button",{staticClass:"debug-btn",attrs:{theme:"warning"},on:{click:function(e){return e.stopPropagation(),t.debugDocker(e)}}},[t._v("登录调试")]):t._e()],1)]),t._v(" "),i("atom-list",{attrs:{container:t.container,editable:t.editable,"is-preview":t.isPreview,"stage-index":t.stageIndex,"container-index":t.containerIndex,"container-status":t.container.status}})],2)},a=[];i._withStripped=!0,n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return a}))},uwF2:function(e,t,n){"use strict";n.r(t);var i=n("7F+8"),a=n.n(i);for(var r in i)"default"!==r&&function(e){n.d(t,e,(function(){return i[e]}))}(r);t.default=a.a},vFIl:function(e,t,n){"use strict";n.r(t);var i=n("SOFi"),a=n.n(i);for(var r in i)"default"!==r&&function(e){n.d(t,e,(function(){return i[e]}))}(r);t.default=a.a},vJWW:function(e,t,n){"use strict";n.r(t);var i=n("GRau"),a=n("xTA7");for(var r in a)"default"!==r&&function(e){n.d(t,e,(function(){return a[e]}))}(r);n("mwXv");var s=n("psIG"),o=Object(s.a)(a.default,i.a,i.b,!1,null,null,null);o.options.__file="src/components/viewPart/index.vue",t.default=o.exports},vcXH:function(e,t,n){},"vl+a":function(e,t,n){"use strict";n.r(t);var i=n("TMp7"),a=n("JDfl");for(var r in a)"default"!==r&&function(e){n.d(t,e,(function(){return a[e]}))}(r);n("H0V5");var s=n("psIG"),o=Object(s.a)(a.default,i.a,i.b,!1,null,null,null);o.options.__file="src/components/atomFormField/ExperienceInput/index.vue",t.default=o.exports},vozC:function(e,t,n){"use strict";var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("accordion",{key:"otherChoice",attrs:{"show-checkbox":"","show-content":""}},[n("header",{staticClass:"var-header",attrs:{slot:"header"},slot:"header"},[n("span",[e._v("流程控制选项")]),e._v(" "),n("i",{staticClass:"bk-icon icon-angle-down",staticStyle:{display:"block"}})]),e._v(" "),n("div",{staticClass:"bk-form bk-form-vertical",attrs:{slot:"content"},slot:"content"},[e._l(e.optionModel,(function(t,i){return[e.isHidden(t,e.jobOption)?e._e():n("form-field",{key:i,attrs:{desc:t.desc,required:t.required,label:t.label,"is-error":e.errors.has(i),"error-msg":e.errors.first(i)}},[n(t.component,e._b({directives:[{name:"validate",rawName:"v-validate.initial",value:Object.assign({},t.rule,{required:!!t.required}),expression:"Object.assign({}, obj.rule, { required: !!obj.required })",modifiers:{initial:!0}}],tag:"component",attrs:{"set-parent-validate":e.setKeyValueValidate,name:i,"handle-change":e.handleUpdateJobOption,value:e.jobOption[i],disabled:e.disabled}},"component",t,!1))],1)]}))],2)])},a=[];i._withStripped=!0,n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return a}))},vtTT:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=c(n("/9Wh")),a=c(n("TcPG")),r=c(n("Kz1y")),s=n("WIBD"),o=c(n("WyVq")),u=c(n("0w5d")),l=n("GBhW");function c(e){return e&&e.__esModule?e:{default:e}}t.default={name:"job-config",mixins:[o.default,u.default],props:{jobOption:{type:Object,default:{}},disabled:{type:Boolean,default:!1},updateContainerParams:{type:Function,required:!0}},computed:{optionModel:function(){return l.JOB_OPTION||{}}},created:function(){this.disabled||this.initOptionConfig()},methods:(0,r.default)({},(0,s.mapActions)("atom",["setPipelineEditing"]),{getJobOptionDefault:l.getJobOptionDefault,handleUpdateJobOption:function(e,t){this.setPipelineEditing(!0),this.updateContainerParams("jobControlOption",(0,r.default)(this.jobOption||{},(0,a.default)({},e,t)))},initOptionConfig:function(){void 0!==this.jobOption&&"{}"!==(0,i.default)(this.jobOption)||this.updateContainerParams("jobControlOption",this.getJobOptionDefault())},setKeyValueValidate:function(e,t){this.$emit("setKeyValueValidate",e,t)}})}},wGqH:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=r(n("ZdkB")),a=r(n("eI+G"));function r(e){return e&&e.__esModule?e:{default:e}}t.default={name:"bkdevops-running-lock-setting-tab",components:{EnumInput:i.default,VuexInput:a.default},props:{pipelineSetting:Object,handleRunningLockChange:Function},computed:{runTypeList:function(){return[{label:"可同时运行多个构建任务",value:"MULTIPLE"},{label:"同一时间最多只能运行一个构建任务",value:"SINGLE"},{label:"锁定流水线，任何触发方式都无法运行",value:"LOCK"}]}}}},wR2U:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={props:{config:{type:Object,default:{data:[],onChange:function(){}},required:!0},name:{type:String,required:!0},value:{type:String},placeholder:{type:String,default:"请输入"},disabled:{type:Boolean,default:!1}},data:function(){return{showList:!1,focusList:"",list:[],groupIdStr:this.value}},watch:{"config.data":function(e){this.getData()}},created:function(){this.getData()},methods:{input:function(e){this.showList=!0,this.focusList=-1;var t=void 0;if(e){var n=e.target.value;t=e.target.value,n=n.replace(new RegExp(";+","gm"),";");var i=t.lastIndexOf(";");i>-1?(this.groupIdStr=t.substring(0,i+1)||"",t=t.substring(i+1)):this.groupIdStr="",this.config.onChange(this.name,n)}else t="";this.filterData(t)},hideAll:function(e){var t=this;setTimeout((function(){t.showList=!1}),250)},focus:function(e){var t=this;if(this.showList=!0,this.focusList=-1,this.value){var n=this.value.lastIndexOf(";"),i=n>-1?this.value.substring(n+1):this.value;this.filterData(i),this.list.map((function(e,n){e===i&&(t.focusList=n)}))}},mousemove:function(e){this.focusList=e},keydown:function(e){var t=e.keyCode;if(this.showList){switch(t){case 40:e.preventDefault(),this.focusList++;break;case 38:e.preventDefault(),this.focusList--;break;case 13:if(this.focusList<0)return!1;this.selectList(this.list[this.focusList]),this.showList=!1,this.input();break;case 27:this.showList=!1}var n=this.list.length-1;13===t||8===t&&!this.groupIdStr?this.focusList=-1:this.focusList=this.focusList>n?0:this.focusList<0?n:this.focusList}},activeClass:function(e){return{"bk-selector-selected":e===this.focusList}},selectList:function(e){e&&(this.groupIdStr+=e+";"),this.config.onChange(this.name,this.groupIdStr)},filterData:function(e){this.list=this.config.data.filter((function(t){return t.indexOf(e)>-1})),this.list.length||(this.showList=!1)},getData:function(){this.list=this.config.data}}}},wRBT:function(e,t,n){"use strict";n.r(t);var i=n("7xSW"),a=n.n(i);for(var r in i)"default"!==r&&function(e){n.d(t,e,(function(){return i[e]}))}(r);t.default=a.a},wRgW:function(e,t,n){"use strict";var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"build-params-comp"},[e.isExecDetail?n("ul",{directives:[{name:"bkloading",rawName:"v-bkloading",value:{isLoading:!e.buildParams},expression:"{ isLoading: !buildParams }"}]},e._l(e.buildParams,(function(t){return n("li",{key:t.key,staticClass:"param-item"},[n("vuex-input",{attrs:{disabled:!0,name:"key",value:t.key}}),e._v(" "),n("span",[e._v("=")]),e._v(" "),n("vuex-input",{attrs:{disabled:!0,name:"value",value:t.value}})],1)})),0):[n("accordion",{attrs:{"show-checkbox":"","show-content":e.isShowVersionParams,"is-version":"true"}},[n("template",{slot:"header"},[n("span",[e._v("\n                    推荐版本号\n                    "),n("bk-popover",{attrs:{placement:"right"}},[n("i",{staticClass:"bk-icon icon-info-circle",staticStyle:{display:"block"}}),e._v(" "),n("div",{staticStyle:{"white-space":"pre-wrap"},attrs:{slot:"content"},slot:"content"},[n("div",[e._v(" 可以在插件中引用该变量,用于设置版本号或其他需要用到该变量的地方 ")])])])],1),e._v(" "),n("input",{staticClass:"accordion-checkbox",attrs:{disabled:e.disabled,type:"checkbox",name:"versions"},domProps:{checked:e.showVersions},on:{click:function(e){e.stopPropagation()},change:e.toggleVersions}})]),e._v(" "),n("div",{attrs:{slot:"content"},slot:"content"},[e.showVersions?n("div",{staticClass:"params-flex-col"},e._l(e.allVersionKeyList,(function(t){return n("form-field",{key:t,attrs:{required:t.required,label:e.versionConfig[t].label,"is-error":e.errors.has(t),"error-msg":e.errors.first(t)}},[n("vuex-input",{directives:[{name:"validate",rawName:"v-validate.initial",value:"required|numeric",expression:'"required|numeric"',modifiers:{initial:!0}}],attrs:{disabled:e.disabled,"input-type":"number",name:t,placeholder:e.versionConfig[t].placeholder,value:e.getVersionById(t).defaultValue,"handle-change":e.handleVersionsChange}})],1)})),1):e._e(),e._v(" "),e.buildNo?[n("div",{staticClass:"params-flex-col"},[n("form-field",{attrs:{required:!0,label:"构建号","is-error":e.errors.has("buildNo"),"error-msg":e.errors.first("buildNo")}},[n("vuex-input",{directives:[{name:"validate",rawName:"v-validate.initial",value:"required|numeric",expression:'"required|numeric"',modifiers:{initial:!0}}],attrs:{disabled:e.disabled,"input-type":"number",name:"buildNo",placeholder:"BuildNo",value:e.buildNo.buildNo,"handle-change":e.handleBuildNoChange}})],1),e._v(" "),n("form-field",{staticClass:"flex-colspan-2",attrs:{required:!0,"is-error":e.errors.has("buildNoType"),"error-msg":e.errors.first("buildNoType")}},[n("enum-input",{directives:[{name:"validate",rawName:"v-validate.initial",value:"required|string",expression:'"required|string"',modifiers:{initial:!0}}],attrs:{list:e.buildNoRules,disabled:e.disabled,name:"buildNoType",value:e.buildNo.buildNoType,"handle-change":e.handleBuildNoChange}})],1)],1)]:e._e()],2)],2)]],2)},a=[];i._withStripped=!0,n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return a}))},wgB3:function(e,t,n){"use strict";var i=n("1kY+");n.n(i).a},wm1E:function(e,t,n){"use strict";n.r(t);var i=n("neEv"),a=n("80kE");for(var r in a)"default"!==r&&function(e){n.d(t,e,(function(){return a[e]}))}(r);n("MkV0");var s=n("psIG"),o=Object(s.a)(a.default,i.a,i.b,!1,null,null,null);o.options.__file="src/components/devops/emptyTips.vue",t.default=o.exports},woXs:function(e,t,n){"use strict";n.r(t);var i=n("i5G6"),a=n("Naye");for(var r in a)"default"!==r&&function(e){n.d(t,e,(function(){return a[e]}))}(r);var s=n("psIG"),o=Object(s.a)(a.default,i.a,i.b,!1,null,null,null);o.options.__file="src/components/atomFormField/GitRequestSelector/index.vue",t.default=o.exports},wqmO:function(e,t,n){"use strict";var i=function(){var e=this.$createElement;return(this._self._c||e)("div",{directives:[{name:"bkloading",rawName:"v-bkloading",value:{isLoading:!this.pipelineSetting},expression:"{ isLoading: !pipelineSetting }"}],staticClass:"bkdevops-clean-policy-setting-tab"},[this._m(0)])},a=[function(){var e=this.$createElement,t=this._self._c||e;return t("p",{staticClass:"hint"},[t("i",{staticClass:"bk-icon icon-info-circle-shape"}),this._v("\n        定期清理流水线构建可以大大提升整个蓝盾的加载速度，请合理配置清理策略\n    ")])}];i._withStripped=!0,n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return a}))},xHIY:function(e,t,n){},xTA7:function(e,t,n){"use strict";n.r(t);var i=n("fW58"),a=n.n(i);for(var r in i)"default"!==r&&function(e){n.d(t,e,(function(){return i[e]}))}(r);t.default=a.a},xZSC:function(e,t,n){"use strict";var i=n("/91b");n.n(i).a},xZjW:function(e,t,n){"use strict";n.r(t);var i=n("1JUa"),a=n.n(i);for(var r in i)"default"!==r&&function(e){n.d(t,e,(function(){return i[e]}))}(r);t.default=a.a},yElF:function(e,t,n){"use strict";n.r(t);var i=n("Bxa+"),a=n.n(i);for(var r in i)"default"!==r&&function(e){n.d(t,e,(function(){return i[e]}))}(r);t.default=a.a},yIhZ:function(e,t,n){"use strict";var i=n("obfs");n.n(i).a},yPI5:function(e,t,n){},yScV:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i,a=n("Kz1y"),r=(i=a)&&i.__esModule?i:{default:i},s=n("WIBD"),o=n("ygAv");t.default={name:"container-type",props:{container:Object},computed:(0,r.default)({},(0,s.mapGetters)("atom",["isVmContainer","isNormalContainer","isTriggerContainer"]),{icon:function(){var e=this.$createElement,t=this.container,n=this.isVmContainer,i=this.isNormalContainer,a=this.isTriggerContainer,r=this.convertElapsed,s=t.vmNames,u=void 0===s?[]:s,l=t.baseOS,c=void 0===l?"":l,d=t.elements,p=void 0===d?[]:d,f={};switch(!0){case void 0!==t.systemElapsed||void 0!==t.elementElapsed:var h=r(t.systemElapsed),m=r(t.elementElapsed),v=h+m,g=v<36e5;return e("i",{directives:[{name:"bk-tooltips",value:{content:"用户耗时："+(0,o.convertMStoString)(m)+" + 系统耗时： "+(0,o.convertMStoString)(h)}}]},[g?(0,o.coverTimer)(v):">1h"]);case t.isError:f={class:"bk-icon icon-exclamation-triangle-shape is-danger"};break;case n(t):f={class:"bk-icon icon-"+c.toLowerCase(),title:u.join(",")};break;case i(t):f={class:"bk-icon icon-none"};break;case a(t):return e("i",[p.length,"个"])}return e("i",f)}}),methods:{convertElapsed:function(e){return void 0===e?0:parseInt(e)}},render:function(e){return e("span",{class:"container-type"},[this.icon])}}},"yfl+":function(e,t,n){"use strict";n.r(t);var i=n("HJb0"),a=n.n(i);for(var r in i)"default"!==r&&function(e){n.d(t,e,(function(){return i[e]}))}(r);t.default=a.a},ymhC:function(e,t,n){"use strict";n.r(t);var i=n("3jln"),a=n.n(i);for(var r in i)"default"!==r&&function(e){n.d(t,e,(function(){return i[e]}))}(r);t.default=a.a},zLKB:function(e,t,n){"use strict";var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"build-params-comp"},[[n("accordion",{attrs:{"show-checkbox":"","show-content":e.hasGlobalParams}},[n("template",{slot:"header"},[n("span",[e._v("\n                    "+e._s(e.title)+"\n                    "),n("bk-popover",{attrs:{placement:"right"}},[n("i",{staticClass:"bk-icon icon-info-circle",staticStyle:{display:"block"}}),e._v(" "),n("div",{staticStyle:{"white-space":"pre-wrap"},attrs:{slot:"content"},slot:"content"},[n("div",[e._v(" 可以在插件中引用该变量 ")])])])],1)]),e._v(" "),n("template",{slot:"content"},[e.hasGlobalParams?[n("draggable",{attrs:{options:e.paramsDragOptions},model:{value:e.globalParams,callback:function(t){e.globalParams=t},expression:"globalParams"}},e._l(e.globalParams,(function(t,i){return n("accordion",{key:i,attrs:{"is-error":e.errors.any("param-"+i)}},[n("header",{staticClass:"param-header",attrs:{slot:"header"},slot:"header"},[n("span",[e._v(e._s(t.id))]),e._v(" "),e.disabled||"templateParams"===e.settingKey?e._e():n("i",{staticClass:"bk-icon",class:[t.required?"icon-eye":"icon-eye-slash"],on:{click:function(t){return t.stopPropagation(),t.preventDefault(),e.editParamShow(i)}}}),e._v(" "),e.disabled?e._e():n("i",{staticClass:"bk-icon icon-move"}),e._v(" "),e.disabled?e._e():n("i",{staticClass:"bk-icon icon-minus",on:{click:function(t){return t.stopPropagation(),t.preventDefault(),e.editParam(i,!1)}}})]),e._v(" "),n("bk-form",{attrs:{slot:"content"},slot:"content"},[n("div",{staticClass:"params-flex-col"},[n("bk-form-item",{staticClass:"flex-colspan-7",attrs:{label:"变量类型"}},[n("selector",{attrs:{"data-vv-scope":"param-"+i,disabled:e.disabled,name:"type",list:e.paramsList,"handle-change":function(n,i){return e.handleParamTypeChange(n,i,e.getParamIndex(t.id))},value:t.type}})],1),e._v(" "),"templateParams"!==e.settingKey?n("bk-form-item",{staticClass:"flex-colspan-2"},[n("atom-checkbox",{attrs:{disabled:e.disabled,text:"执行时显示",value:t.required,name:"required","handle-change":function(n,i){return e.handleUpdateParam(n,i,e.getParamIndex(t.id))}}})],1):e._e()],1),e._v(" "),n("div",{staticClass:"params-flex-col pt10"},[n("bk-form-item",{attrs:{label:"名称","is-error":e.errors.has("param-"+i+".id"),"error-msg":e.errors.first("param-"+i+".id")}},[n("vuex-input",{directives:[{name:"validate",rawName:"v-validate.initial",value:"required|unique:"+e.validateParams.map((function(e){return e.id})).join(","),expression:'`required|unique:${validateParams.map(p => p.id).join(",")}`',modifiers:{initial:!0}}],attrs:{"data-vv-scope":"param-"+i,disabled:e.disabled,"handle-change":function(n,i){return e.handleUpdateParam(n,i,e.getParamIndex(t.id))},name:"id",placeholder:"请输入名称",value:t.id}})],1),e._v(" "),n("bk-form-item",{attrs:{label:"默认值",required:e.isBooleanParam(t.type),"is-error":e.errors.has("param-"+i+".defaultValue"),"error-msg":e.errors.first("param-"+i+".defaultValue"),desc:e.showTips}},[e.isSelectorParam(t.type)?n("selector",{attrs:{"handle-change":function(n,i){return e.handleUpdateParam(n,i,e.getParamIndex(t.id))},list:e.transformOpt(t.options),"multi-select":e.isMultipleParam(t.type),name:"defaultValue","data-vv-scope":"param-"+i,placeholder:"请输入默认值",disabled:e.disabled,value:e.getSelectorDefaultVal(t)}}):e._e(),e._v(" "),e.isBooleanParam(t.type)?n("enum-input",{staticStyle:{"line-height":"30px"},attrs:{name:"defaultValue",list:e.boolList,disabled:e.disabled,"data-vv-scope":"param-"+i,"handle-change":function(n,i){return e.handleUpdateParam(n,i,e.getParamIndex(t.id))},value:t.defaultValue}}):e._e(),e._v(" "),e.isStringParam(t.type)||e.isSvnParam(t.type)?n("vuex-input",{attrs:{disabled:e.disabled,"handle-change":function(n,i){return e.handleUpdateParam(n,i,e.getParamIndex(t.id))},name:"defaultValue","data-vv-scope":"param-"+i,placeholder:"请输入默认值",value:t.defaultValue}}):e._e(),e._v(" "),e.isCodelibParam(t.type)?n("request-selector",e._b({attrs:{url:e.getCodeUrl(t.scmType),disabled:e.disabled,name:"defaultValue",value:t.defaultValue,"handle-change":function(n,i){return e.handleUpdateParam(n,i,e.getParamIndex(t.id))},"data-vv-scope":"param-"+i}},"request-selector",e.codelibOption,!1)):e._e(),e._v(" "),e.isBuildResourceParam(t.type)?n("request-selector",{attrs:{url:e.getBuildResourceUrl(t.containerType),"param-id":"name",disabled:e.disabled,name:"defaultValue",value:t.defaultValue,"handle-change":function(n,i){return e.handleUpdateParam(n,i,e.getParamIndex(t.id))},"data-vv-scope":"param-"+i}}):e._e()],1)],1),e._v(" "),e.isSelectorParam(t.type)?n("bk-form-item",{attrs:{label:"下拉选项",desc:"用换行符分隔选项，选项不能包含英文逗号，重复的选项将只会显示一个","is-error":e.errors.has("param-"+i+".options"),"error-msg":e.errors.first("param-"+i+".options")}},[n("vuex-textarea",{directives:[{name:"validate",rawName:"v-validate.initial",value:"excludeComma",expression:'"excludeComma"',modifiers:{initial:!0}}],attrs:{disabled:e.disabled,"handle-change":function(n,i){return e.editOption(n,i,e.getParamIndex(t.id))},name:"options","data-vv-scope":"param-"+i,placeholder:"多行记录请换行输入",value:e.getOptions(t)}})],1):e._e(),e._v(" "),e.isSvnParam(t.type)?n("bk-form-item",{attrs:{label:"请选择svn代码库","is-error":e.errors.has("param-"+i+".repoHashId"),"error-msg":e.errors.first("param-"+i+".repoHashId")}},[n("request-selector",e._b({directives:[{name:"validate",rawName:"v-validate.initial",value:"required",expression:'"required"',modifiers:{initial:!0}}],attrs:{disabled:e.disabled,name:"repoHashId",value:t.repoHashId,"handle-change":function(n,i){return e.handleUpdateParam(n,i,e.getParamIndex(t.id))},"data-vv-scope":"param-"+i}},"request-selector",e.svnPathOption,!1))],1):e._e(),e._v(" "),e.isSvnParam(t.type)?n("bk-form-item",{attrs:{label:"代码库相对目录","is-error":e.errors.has("param-"+i+".relativePath"),"error-msg":e.errors.first("param-"+i+".relativePath")}},[n("vuex-input",{attrs:{disabled:e.disabled,"handle-change":function(n,i){return e.handleUpdateParam(n,i,e.getParamIndex(t.id))},name:"relativePath","data-vv-scope":"param-"+i,placeholder:"请填写代码库相对目录,如为空则会拉取所选代码库的根路径下的子目录",value:t.relativePath}})],1):e._e(),e._v(" "),e.isCodelibParam(t.type)?n("bk-form-item",{attrs:{label:"请选择代码库类型","is-error":e.errors.has("param-"+i+".scmType"),"error-msg":e.errors.first("param-"+i+".scmType")}},[n("selector",{attrs:{disabled:e.disabled,list:e.codeTypeList,"handle-change":function(n,i){return e.handleCodeTypeChange(n,i,e.getParamIndex(t.id))},name:"scmType","data-vv-scope":"param-"+i,placeholder:"",value:t.scmType}})],1):e._e(),e._v(" "),e.isBuildResourceParam(t.type)?[n("bk-form-item",{attrs:{label:"请选择构建环境","is-error":e.errors.has("param-"+i+".os"),"error-msg":e.errors.first("param-"+i+".os")}},[n("selector",{attrs:{disabled:e.disabled,list:e.baseOSList,"handle-change":function(n,i){return e.handleBuildResourceChange(n,i,e.getParamIndex(t.id),t)},name:"os","data-vv-scope":"param-"+i,placeholder:"",value:t.containerType.os}})],1),e._v(" "),n("bk-form-item",{attrs:{label:"请选择构建资源类型","is-error":e.errors.has("param-"+i+".buildType"),"error-msg":e.errors.first("param-"+i+".buildType")}},[n("selector",{attrs:{disabled:e.disabled,list:e.getBuildTypeList(t.containerType.os),"setting-key":"type","handle-change":function(n,i){return e.handleBuildResourceChange(n,i,e.getParamIndex(t.id),t)},name:"buildType","data-vv-scope":"param-"+i,placeholder:"",value:t.containerType.buildType}})],1)]:e._e(),e._v(" "),n("bk-form-item",{attrs:{label:"描述"}},[n("vuex-input",{attrs:{disabled:e.disabled,"handle-change":function(n,i){return e.handleUpdateParam(n,i,e.getParamIndex(t.id))},name:"desc",placeholder:"请输入参数描述",value:t.desc}})],1)],2)],1)})),1),e._v(" "),e.disabled?e._e():n("a",{staticClass:"text-link",on:{click:function(t){return t.stopPropagation(),t.preventDefault(),e.editParam(e.globalParams.length,!0)}}},[n("i",{staticClass:"bk-icon icon-plus-circle"}),e._v(" "),n("span",[e._v("新增变量")])])]:n("div",{staticClass:"no-prop"},[n("bk-button",{attrs:{theme:"primary",disabled:e.disabled},on:{click:function(t){return e.editParam(null,!0)}}},[e._v("添加变量")])],1)],2)],2)]],2)},a=[];i._withStripped=!0,n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return a}))},zR1R:function(e,t,n){"use strict";n.r(t);var i=n("sLYw"),a=n.n(i);for(var r in i)"default"!==r&&function(e){n.d(t,e,(function(){return i[e]}))}(r);t.default=a.a},za6S:function(e,t,n){},zaVn:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=m(n("wv3L")),a=m(n("snOE")),r=m(n("TcPG")),s=m(n("Kz1y")),o=n("WIBD"),u=n("ygAv"),l=m(n("MMoO")),c=m(n("eI+G")),d=m(n("ZdkB")),p=m(n("32o7")),f=m(n("0w5d")),h=n("TXTV");function m(e){return e&&e.__esModule?e:{default:e}}t.default={name:"version-config",components:{Accordion:l.default,VuexInput:c.default,FormField:p.default,EnumInput:d.default},mixins:[f.default],props:{params:{type:Array,default:function(){return[]}},buildNo:{type:Object},disabled:{type:Boolean,default:!1},updateContainerParams:{type:Function,required:!0}},data:function(){return{isShowVersionParams:!1,showTips:'若value为版本号,则不能包含“”""等符号；\n如果参数类型为复选框，选择多个值时将以a,b的方式传递给流水线'}},computed:(0,s.default)({},(0,o.mapGetters)("atom",["buildNoRules","defaultBuildNo"]),(0,o.mapState)("atom",["buildParamsMap"]),{allVersionKeyList:function(){return["MajorVersion","MinorVersion","FixVersion"]},versionConfig:function(){return{MajorVersion:{label:"主版本",type:"STRING",desc:"主版本（MajorVersion）",default:"0",placeholder:"MajorVersion"},MinorVersion:{label:"特性版本",type:"STRING",desc:"特性版本（MinorVersion）",default:"0",placeholder:"MinorVersion"},FixVersion:{label:"修正版本",type:"STRING",desc:"修正版本（FixVersion）",default:"0",placeholder:"FixVersion"}}},globalParams:{get:function(){var e=this.allVersionKeyList;return this.params.filter((function(t){return!e.includes(t.id)}))},set:function(e){this.updateContainerParams("params",e)}},versions:function(){var e=this.allVersionKeyList;return this.params.filter((function(t){return e.includes(t.id)}))},showVersions:function(){return 0!==this.versions.length},buildParams:function(){var e=this.$route.params.buildNo;return this.buildParamsMap[e]},isExecDetail:function(){return!!this.$route.params.buildNo}}),created:function(){var e=this.$route.params,t=e.projectId,n=e.pipelineId,i=e.buildNo;i&&!this.buildParamsMap[i]&&this.requestBuildParams({projectId:t,pipelineId:n,buildId:i}),this.isShowVersionParams=0!==this.versions.length},methods:(0,s.default)({},(0,o.mapActions)("atom",["updateContainer","requestBuildParams"]),{getVersionById:function(e){return this.versions.find((function(t){return t.id===e}))||{}},handleUpdateParam:function(e,t,n){try{var i=this.params[n];(0,h.isMultipleParam)(i.type)&&"defaultValue"===e?(0,s.default)(i,(0,r.default)({},e,t.join(","))):i&&(0,s.default)(i,(0,r.default)({},e,t)),this.handleChange(this.params)}catch(e){console.log("update error",e)}},editParam:function(e,t){var n=this.globalParams,i=this.versions;if(t){var r=(0,s.default)({},(0,u.deepCopy)(h.DEFAULT_PARAM[h.STRING]),{id:"param"+Math.floor(100*Math.random())});n.splice(e+1,0,r)}else n.splice(e,1);this.handleChange([].concat((0,a.default)(n),(0,a.default)(i)))},handleChange:function(e){this.updateContainerParams("params",e)},handleVersionsChange:function(e,t){var n=this.versions.find((function(t){return t.id===e}));n&&"object"===(void 0===n?"undefined":(0,i.default)(n))&&(0,s.default)(n,{defaultValue:t}),this.handleChange([].concat((0,a.default)(this.versions),(0,a.default)(this.globalParams)))},handleBuildNoChange:function(e,t){this.updateContainerParams("buildNo",(0,s.default)({},this.buildNo,(0,r.default)({},e,t)))},toggleVersions:function(e){var t=this,n=e.target.checked,i=this.allVersionKeyList;if(n){var r=i.map((function(e){return{desc:t.versionConfig[e].desc,defaultValue:t.versionConfig[e].default,id:e,required:!1,type:t.versionConfig[e].type}}));this.updateContainerParams("params",[].concat((0,a.default)(this.globalParams),(0,a.default)(r))),this.updateContainerParams("buildNo",(0,s.default)({},this.defaultBuildNo)),this.isShowVersionParams=!0}else this.updateContainerParams("params",this.globalParams),this.updateContainerParams("buildNo",null),this.isShowVersionParams=!1}})}},zg3u:function(e,t,n){"use strict";var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"code-mode-check-selector bk-form-row bk-form"},[n("div",{staticClass:"bk-form-inline-item",class:{"is-required":e.required}},[n("label",{staticClass:"bk-label"},[e._v(e._s(e.text)+"：")]),e._v(" "),n("div",{staticClass:"bk-form-content"},[n("enum-input",{attrs:{list:e.gitPullModes,disabled:e.noPermission,name:"type","handle-change":e.handleModeChange,value:e.gitPullModeType}})],1)]),e._v(" "),n("div",{staticClass:"bk-form-inline-item",class:{"is-required":e.required}},[e.gitPullModeType?[n("label",{staticClass:"bk-label"},[e._v(e._s(e.gitPullModeList[e.gitPullModeType].label)+"：")]),e._v(" "),n("div",{staticClass:"bk-form-content"},[n("vuex-input",{attrs:{placeholder:e.gitPullModeList[e.gitPullModeType].placeholder,name:"value","handle-change":e.handleValueChange,value:e.gitPullModeVal}})],1)]:e._e()],2)])},a=[];i._withStripped=!0,n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return a}))},zjxr:function(e,t,n){}}]);