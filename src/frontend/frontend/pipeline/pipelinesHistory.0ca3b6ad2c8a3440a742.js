(window.webpackJsonp=window.webpackJsonp||[]).push([["pipelinesHistory"],{"+4jx":function(t,e,r){"use strict";r.r(e);var i=r("eglU"),n=r.n(i);for(var o in i)"default"!==o&&function(t){r.d(e,t,(function(){return i[t]}))}(o);e.default=n.a},"08eb":function(t,e,r){t.exports={default:r("md7T"),__esModule:!0}},"0gAh":function(t,e,r){"use strict";r.r(e);var i=r("T0mV"),n=r.n(i);for(var o in i)"default"!==o&&function(t){r.d(e,t,(function(){return i[t]}))}(o);e.default=n.a},"0t4y":function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=a(r("OBCi")),n=a(r("Zv/C")),o=a(r("2lBV")),s=a(r("MPpm"));function a(t){return t&&t.__esModule?t:{default:t}}var u=r("sMCd").Stomp,l=function(){function t(){(0,n.default)(this,t),this.errTime=1,this.stompClient={}}return(0,o.default)(t,[{key:"connect",value:function(){this.disconnect().then(this.build.apply(this,arguments))}},{key:"disconnect",value:function(){var t=this;return new i.default((function(e){t.stompClient.connected?t.stompClient.disconnect(e):e()}))}},{key:"build",value:function(t,e,r){var i=this,n=r.success,o=r.error,a=new s.default(WS_URL_PREFIX+"/process/websocket/user/pipelines/pipelineStatus?projectId="+t);this.stompClient=u.over(a),this.stompClient.debug=null,this.stompClient.connect({},(function(){i.stompClient.subscribe(e,(function(t){i.errTime=1,n(t)}))}),(function(r){i.errTime<=8?(i.errTime++,setTimeout((function(){return i.connect(t,e,{success:n,error:o})}),1e4)):o(r.message||"websocket异常")}))}}]),t}();e.default=new l},"15pI":function(t,e,r){"use strict";var i=function(){var t=this.$createElement,e=this._self._c||t;return e("svg",{attrs:{width:this.size,height:this.size}},[e("use",this._b({},"use",{"xlink:href":"#"+this.name},!1))])},n=[];i._withStripped=!0,r.d(e,"a",(function(){return i})),r.d(e,"b",(function(){return n}))},"1gbm":function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i,n=r("/9Wh"),o=(i=n)&&i.__esModule?i:{default:i};e.default={name:"show-tooltip",props:{name:{type:String,required:!0},placement:{validator:function(t){return["top","top-start","top-end","bottom","bottom-start","bottom-end","left","left-start","left-end","right","right-start","right-end"].indexOf(t)>-1},default:"bottom"},content:{type:[String,Number],default:""},footer:{type:[String,Number],default:"知道了"},width:{type:[String,Number],default:"230"},always:{type:Boolean,default:!1}},data:function(){var t=this.getTooltipEventList();return{isShow:!!this.name&&!t.includes(this.name)}},computed:{instance:function(){return this.$refs.showPopover&&this.$refs.showPopover.instance&&this.$refs.showPopover.instance.instances&&this.$refs.showPopover.instance.instances[0]}},beforeDestroy:function(){this.instance&&"function"==typeof this.instance.hide&&this.instance.hide()},methods:{getTooltipEventList:function(){var t=localStorage.getItem("tooltipEventList");return t?JSON.parse(t):[]},confirmBtn:function(){var t=localStorage.getItem("tooltipEventList");(t=t?JSON.parse(t):[]).push(this.name),localStorage.setItem("tooltipEventList",(0,o.default)(t)),this.isShow=!1,this.instance&&"function"==typeof this.instance.hide&&this.instance.hide(),this.$emit("confirm")}}}},"3DHC":function(t,e,r){"use strict";var i=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"build-history-table-container"},[r("bk-table",{staticClass:"bkdevops-build-history-table",attrs:{data:t.data,"row-class-name":t.handleRowStyle,"empty-text":"搜索结果为空",size:"small"},on:{"row-click":t.handleRowClick}},[t._l(t.columnList,(function(e){return r("bk-table-column",t._b({key:e.prop,scopedSlots:t._u(["buildNum"===e.prop?{key:"default",fn:function(e){var i;return[r("span",{staticClass:"build-num-status"},[r("router-link",{class:(i={},i[e.row.status]=!0,i),staticStyle:{"line-height":"42px"},attrs:{to:t.getArchiveUrl(e.row)}},[t._v("#"+t._s(e.row.buildNum))]),t._v(" "),t.retryable(e.row)?r("i",{staticClass:"bk-icon icon-retry",attrs:{title:"重试"},on:{click:function(r){return r.stopPropagation(),t.retry(e.row.id)}}}):"QUEUE"!==e.row.status&&"RUNNING"!==e.row.status&&e.row.endTime?t._e():r("i",{class:{"bk-icon":!0,"spin-icon":!0,"running-icon":!0,"icon-hourglass":"QUEUE"===e.row.status,"icon-circle-2-1":"RUNNING"===e.row.status||!e.row.endTime},attrs:{title:"终止构建"},on:{click:function(r){return r.stopPropagation(),t.stopExecute(e.row.id)}}})],1)]}}:"material"===e.prop?{key:"default",fn:function(e){return[Array.isArray(e.row.material)&&e.row.material.length>0?t._l(e.row.material,(function(i){return r("div",{key:i.aliasName,staticClass:"material-item"},[r("p",{class:{"show-commit-times":i.commitTimes>1},attrs:{title:t.generateMaterial(i)}},[t._v(t._s(t.generateMaterial(i)))]),t._v(" "),i.newCommitId?r("span",{staticClass:"material-commit-id",attrs:{title:i.newCommitId},on:{click:function(r){return r.stopPropagation(),t.goCodeRecords(e.row,i.aliasName)}}},[r("span",[t._v(t._s(i.newCommitId.slice(0,8)))]),t._v(" "),i.commitTimes>1?r("span",{staticClass:"commit-times"},[t._v(t._s(i.commitTimes)+" commit")]):t._e()]):t._e()])})):r("span",[t._v("--")])]}}:"artifactList"===e.prop?{key:"default",fn:function(e){return[e.row.hasArtifactories?[r("div",{staticClass:"artifact-list-cell"},[e.row.active&&e.row.shortUrl?r("qrcode",{attrs:{text:e.row.shortUrl,size:76}},[t._v(t._s(e.row.shortUrl))]):t._e(),t._v(" "),r("p",{staticClass:"artifact-entry history-text-link",on:{click:function(r){return r.stopPropagation(),i=r,t.showArtifactoriesPopup(i,e.row.index);var i}}},[t._v(t._s(e.row.artifactList.length)+"个文件（"+t._s(e.row.sumSize)+"）")])],1)]:r("span",[t._v("--")])]}}:"appVersions"===e.prop?{key:"default",fn:function(e){return[e.row.appVersions.length?[r("div",{staticClass:"app-version-list-cell"},t._l(e.row.appVersions,(function(e,i){return r("p",{key:i},[t._v(t._s(e))])})),0)]:r("span",[t._v("--")])]}}:"startType"===e.prop?{key:"default",fn:function(e){return[r("p",{staticClass:"trigger-cell"},[r("logo",{attrs:{size:"14",name:e.row.startType}}),t._v(" "),r("span",[t._v(t._s(e.row.userId))])],1)]}}:"entry"===e.prop?{key:"default",fn:function(e){return[r("p",{staticClass:"entry-link",on:{click:function(r){return r.stopPropagation(),t.showLog(e.row.id,e.row.buildNum,!0)}}},[t._v("\n                    完整日志\n                ")])]}}:"remark"===e.prop?{key:"default",fn:function(e){return[r("p",{staticClass:"remark-cell",attrs:{title:e.row.remark}},[t.activeRemarkIndex===e.row.index&&e.row.active?r("span",[t.isChangeRemark?r("i",{staticClass:"bk-icon icon-circle-2-1 spin-icon"}):r("textarea",{directives:[{name:"bk-focus",rawName:"v-bk-focus",value:1,expression:"1"},{name:"model",rawName:"v-model.trim",value:t.tempRemark,expression:"tempRemark",modifiers:{trim:!0}}],staticClass:"remark-input",attrs:{rows:"5"},domProps:{value:t.tempRemark},on:{click:function(t){t.stopPropagation()},keypress:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:(e.preventDefault(),t.triggerRemarkBlur(e))},blur:[function(r){return t.handleRemarkChange(e.row)},function(e){return t.$forceUpdate()}],input:function(e){e.target.composing||(t.tempRemark=e.target.value.trim())}}})]):r("span",{class:{"remark-span":!0,active:e.row.active},on:{click:function(r){return r.stopPropagation(),t.activeRemarkInput(e.row)}}},[t._v("\n                        "+t._s(e.row.remark||"--")+"\n                    ")])])]}}:{key:"default",fn:function(r){return[t._v("\n                "+t._s(r.row[e.prop])+"\n            ")]}}],null,!0)},"bk-table-column",e,!1))})),t._v(" "),t.emptyTipsConfig?r("empty-tips",t._b({staticClass:"build-list-table-empty-tips",attrs:{slot:"empty"},slot:"empty"},"empty-tips",t.emptyTipsConfig,!1)):t._e(),t._v(" "),t.loadingMore?r("div",{staticClass:"loading-more",attrs:{slot:"append"},slot:"append"},[r("i",{staticClass:"bk-icon icon-circle-2-1 spin-icon"}),r("span",[t._v("数据加载中")])]):t._e()],2),t._v(" "),r("portal",{attrs:{to:"artifactory-popup"}},[r("div",{directives:[{name:"show",rawName:"v-show",value:t.actifactories.length,expression:"actifactories.length"},{name:"bk-clickoutside",rawName:"v-bk-clickoutside",value:t.hideArtifactoriesPopup,expression:"hideArtifactoriesPopup"}],ref:"artifactPopup",staticClass:"artifact-list-popup"},[r("div",{staticClass:"artifact-list-header"},[r("h2",[t._v("构件列表")]),t._v(" "),r("span",{staticClass:"history-text-link",on:{click:function(e){return e.stopPropagation(),t.gotoArtifactoryList(e)}}},[t._v("详情")])]),t._v(" "),r("span",{ref:"popupTriangle",staticClass:"popup-triangle"}),t._v(" "),-1!==t.visibleIndex?r("ul",{staticClass:"artifact-list-ul"},[t._l(t.actifactories,(function(e){return r("li",{key:e.name},[r("p",[r("span",{staticClass:"artifact-name",attrs:{title:e.name}},[t._v(t._s(e.name))]),t._v(" "),r("span",{staticClass:"artifact-size"},[t._v(t._s(e.size))])]),t._v(" "),r("i",{staticClass:"bk-icon icon-download download-link history-text-link",on:{click:function(r){return r.stopPropagation(),t.downloadFile(e)}}})])})),t._v(" "),t.needShowAll?r("footer",{staticClass:"history-text-link",on:{click:function(e){return e.stopPropagation(),t.showAllArtifactory(e)}}},[t._v("显示全部")]):t._e()],2):t._e()])])],1)},n=[];i._withStripped=!0,r.d(e,"a",(function(){return i})),r.d(e,"b",(function(){return n}))},"47s7":function(t,e,r){},"4N63":function(t,e,r){"use strict";var i=r("ME0T");r.n(i).a},"5WXw":function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=a(r("06Hw")),n=a(r("YYXh")),o=a(r("Kz1y")),s=a(r("tuHn"));function a(t){return t&&t.__esModule?t:{default:t}}e.default={mixins:[s.default],props:{placeholder:{type:String,default:"请选择"},options:{type:Array,default:[]},optionsConf:{type:Object,default:function(){return{}}}},data:function(){return{isLoading:!1,list:this.options,webUrl:WEB_URL_PIRFIX}},computed:{projectId:function(){return this.$route.params.projectId},mergedOptionsConf:function(){return(0,o.default)({},{hasAddItem:!1,itemText:"关联代码库",itemTargetUrl:"/codelib/{projectId}/",url:"",paramId:"id",paramName:"name",tools:{edit:!1,del:!1},searchable:!1,clearable:!1,multiple:!1},this.optionsConf)},hasUrl:function(){return this.mergedOptionsConf&&this.mergedOptionsConf.url&&"string"==typeof this.mergedOptionsConf.url},dropdownConf:function(){var t=this.mergedOptionsConf,e=t.searchable;return{tools:t.tools,searchable:e,multiple:t.multiple,clearable:t.clearable}},addItemUrl:function(){var t=this.webUrl,e=this.urlParse,r=this.mergedOptionsConf.itemTargetUrl,i=this.$route.params;return e(/^http:\/\//.test(r)?r:t+r,i)}},watch:{atomValue:{deep:!0,handler:function(t){}},options:function(t){this.list=t}},created:function(){this.hasUrl&&this.freshList()},methods:{handleSelect:function(t,e){this.handleChange(this.name,t)},handleClear:function(){var t=this.dropdownConf.multiple?[]:"";this.handleChange(this.name,t)},edit:function(t){var e=this.list[t].repositoryHashId||"",r=this.list[t].type||"",i=this.list[t].groupHashId||"";if(e){var n=WEB_URL_PIRFIX+"/codelib/"+this.projectId+"/"+e+"/"+r;window.open(n,"_blank")}else if(i){var o=WEB_URL_PIRFIX+"/experience/"+this.projectId+"/setting/?groupId="+i;window.open(o,"_blank")}},toggleVisible:function(t){t&&this.hasUrl&&this.freshList()},urlParse:function(t,e){return new Function("ctx","return '"+t.replace(/\{(.*?)\}/g,"'+ ctx.$1 +'")+"'")(e)},getUrlParamKey:function(t){return this.hasUrl&&t.match(/\{(.*?)\}/g)||[]},transformList:function(t){var e=this;return(t.data.records||t.data||[]).map((function(t){return"string"==typeof t?{id:t,name:t}:(0,o.default)({},t,{id:t[e.mergedOptionsConf.paramId],name:t[e.mergedOptionsConf.paramName]})}))},freshList:function(){var t=this;return(0,n.default)(i.default.mark((function e(){var r,n,s,a,u,l,c,d,h,p;return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,r=t.atomValue,n=void 0===r?{}:r,s=t.transformList,a=t.$route.params,u=void 0===a?{}:a,l=t.mergedOptionsConf,c=t.urlParse(l.url,(0,o.default)({},u,n)),t.isLoading=!0,e.next=6,t.$ajax.get(c);case 6:d=e.sent,t.list=s(d),h=l.multiple&&Array.isArray(t.value)?t.value:[t.value],p=t.list.reduce((function(t,e){return t[e.id]=e,t}),{}),h.map((function(e){void 0===e||""===e||p[e]||t.list.splice(0,0,{id:e,name:"******（无权限查看）"})})),t.$emit("change",t.list),e.next=17;break;case 14:e.prev=14,e.t0=e.catch(0),t.$showTips({message:e.t0.message,theme:"error"});case 17:return e.prev=17,t.isLoading=!1,e.finish(17);case 20:case"end":return e.stop()}}),e,t,[[0,14,17,20]])})))()}}}},"5lCg":function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=_(r("06Hw")),n=_(r("YYXh")),o=_(r("snOE")),s=_(r("/9Wh")),a=_(r("Kz1y")),u=_(r("08eb")),l=_(r("0t4y")),c=_(r("cU3k")),d=_(r("oxmx")),h=_(r("dBNN")),p=r("eQpR"),f=r("WIBD"),m=r("ygAv"),g=r("2K1W"),v=_(r("ZzwQ"));function _(t){return t&&t.__esModule?t:{default:t}}e.default={name:"build-history-tab",components:{BuildHistoryTable:d.default,FilterBar:h.default,PipelineLog:c.default},mixins:[v.default],props:{isColumnsSelectPopupVisible:Boolean,showFilterBar:Boolean},data:function(){var t=localStorage&&localStorage.getItem("shownColumns"),e=t?JSON.parse(t):p.BUILD_HISTORY_TABLE_DEFAULT_COLUMNS;return{sourceColumns:(0,u.default)(p.BUILD_HISTORY_TABLE_COLUMNS_MAP).sort((function(t,e){return t.index>e.index})),shownColumns:e,tempColumns:e,isLoading:!1,isLoadingMore:!1,hasNoPermission:!1,currentPipelineVersion:"",currentBuildNo:"",currentBuildNum:"",currentShowStatus:!1,isLogSliderShow:!1,buildList:[]}},computed:(0,a.default)({},(0,f.mapGetters)({historyPageStatus:"pipelines/getHistoryPageStatus"}),{projectId:function(){return this.$route.params.projectId},pipelineId:function(){return this.$route.params.pipelineId},emptyTipsConfig:function(){var t=this,e=this.hasNoPermission,r=this.buildList,i=this.isLoading,n=this.historyPageStatus.isQuerying,o=e?"没有权限":"构建记录为空",s=e?"你没有查看该流水线的权限，请切换项目或申请相应权限":"定义了流水线之后，你可以手动触发执行一次构建任务，我们会给每个构建分配一个唯一ID，所有的构建记录都会在这里",a=e?[{theme:"primary",size:"normal",handler:this.changeProject,text:"切换项目"},{theme:"success",size:"normal",handler:this.goToApplyPerm,text:"申请权限"}]:[{theme:"primary",size:"normal",disabled:this.executeStatus,loading:this.executeStatus,handler:function(){!t.executeStatus&&g.bus.$emit("trigger-excute")},text:"开始构建流水线"}];return 0!==r.length||i||n?null:{title:o,desc:s,btns:a}}}),watch:{pipelineId:function(){var t=this;this.setHistoryPageStatus({scrollTop:0}),this.$nextTick((function(){var e=document.querySelector(".bkdevops-pipeline-history");e&&e.scrollTo(0,0),t.requestHistory(1),t.initWebSocket()}))},buildList:function(t,e){var r=this;t.length!==e.length&&this.$nextTick((function(){var t=r.historyPageStatus.scrollTop;r.animateScroll(t)}))}},created:function(){var t=this.historyPageStatus,e=t.currentPage*t.pageSize;this.queryBuildHistory(1,e)},mounted:function(){var t=document.querySelector(".bkdevops-pipeline-history");(this.throttleScroll=(0,m.throttle)(this.handleScroll,500),t&&t.addEventListener("scroll",this.throttleScroll),this.$route.hash)&&(/^#b-+/.test(this.$route.hash)&&this.showLog(this.$route.hash.slice(1),"",!0));this.initWebSocket()},updated:function(){this.isLogSliderShow||(this.currentBuildNo="",this.currentBuildNum="",this.currentShowStatus=!1)},beforeDestroy:function(){l.default.disconnect();var t=document.querySelector(".bkdevops-pipeline-history");t&&t.removeEventListener("scroll",this.throttleScroll),this.resetHistoryFilterCondition()},methods:(0,a.default)({},(0,f.mapActions)("pipelines",["requestPipelinesHistory","requestExecPipeline","setHistoryPageStatus","resetHistoryFilterCondition"]),{animateScroll:function(t){arguments.length>1&&void 0!==arguments[1]&&arguments[1];var e=document.querySelector(".bkdevops-pipeline-history");e&&t!==e.scrollTop&&e.scrollTo(0,t)},handleColumnsChange:function(t,e,r){this.tempColumns=r.sort((function(t,e){return p.BUILD_HISTORY_TABLE_COLUMNS_MAP[t].index-p.BUILD_HISTORY_TABLE_COLUMNS_MAP[e].index}))},updateTableColumns:function(){localStorage.setItem("shownColumns",(0,s.default)(this.tempColumns)),this.shownColumns=[].concat((0,o.default)(this.tempColumns)),this.$emit("hideColumnPopup")},resetColumns:function(){this.tempColumns=[].concat((0,o.default)(this.shownColumns)),this.shownColumns=[].concat((0,o.default)(this.shownColumns)),this.$emit("hideColumnPopup")},handleScroll:function(t){var e=t.target,r=this.historyPageStatus,i=this.setHistoryPageStatus,n=this.scrollLoadMore,o=this.isLoadingMore;i({scrollTop:t.target.scrollTop}),t.target.scrollHeight-(t.target.offsetHeight+t.target.scrollTop)<=250&&r.hasNext&&!o&&n(e.scrollTop)},initWebSocket:function(){var t=this,e="/topic/pipelineHistory/"+this.pipelineId;l.default.connect(this.projectId,e,{success:function(){return t.updateBuildHistoryList()},error:function(e){return t.$showTips({message:e,theme:"error"})}})},changeProject:function(){this.$toggleProjectMenu(!0)},goToApplyPerm:function(){var t=PERM_URL_PIRFIX+"/backend/api/perm/apply/subsystem/?client_id=pipeline&project_code="+this.projectId+"&service_code=pipeline&role_viewer=pipeline:"+this.pipelineId;window.open(t,"_blank")},setPermissionConfig:function(t,e){this.$showAskPermissionDialog({noPermissionList:[{resource:t,option:e}],applyPermissionUrl:PERM_URL_PIRFIX+"/backend/api/perm/apply/subsystem/?client_id=pipeline&project_code="+this.projectId+"&service_code=pipeline&role_executor=pipeline:"+this.pipelineId})},resetQueryCondition:function(){this.resetHistoryFilterCondition(),this.queryBuildHistory()},showLog:function(t,e,r){this.isLogSliderShow=!0,this.currentBuildNo=t,this.currentBuildNum=e,this.currentShowStatus=r},queryBuildHistory:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,r=arguments[1];return(0,n.default)(i.default.mark((function n(){return i.default.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.prev=0,t.isLoading=!0,i.next=4,t.requestHistory(e,r);case 4:i.next=9;break;case 6:i.prev=6,i.t0=i.catch(0),console.error(i.t0);case 9:return i.prev=9,t.isLoading=!1,i.finish(9);case 12:case"end":return i.stop()}}),n,t,[[0,6,9,12]])})))()},scrollLoadMore:function(){var t=this;return(0,n.default)(i.default.mark((function e(){return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t.isLoadingMore=!0,e.next=4,t.requestHistory(t.historyPageStatus.currentPage+1);case 4:e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),t.$showTips({message:"加载出错",theme:"error"});case 9:return e.prev=9,t.isLoadingMore=!1,e.finish(9);case 12:case"end":return e.stop()}}),e,t,[[0,6,9,12]])})))()},updateBuildHistoryList:function(){var t=this;return(0,n.default)(i.default.mark((function e(){var r,n,o,s,a,u;return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,r=t.projectId,n=t.pipelineId,o=t.buildList,s=t.historyPageStatus.pageSize,a=o.length,e.next=5,t.requestPipelinesHistory({projectId:r,pipelineId:n,page:1,pageSize:a>s?a:s});case 5:u=e.sent,t.buildList=u.records,t.currentPipelineVersion=u.pipelineVersion||"",e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),403===e.t0.code?t.hasNoPermission=!0:(t.$showTips({message:e.t0.message||e.t0,theme:"error"}),404===e.t0.code&&t.$router.push({name:"pipelinesList"}));case 13:case"end":return e.stop()}}),e,t,[[0,10]])})))()},requestHistory:function(t,e){var r=this;return(0,n.default)(i.default.mark((function n(){var s,a,u,l,c,d;return i.default.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.prev=0,s=r.projectId,a=r.pipelineId,u=r.historyPageStatus.pageSize,l=e||u,i.next=5,r.requestPipelinesHistory({projectId:s,pipelineId:a,page:t,pageSize:l});case 5:c=i.sent,r.buildList=1===t?c.records:[].concat((0,o.default)(r.buildList),(0,o.default)(c.records)),d=Math.ceil(r.buildList.length/u),r.setHistoryPageStatus({currentPage:d,hasNext:d<c.totalPages}),r.currentPipelineVersion=c.pipelineVersion||"",i.next=15;break;case 12:i.prev=12,i.t0=i.catch(0),403===i.t0.code?r.hasNoPermission=!0:(r.$showTips({message:i.t0.message||i.t0,theme:"error"}),404===i.t0.code&&r.$router.push({name:"pipelinesList"}));case 15:case"end":return i.stop()}}),n,r,[[0,12]])})))()}})}},"6JBb":function(t,e,r){var i=r("/6KZ"),n=r("SvME")(!1);i(i.S,"Object",{values:function(t){return n(t)}})},"6SRW":function(t,e,r){"use strict";var i=r("OlYV");r.n(i).a},"80kE":function(t,e,r){"use strict";r.r(e);var i=r("Te0k"),n=r.n(i);for(var o in i)"default"!==o&&function(t){r.d(e,t,(function(){return i[t]}))}(o);e.default=n.a},"9hQ9":function(t,e,r){"use strict";r.r(e);var i=r("5lCg"),n=r.n(i);for(var o in i)"default"!==o&&function(t){r.d(e,t,(function(){return i[t]}))}(o);e.default=n.a},Am2o:function(t,e,r){"use strict";var i=r("GbUh");r.n(i).a},BdbJ:function(t,e,r){"use strict";r.r(e);var i=r("nGtO"),n=r("vVhs");for(var o in n)"default"!==o&&function(t){r.d(e,t,(function(){return n[t]}))}(o);r("LZcE");var s=r("psIG"),a=Object(s.a)(n.default,i.a,i.b,!1,null,null,null);a.options.__file="src/components/common/showTooltip/index.vue",e.default=a.exports},D6JA:function(t,e,r){},DmVj:function(t,e,r){"use strict";var i=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"bkdevops-pipeline-history pb20"},[r("bk-tab",{staticClass:"bkdevops-pipeline-tab-card",attrs:{active:t.currentTab,"before-toggle":t.beforeSwitch,type:"unborder-card"},on:{"update:active":function(e){t.currentTab=e}}},[r("div",{staticClass:"bkdevops-pipeline-tab-card-setting",attrs:{slot:"setting"},slot:"setting"},[r("i",{staticClass:"bk-icon icon-filter-shape",class:{active:t.showFilterBar},on:{click:function(e){return e.stopPropagation(),t.toggleFilterBar(e)}}}),t._v(" "),r("i",{staticClass:"setting-icon bk-icon icon-cog-shape",class:{active:t.isColumnsSelectPopupVisible},on:{click:function(e){return e.stopPropagation(),t.toggleColumnsSelectPopup(!0)}}})]),t._v(" "),t._l(t.panels,(function(e){return r("bk-tab-panel",t._b({key:e.name,attrs:{"tab-change":"tab","render-directive":"if"}},"bk-tab-panel",{name:e.name,label:e.label},!1),[r(e.component,t._b({tag:"component",on:{hideColumnPopup:function(e){return t.toggleColumnsSelectPopup(!1)}}},"component",e.bindData,!1))],1)}))],2)],1)},n=[];i._withStripped=!0,r.d(e,"a",(function(){return i})),r.d(e,"b",(function(){return n}))},E4OK:function(t,e,r){"use strict";r.r(e);var i=r("15pI"),n=r("UfR3");for(var o in n)"default"!==o&&function(t){r.d(e,t,(function(){return n[t]}))}(o);var s=r("psIG"),a=Object(s.a)(n.default,i.a,i.b,!1,null,null,null);a.options.__file="src/components/Logo/index.vue",e.default=a.exports},GbUh:function(t,e,r){},I3lh:function(t,e,r){"use strict";r.r(e);var i=r("mw7t"),n=r("SnaD");for(var o in n)"default"!==o&&function(t){r.d(e,t,(function(){return n[t]}))}(o);var s=r("psIG"),a=Object(s.a)(n.default,i.a,i.b,!1,null,null,null);a.options.__file="src/components/devops/qrcode/index.vue",e.default=a.exports},Ixaf:function(t,e,r){},LZcE:function(t,e,r){"use strict";var i=r("yji4");r.n(i).a},LiOO:function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={name:"pipeline-log",props:{buildNo:{type:String,required:!0},buildNum:{type:Number,required:!0},buildTag:{type:String,default:""},showExport:{type:Boolean,default:!1},executeCount:{type:Number,default:1}},data:function(){return{showTime:!1,showCountMenu:!1,isLogMore:!1,currentCount:1}},computed:{logUrl:function(){var t=this.$route.params;return AJAX_URL_PIRFIX+"/log/api/user/logs/"+t.projectId+"/"+t.pipelineId},downloadUrl:function(){var t=this.logUrl,e=this.buildNo,r=this.buildTag;return t+"/"+e+"/download"+(r?"?tag="+r:"")}},watch:{buildNo:function(t,e){t&&this.renderLog(t)},buildTag:function(t,e){this.renderLog(this.buildNo)},showTime:function(t,e){this.renderLog(this.buildNo)}},created:function(){this.addClickListenr()},beforeDestroy:function(){this._destroyLog(),this.removeClickListenr()},mounted:function(){this.currentCount=this.executeCount,this.buildNo&&this.renderLog(this.buildNo)},methods:{renderLog:function(t){window.SodaLog.render(this.$refs.logContainer,this.logUrl,t,this.showTime,this.buildTag,this.currentCount)},_destroyLog:function(){window.SodaLog.unMount(this.$refs.logContainer)},addClickListenr:function(){document.addEventListener("mouseup",this.clickMenuHandler)},removeClickListenr:function(){document.removeEventListener("mouseup",this.clickMenuHandler)},toggleCountMenu:function(){this.isLogMore=this.showCountMenu=!this.showCountMenu},clickMenuHandler:function(t){-1===t.target.className.indexOf("log-menu")&&(this.showCountMenu=this.isLogMore=!1)},handleCurrentCount:function(t){t!==this.currentCount&&(this.currentCount=t,this.renderLog(this.buildNo),this.isLogMore=this.showCountMenu=!1)}}}},LvMd:function(t,e,r){"use strict";r.r(e);var i=r("LiOO"),n=r.n(i);for(var o in i)"default"!==o&&function(t){r.d(e,t,(function(){return i[t]}))}(o);e.default=n.a},ME0T:function(t,e,r){},MHHB:function(t,e,r){"use strict";var i=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("section",{staticClass:"pipeline-logs"},[r("div",{staticClass:"options-log"},[t.executeCount>1?r("a",{staticClass:"log-count-menu dropdown-menu-more",attrs:{href:"javascript:;"}},[r("div",{staticClass:"dropdown-trigger",on:{click:function(e){return e.stopPropagation(),t.toggleCountMenu(e)}}},[r("span",{staticClass:"log-menu"},[t._v("（"+t._s(t.currentCount+"/"+t.executeCount)+"\n                    "),r("i",{class:["bk-icon icon-angle-down log-menu",{"icon-flip":t.isLogMore}],attrs:{id:"toggleIcon"}}),t._v("）\n                ")])]),t._v(" "),t.showCountMenu?r("div",{staticClass:"dropdown-list"},[r("ul",{staticClass:"list-wrapper"},t._l(t.executeCount,(function(e){return r("li",{key:e,class:["log-item-text log-menu",{active:e===t.currentCount}],on:{click:function(r){return r.stopPropagation(),t.handleCurrentCount(e)}}},[t._v(t._s(e))])})),0)]):t._e()]):t._e(),t._v(" "),r("bk-button",{staticClass:"showtime-log",attrs:{size:"small",theme:t.showTime?"primary":"default"},on:{click:function(e){e.stopPropagation(),t.showTime=!t.showTime}}},[t._v("\n            显示时间\n        ")]),t._v(" "),t.showExport?r("a",{staticClass:"bk-button bk-button-small export-log",attrs:{download:"",href:t.downloadUrl}},[t._v("导出日志")]):t._e()],1),t._v(" "),r("div",{ref:"logContainer",attrs:{buildNo:t.buildNo}})])},n=[];i._withStripped=!0,r.d(e,"a",(function(){return i})),r.d(e,"b",(function(){return n}))},MkV0:function(t,e,r){"use strict";var i=r("Ixaf");r.n(i).a},OlYV:function(t,e,r){},OrOA:function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={name:"svg-logo",props:{name:String,size:{type:[String,Number],default:24}}}},QI6G:function(t,e,r){"use strict";var i=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"build-history-filter-bar"},[t._l(t.filterConfig,(function(e){return r("div",{key:e.id,staticClass:"history-filter-select"},[r("label",{attrs:{for:e.id}},[t._v(t._s(e.label)+"：")]),t._v(" "),r("selector",{style:"width: "+e.width+"px",attrs:{name:e.name,id:e.id,value:e.value,"options-conf":e.optionsConf,"handle-change":e.handleChange}})],1)})),t._v(" "),r("bk-search-select",{staticClass:"search-select",attrs:{placeholder:"支持commitid等关键字过滤",data:t.filterData,"show-condition":!1,strink:!1,"display-key":"value",values:t.searchKey,"remote-method":t.handleRemoteMethod},on:{"input-change":t.handleSearchInput,change:t.updateSearchKey}}),t._v(" "),r("span",{staticClass:"search-history-btn",attrs:{type:"default"},on:{click:t.resetQueryCondition}},[t._v("重置")])],2)},n=[];i._withStripped=!0,r.d(e,"a",(function(){return i})),r.d(e,"b",(function(){return n}))},RFNH:function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i,n=r("tq5z"),o=(i=n)&&i.__esModule?i:{default:i};e.default={props:{text:{type:String,required:!0},size:{type:Number,required:!1,default:128},color:{type:String,required:!1,default:"#000"},bgColor:{type:String,required:!1,default:"#FFF"}},data:function(){return{qrCode:{}}},watch:{text:function(t){this.clear(),t&&this.makeCode(t)}},mounted:function(){this.qrCode=new o.default(this.$refs.qrcode,{text:this.text,width:this.size,height:this.size,colorDark:this.color,colorLight:this.bgColor})},methods:{clear:function(){this.qrCode.clear()},makeCode:function(t){this.qrCode.makeCode(t)}}}},RoC8:function(t,e,r){t.exports=r("y7ft")(546)},SnaD:function(t,e,r){"use strict";r.r(e);var i=r("RFNH"),n=r.n(i);for(var o in i)"default"!==o&&function(t){r.d(e,t,(function(){return i[t]}))}(o);e.default=n.a},SvME:function(t,e,r){var i=r("lBnu"),n=r("/Lgp"),o=r("T/1i"),s=r("kBaS").f;t.exports=function(t){return function(e){for(var r,a=o(e),u=n(a),l=u.length,c=0,d=[];l>c;)r=u[c++],i&&!s.call(a,r)||d.push(t?[r,a[r]]:a[r]);return d}}},T0mV:function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=u(r("Kz1y")),n=u(r("hWRf")),o=u(r("cU3k")),s=r("WIBD"),a=u(r("BdbJ"));function u(t){return t&&t.__esModule?t:{default:t}}e.default={components:{PipelineLog:o.default,BuildHistoryTab:n.default,showTooltip:a.default},props:{execHandler:Function},data:function(){return{isColumnsSelectPopupVisible:!1,showFilterBar:!1,currentTab:"history"}},computed:(0,i.default)({},(0,s.mapGetters)("pipelines",{statusMap:"getStatusMap",pipelineList:"getPipelineList",curPipeline:"getCurPipeline",hisPageStatus:"getHisPageStatus"}),{projectId:function(){return this.$route.params.projectId},pipelineId:function(){return this.$route.params.pipelineId},panels:function(){return[{name:"history",label:"执行历史",component:"BuildHistoryTab",bindData:{isColumnsSelectPopupVisible:this.isColumnsSelectPopupVisible,showFilterBar:this.showFilterBar}}]}}),methods:{toggleColumnsSelectPopup:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.isColumnsSelectPopupVisible=t},toggleFilterBar:function(){this.showFilterBar=!this.showFilterBar},beforeSwitch:function(t){var e=this.panels.find((function(e){return e.name===t}));return!(!!e&&e.disabled)}}}},Te0k:function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={props:{title:{type:String,default:""},desc:{type:String,default:""},btns:{type:Array,default:function(){return[]}}}}},UfR3:function(t,e,r){"use strict";r.r(e);var i=r("OrOA"),n=r.n(i);for(var o in i)"default"!==o&&function(t){r.d(e,t,(function(){return i[t]}))}(o);e.default=n.a},Z1lL:function(t,e,r){"use strict";var i=r("47s7");r.n(i).a},cU3k:function(t,e,r){"use strict";r.r(e);var i=r("MHHB"),n=r("LvMd");for(var o in n)"default"!==o&&function(t){r.d(e,t,(function(){return n[t]}))}(o);r("Am2o");var s=r("psIG"),a=Object(s.a)(n.default,i.a,i.b,!1,null,null,null);a.options.__file="src/components/Log/index.vue",e.default=a.exports},dBNN:function(t,e,r){"use strict";r.r(e);var i=r("QI6G"),n=r("o8jV");for(var o in n)"default"!==o&&function(t){r.d(e,t,(function(){return n[t]}))}(o);r("6SRW");var s=r("psIG"),a=Object(s.a)(n.default,i.a,i.b,!1,null,null,null);a.options.__file="src/components/BuildHistoryTable/FilterBar.vue",e.default=a.exports},ecFu:function(t,e,r){"use strict";r.r(e);var i=r("5WXw"),n=r.n(i);for(var o in i)"default"!==o&&function(t){r.d(e,t,(function(){return i[t]}))}(o);e.default=n.a},eglU:function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=h(r("06Hw")),n=h(r("YYXh")),o=h(r("Kz1y")),s=h(r("E4OK")),a=h(r("wm1E")),u=r("ygAv"),l=r("eQpR"),c=h(r("I3lh")),d=r("Vgl9");function h(t){return t&&t.__esModule?t:{default:t}}e.default={name:"build-history-table",components:{Logo:s.default,qrcode:c.default,emptyTips:a.default},props:{buildList:{type:Array,default:[]},columns:{type:Array,default:l.BUILD_HISTORY_TABLE_DEFAULT_COLUMNS},emptyTipsConfig:{type:Object},currentPipelineVersion:{type:[String,Number],default:1},showLog:{type:Function},loadingMore:{type:Boolean}},data:function(){return{activeIndex:0,tempRemark:"",isChangeRemark:!1,activeRemarkIndex:-1,visibleIndex:-1,isShowAll:!1,retryingMap:{},stoping:{}}},computed:{data:function(){var t=this;return this.buildList.map((function(e,r){var i=r===t.activeIndex,n=Array.isArray(e.artifactList)&&e.artifactList.length>0,s="",a=[],l=0,c=n?e.artifactList.map((function(t){return t.shortUrl&&(s=t.shortUrl),t.appVersion&&a.push(t.appVersion),l+=t.size,(0,o.default)({},t,{name:t.name,size:(0,u.convertFileSize)(t.size,"B")})})):[],d=n&&e.artifactList.length>11&&!t.isShowAll;return(0,o.default)({},e,{index:r,active:i,hasArtifactories:n,needShowAll:d,shortUrl:s,appVersions:a,startTime:e.startTime?(0,u.convertMiniTime)(e.startTime):"--",endTime:e.endTime?(0,u.convertMiniTime)(e.endTime):"--",queueTime:e.queueTime?(0,u.convertMiniTime)(e.queueTime):"--",totalTime:e.totalTime?(0,u.convertMStoStringByRule)(e.totalTime):"--",material:!i&&Array.isArray(e.material)&&e.material.length>1?e.material.slice(0,1):e.material,sumSize:(0,u.convertFileSize)(l,"B"),artifactories:d?c.slice(0,11):c,visible:t.visibleIndex===r})}))},actifactories:function(){var t=this.data,e=this.visibleIndex;return t[e]&&t[e].artifactories?t[e].artifactories:[]},needShowAll:function(){return this.data[this.visibleIndex].needShowAll},columnList:function(){return this.columns.map((function(t){return l.BUILD_HISTORY_TABLE_COLUMNS_MAP[t]}))}},watch:{buildList:function(){this.resetRemark()}},methods:{activeRemarkInput:function(t){this.activeRemarkIndex=t.index,this.tempRemark=t.remark},retryable:function(t){return t.pipelineVersion===this.currentPipelineVersion&&["QUEUE","SUCCEED","RUNNING"].indexOf(t.status)<0},triggerRemarkBlur:function(t){t.target.blur()},handleRemarkChange:function(t){var e=this;return(0,n.default)(i.default.mark((function r(){var n,o;return i.default.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(r.prev=0,n=e.$route.params,(o=e.tempRemark)===t.remark){r.next=10;break}return e.isChangeRemark=!0,r.next=6,e.$ajax.post(d.PROCESS_API_URL_PREFIX+"/user/builds/"+n.projectId+"/"+n.pipelineId+"/"+t.id+"/updateRemark",{remark:o});case 6:e.$emit("update-table"),e.$showTips({theme:"success",message:"修改备注成功"}),r.next=11;break;case 10:e.resetRemark();case 11:r.next=16;break;case 13:r.prev=13,r.t0=r.catch(0),e.$showTips({theme:"error",message:"修改备注失败"});case 16:case"end":return r.stop()}}),r,e,[[0,13]])})))()},resetRemark:function(){this.isChangeRemark=!1,this.tempRemark="",this.activeRemarkIndex=-1},generateMaterial:function(t){return t?t.aliasName+(t.branchName?"@"+t.branchName:""):"--"},handleRowStyle:function(t){t.row;return t.rowIndex===this.activeIndex?"expand-row is-row-hover":"is-row-hover"},handleRowClick:function(t,e){if(this.hideArtifactoriesPopup(),this.activeIndex===t.index){var r=this.getArchiveUrl(t);this.$router.push(r)}else this.activeIndex=t.index},getArchiveUrl:function(t){var e=t.id,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",n=this.$route.params,s=n.projectId,a=n.pipelineId;return{name:"pipelinesDetail",params:(0,o.default)({projectId:s,pipelineId:a,buildNo:e},r?{type:r}:{}),hash:i?"#"+i:""}},gotoArtifactoryList:function(){var t=this.data,e=this.visibleIndex;if(t[e]){var r=this.getArchiveUrl(t[e],"partView");this.$router.push(r)}},goCodeRecords:function(t,e){if(t){var r=this.getArchiveUrl(t,"codeRecords",e);r&&this.$router.push(r)}},hideArtifactoriesPopup:function(){this.isShowAll=!1,this.visibleIndex=-1},showArtifactoriesPopup:function(t){var e=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:-1;this.visibleIndex=r,this.$nextTick((function(){var r=e.$refs.artifactPopup,i=e.$refs.popupTriangle;if(r&&i){var n=getComputedStyle(i),o=getComputedStyle(r),s=t.target.getBoundingClientRect();r.style.top=s.y-parseInt(n.top)+"px",r.style.left=s.x-parseInt(o.width)-16+"px"}}))},showAllArtifactory:function(){this.isShowAll=!0},downloadFile:function(t){var e=this,r=t.artifactoryType,o=t.path;arguments.length>1&&void 0!==arguments[1]&&arguments[1];return(0,n.default)(i.default.mark((function t(){var n,s,a;return i.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,n=e.$route.params.projectId,t.next=4,e.$store.dispatch("soda/requestDownloadUrl",{projectId:n,artifactoryType:r,path:o});case 4:s=t.sent,window.open(s.url,"_self"),t.next=13;break;case 8:t.prev=8,t.t0=t.catch(0),a=t.t0.message?t.t0.message:t.t0,"error",e.$showTips({message:a,theme:"error"});case 13:case"end":return t.stop()}}),t,e,[[0,8]])})))()},retry:function(t){var e=this;return(0,n.default)(i.default.mark((function r(){var n,s,a;return i.default.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!e.retryingMap[t]){r.next=2;break}return r.abrupt("return");case 2:return n=void 0,s=void 0,a=e.$store,r.prev=4,e.retryingMap[t]=!0,r.next=8,a.dispatch("pipelines/requestRetryPipeline",(0,o.default)({},e.$route.params,{buildId:t}));case 8:r.sent.id?(n="重试成功",s="success",e.$emit("update-table")):(n="重试失败",s="error"),r.next=20;break;case 12:if(r.prev=12,r.t0=r.catch(4),403!==r.t0.code){r.next=18;break}return r.abrupt("return");case 18:n=r.t0.message||r.t0,s="error";case 20:return r.prev=20,delete e.retryingMap[t],n&&e.$showTips({message:n,theme:s}),r.finish(20);case 24:case"end":return r.stop()}}),r,e,[[4,12,20,24]])})))()},stopExecute:function(t){var e=this;return(0,n.default)(i.default.mark((function r(){var n,s,a,u;return i.default.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!e.stoping[t]){r.next=2;break}return r.abrupt("return");case 2:return n=void 0,s=void 0,r.prev=3,a=e.$store,e.stoping[t]=!0,r.next=8,a.dispatch("pipelines/requestTerminatePipeline",(0,o.default)({},e.$route.params,{buildId:t}));case 8:u=r.sent,e.status="ready",u?(n="终止流水线成功",s="success",e.$emit("update-table")):(n="终止流水线失败",s="error"),r.next=16;break;case 13:r.prev=13,r.t0=r.catch(3),403===r.t0.code||(n=r.t0.message||r.t0,s="error");case 16:return r.prev=16,n&&e.$showTips({message:n,theme:s}),r.finish(16);case 19:case"end":return r.stop()}}),r,e,[[3,13,16,19]])})))()}}}},hWRf:function(t,e,r){"use strict";r.r(e);var i=r("uph0"),n=r("9hQ9");for(var o in n)"default"!==o&&function(t){r.d(e,t,(function(){return n[t]}))}(o);r("xD3Y");var s=r("psIG"),a=Object(s.a)(n.default,i.a,i.b,!1,null,null,null);a.options.__file="src/components/BuildHistoryTab/index.vue",e.default=a.exports},jkJj:function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=c(r("06Hw")),n=c(r("YYXh")),o=c(r("TcPG")),s=c(r("Kz1y")),a=c(r("uAN+")),u=r("Vgl9"),l=r("ygAv");function c(t){return t&&t.__esModule?t:{default:t}}e.default={name:"filter-bar",components:{Selector:a.default},props:{setHistoryPageStatus:Function,resetQueryCondition:Function,query:Array,searchKey:Array},data:function(){return{triggerList:[]}},computed:{filterConfig:function(){var t=this;return[{id:"status",label:"状态",name:"status",value:this.query.status,width:220,handleChange:this.handleFilterItemChange,optionsConf:{url:u.PROCESS_API_URL_PREFIX+"/user/builds/{projectId}/{pipelineId}/historyCondition/status",searchable:!0,multiple:!0,clearable:!0,placeholder:"status",paramName:"value"}},{id:"materialAlias",label:"代码库",name:"materialAlias",width:320,value:this.query.materialAlias,handleChange:function(){t.query.materialBranch=[],t.handleFilterItemChange.apply(t,arguments)},optionsConf:{url:u.PROCESS_API_URL_PREFIX+"/user/builds/{projectId}/{pipelineId}/historyCondition/repo",searchable:!0,multiple:!0,clearable:!0,placeholder:"materialAlias"}},{id:"materialBranch",label:"分支",name:"materialBranch",width:220,value:this.query.materialBranch,handleChange:this.handleFilterItemChange,optionsConf:{url:u.PROCESS_API_URL_PREFIX+"/user/builds/{projectId}/{pipelineId}/historyCondition/branchName?"+(0,l.getQueryParamList)(this.query.materialAlias,"alias"),searchable:!0,multiple:!0,clearable:!0,placeholder:"materialBranch"}}]},filterData:function(){return[{value:"commitid",id:"materialCommitId"},{value:"commitMessage",id:"materialCommitMessage"},{value:"触发方式",id:"trigger",remote:!0,multiable:!0,children:this.triggerList},{value:"备注",id:"remark"}]}},methods:{handleFilterItemChange:function(t,e){this.setHistoryPageStatus({queryMap:{searchKey:this.searchKey,query:(0,s.default)({},this.query,(0,o.default)({},t,e))}}),this.startQuery()},handleRemoteMethod:function(){var t=this;return(0,n.default)(i.default.mark((function e(){var r,n,o,s;return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t.triggerList.length>0)){e.next=2;break}return e.abrupt("return",t.triggerList);case 2:return e.prev=2,r=t.$route.params,n=t.$ajax,o=u.PROCESS_API_URL_PREFIX+"/user/builds/"+r.projectId+"/"+r.pipelineId+"/historyCondition/trigger",e.next=7,n.get(o);case 7:return s=e.sent,t.triggerList=s.data,e.abrupt("return",s.data);case 12:e.prev=12,e.t0=e.catch(2);case 14:case"end":return e.stop()}}),e,t,[[2,12]])})))()},startQuery:function(){this.$emit("query")},updateSearchKey:function(t){this.setHistoryPageStatus({queryMap:{searchKey:t,query:this.query}}),this.startQuery()}}}},lb1u:function(t,e,r){},md7T:function(t,e,r){r("6JBb"),t.exports=r("TaGV").Object.values},mw7t:function(t,e,r){"use strict";var i=function(){var t=this.$createElement;return(this._self._c||t)("div",{ref:"qrcode",staticClass:"qrcode-content"})},n=[];i._withStripped=!0,r.d(e,"a",(function(){return i})),r.d(e,"b",(function(){return n}))},nGtO:function(t,e,r){"use strict";var i=function(){var t=this,e=t.$createElement,r=t._self._c||e;return t.isShow?r("bk-popover",{ref:"showPopover",staticClass:"show-tooltip",attrs:{theme:"light",placement:t.placement,always:"isShow"}},[t._t("default"),t._v(" "),r("div",{staticClass:"show-tooltip-content",attrs:{slot:"content"},slot:"content"},[t._v("\n        "+t._s(t.content)+"\n        "),t.content?r("div",{staticClass:"show-tooltip-footer"},[r("span",{staticClass:"close-tooltip-btn",on:{click:t.confirmBtn}},[t._v(t._s(t.footer))])]):t._e()])],2):r("div",[t._t("default")],2)},n=[];i._withStripped=!0,r.d(e,"a",(function(){return i})),r.d(e,"b",(function(){return n}))},neEv:function(t,e,r){"use strict";var i=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("section",{staticClass:"devops-empty-tips"},[r("h2",{staticClass:"title"},[t._v(t._s(t.title))]),t._v(" "),r("p",{staticClass:"desc"},[t._v(t._s(t.desc))]),t._v(" "),r("p",{staticClass:"btns-row"},[t._t("btns",[Array.isArray(t.btns)&&t.btns.length>0?t._l(t.btns,(function(e,i){return r("bk-button",{key:i,attrs:{disabled:e.disabled,theme:e.theme,size:e.size,icon:e.loading?"loading":""},on:{click:e.handler}},[t._v("\n                    "+t._s(e.text)+"\n                ")])})):t._e()])],2)])},n=[];i._withStripped=!0,r.d(e,"a",(function(){return i})),r.d(e,"b",(function(){return n}))},o8jV:function(t,e,r){"use strict";r.r(e);var i=r("jkJj"),n=r.n(i);for(var o in i)"default"!==o&&function(t){r.d(e,t,(function(){return i[t]}))}(o);e.default=n.a},oxmx:function(t,e,r){"use strict";r.r(e);var i=r("3DHC"),n=r("+4jx");for(var o in n)"default"!==o&&function(t){r.d(e,t,(function(){return n[t]}))}(o);r("Z1lL");var s=r("psIG"),a=Object(s.a)(n.default,i.a,i.b,!1,null,null,null);a.options.__file="src/components/BuildHistoryTable/index.vue",e.default=a.exports},qy21:function(t,e,r){"use strict";var i=r("lb1u");r.n(i).a},raB1:function(t,e,r){"use strict";var i=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("bk-select",t._b({attrs:{name:t.name,loading:t.isLoading,placeholder:t.isLoading?"获取数据中...":t.placeholder,value:t.value,disabled:t.disabled||t.isLoading},on:{edit:t.edit,selected:t.handleSelect,toggle:t.toggleVisible,clear:t.handleClear}},"bk-select",t.dropdownConf,!1),[t._l(t.list,(function(t){return r("bk-option",{key:t.id,attrs:{id:t.id,name:t.name}})})),t._v(" "),t.mergedOptionsConf.hasAddItem?[r("div",{staticClass:"bk-selector-create-item",attrs:{slot:"extension"},slot:"extension"},[r("a",{attrs:{href:t.addItemUrl,target:"_blank"}},[r("i",{staticClass:"bk-icon icon-plus-circle"}),t._v("\n                "+t._s(t.mergedOptionsConf.itemText)+"\n            ")])])]:t._e()],2)},n=[];i._withStripped=!0,r.d(e,"a",(function(){return i})),r.d(e,"b",(function(){return n}))},"reh+":function(t,e,r){"use strict";r.r(e);var i=r("DmVj"),n=r("0gAh");for(var o in n)"default"!==o&&function(t){r.d(e,t,(function(){return n[t]}))}(o);r("4N63");var s=r("psIG"),a=Object(s.a)(n.default,i.a,i.b,!1,null,null,null);a.options.__file="src/views/subpages/history.vue",e.default=a.exports},tq5z:function(t,e,r){"use strict";(function(t){var e;!function(){function t(t){this.mode=i.MODE_8BIT_BYTE,this.data=t,this.parsedData=[];for(var e=0,r=this.data.length;e<r;e++){var n=[],o=this.data.charCodeAt(e);o>65536?(n[0]=240|(1835008&o)>>>18,n[1]=128|(258048&o)>>>12,n[2]=128|(4032&o)>>>6,n[3]=128|63&o):o>2048?(n[0]=224|(61440&o)>>>12,n[1]=128|(4032&o)>>>6,n[2]=128|63&o):o>128?(n[0]=192|(1984&o)>>>6,n[1]=128|63&o):n[0]=o,this.parsedData.push(n)}this.parsedData=Array.prototype.concat.apply([],this.parsedData),this.parsedData.length!=this.data.length&&(this.parsedData.unshift(191),this.parsedData.unshift(187),this.parsedData.unshift(239))}function r(t,e){this.typeNumber=t,this.errorCorrectLevel=e,this.modules=null,this.moduleCount=0,this.dataCache=null,this.dataList=[]}t.prototype={getLength:function(t){return this.parsedData.length},write:function(t){for(var e=0,r=this.parsedData.length;e<r;e++)t.put(this.parsedData[e],8)}},r.prototype={addData:function(e){var r=new t(e);this.dataList.push(r),this.dataCache=null},isDark:function(t,e){if(t<0||this.moduleCount<=t||e<0||this.moduleCount<=e)throw new Error(t+","+e);return this.modules[t][e]},getModuleCount:function(){return this.moduleCount},make:function(){this.makeImpl(!1,this.getBestMaskPattern())},makeImpl:function(t,e){this.moduleCount=4*this.typeNumber+17,this.modules=new Array(this.moduleCount);for(var i=0;i<this.moduleCount;i++){this.modules[i]=new Array(this.moduleCount);for(var n=0;n<this.moduleCount;n++)this.modules[i][n]=null}this.setupPositionProbePattern(0,0),this.setupPositionProbePattern(this.moduleCount-7,0),this.setupPositionProbePattern(0,this.moduleCount-7),this.setupPositionAdjustPattern(),this.setupTimingPattern(),this.setupTypeInfo(t,e),this.typeNumber>=7&&this.setupTypeNumber(t),null==this.dataCache&&(this.dataCache=r.createData(this.typeNumber,this.errorCorrectLevel,this.dataList)),this.mapData(this.dataCache,e)},setupPositionProbePattern:function(t,e){for(var r=-1;r<=7;r++)if(!(t+r<=-1||this.moduleCount<=t+r))for(var i=-1;i<=7;i++)e+i<=-1||this.moduleCount<=e+i||(this.modules[t+r][e+i]=0<=r&&r<=6&&(0==i||6==i)||0<=i&&i<=6&&(0==r||6==r)||2<=r&&r<=4&&2<=i&&i<=4)},getBestMaskPattern:function(){for(var t=0,e=0,r=0;r<8;r++){this.makeImpl(!0,r);var i=p.getLostPoint(this);(0==r||t>i)&&(t=i,e=r)}return e},createMovieClip:function(t,e,r){var i=t.createEmptyMovieClip(e,r);this.make();for(var n=0;n<this.modules.length;n++)for(var o=1*n,s=0;s<this.modules[n].length;s++){var a=1*s;this.modules[n][s]&&(i.beginFill(0,100),i.moveTo(a,o),i.lineTo(a+1,o),i.lineTo(a+1,o+1),i.lineTo(a,o+1),i.endFill())}return i},setupTimingPattern:function(){for(var t=8;t<this.moduleCount-8;t++)null==this.modules[t][6]&&(this.modules[t][6]=t%2==0);for(var e=8;e<this.moduleCount-8;e++)null==this.modules[6][e]&&(this.modules[6][e]=e%2==0)},setupPositionAdjustPattern:function(){for(var t=p.getPatternPosition(this.typeNumber),e=0;e<t.length;e++)for(var r=0;r<t.length;r++){var i=t[e],n=t[r];if(null==this.modules[i][n])for(var o=-2;o<=2;o++)for(var s=-2;s<=2;s++)this.modules[i+o][n+s]=-2==o||2==o||-2==s||2==s||0==o&&0==s}},setupTypeNumber:function(t){for(var e=p.getBCHTypeNumber(this.typeNumber),r=0;r<18;r++){var i=!t&&1==(e>>r&1);this.modules[Math.floor(r/3)][r%3+this.moduleCount-8-3]=i}for(r=0;r<18;r++){i=!t&&1==(e>>r&1);this.modules[r%3+this.moduleCount-8-3][Math.floor(r/3)]=i}},setupTypeInfo:function(t,e){for(var r=this.errorCorrectLevel<<3|e,i=p.getBCHTypeInfo(r),n=0;n<15;n++){var o=!t&&1==(i>>n&1);n<6?this.modules[n][8]=o:n<8?this.modules[n+1][8]=o:this.modules[this.moduleCount-15+n][8]=o}for(n=0;n<15;n++){o=!t&&1==(i>>n&1);n<8?this.modules[8][this.moduleCount-n-1]=o:n<9?this.modules[8][15-n-1+1]=o:this.modules[8][15-n-1]=o}this.modules[this.moduleCount-8][8]=!t},mapData:function(t,e){for(var r=-1,i=this.moduleCount-1,n=7,o=0,s=this.moduleCount-1;s>0;s-=2)for(6==s&&s--;;){for(var a=0;a<2;a++)if(null==this.modules[i][s-a]){var u=!1;o<t.length&&(u=1==(t[o]>>>n&1)),p.getMask(e,i,s-a)&&(u=!u),this.modules[i][s-a]=u,-1==--n&&(o++,n=7)}if((i+=r)<0||this.moduleCount<=i){i-=r,r=-r;break}}}},r.PAD0=236,r.PAD1=17,r.createData=function(t,e,i){for(var n=v.getRSBlocks(t,e),o=new _,s=0;s<i.length;s++){var a=i[s];o.put(a.mode,4),o.put(a.getLength(),p.getLengthInBits(a.mode,t)),a.write(o)}var u=0;for(s=0;s<n.length;s++)u+=n[s].dataCount;if(o.getLengthInBits()>8*u)throw new Error("code length overflow. ("+o.getLengthInBits()+">"+8*u+")");for(o.getLengthInBits()+4<=8*u&&o.put(0,4);o.getLengthInBits()%8!=0;)o.putBit(!1);for(;!(o.getLengthInBits()>=8*u||(o.put(r.PAD0,8),o.getLengthInBits()>=8*u));)o.put(r.PAD1,8);return r.createBytes(o,n)},r.createBytes=function(t,e){for(var r=0,i=0,n=0,o=new Array(e.length),s=new Array(e.length),a=0;a<e.length;a++){var u=e[a].dataCount,l=e[a].totalCount-u;i=Math.max(i,u),n=Math.max(n,l),o[a]=new Array(u);for(var c=0;c<o[a].length;c++)o[a][c]=255&t.buffer[c+r];r+=u;var d=p.getErrorCorrectPolynomial(l),h=new g(o[a],d.getLength()-1).mod(d);s[a]=new Array(d.getLength()-1);for(c=0;c<s[a].length;c++){var f=c+h.getLength()-s[a].length;s[a][c]=f>=0?h.get(f):0}}var m=0;for(c=0;c<e.length;c++)m+=e[c].totalCount;var v=new Array(m),_=0;for(c=0;c<i;c++)for(a=0;a<e.length;a++)c<o[a].length&&(v[_++]=o[a][c]);for(c=0;c<n;c++)for(a=0;a<e.length;a++)c<s[a].length&&(v[_++]=s[a][c]);return v};for(var i={MODE_NUMBER:1,MODE_ALPHA_NUM:2,MODE_8BIT_BYTE:4,MODE_KANJI:8},n={L:1,M:0,Q:3,H:2},o=0,s=1,a=2,u=3,l=4,c=5,d=6,h=7,p={PATTERN_POSITION_TABLE:[[],[6,18],[6,22],[6,26],[6,30],[6,34],[6,22,38],[6,24,42],[6,26,46],[6,28,50],[6,30,54],[6,32,58],[6,34,62],[6,26,46,66],[6,26,48,70],[6,26,50,74],[6,30,54,78],[6,30,56,82],[6,30,58,86],[6,34,62,90],[6,28,50,72,94],[6,26,50,74,98],[6,30,54,78,102],[6,28,54,80,106],[6,32,58,84,110],[6,30,58,86,114],[6,34,62,90,118],[6,26,50,74,98,122],[6,30,54,78,102,126],[6,26,52,78,104,130],[6,30,56,82,108,134],[6,34,60,86,112,138],[6,30,58,86,114,142],[6,34,62,90,118,146],[6,30,54,78,102,126,150],[6,24,50,76,102,128,154],[6,28,54,80,106,132,158],[6,32,58,84,110,136,162],[6,26,54,82,110,138,166],[6,30,58,86,114,142,170]],G15:1335,G18:7973,G15_MASK:21522,getBCHTypeInfo:function(t){for(var e=t<<10;p.getBCHDigit(e)-p.getBCHDigit(p.G15)>=0;)e^=p.G15<<p.getBCHDigit(e)-p.getBCHDigit(p.G15);return(t<<10|e)^p.G15_MASK},getBCHTypeNumber:function(t){for(var e=t<<12;p.getBCHDigit(e)-p.getBCHDigit(p.G18)>=0;)e^=p.G18<<p.getBCHDigit(e)-p.getBCHDigit(p.G18);return t<<12|e},getBCHDigit:function(t){for(var e=0;0!=t;)e++,t>>>=1;return e},getPatternPosition:function(t){return p.PATTERN_POSITION_TABLE[t-1]},getMask:function(t,e,r){switch(t){case o:return(e+r)%2==0;case s:return e%2==0;case a:return r%3==0;case u:return(e+r)%3==0;case l:return(Math.floor(e/2)+Math.floor(r/3))%2==0;case c:return e*r%2+e*r%3==0;case d:return(e*r%2+e*r%3)%2==0;case h:return(e*r%3+(e+r)%2)%2==0;default:throw new Error("bad maskPattern:"+t)}},getErrorCorrectPolynomial:function(t){for(var e=new g([1],0),r=0;r<t;r++)e=e.multiply(new g([1,f.gexp(r)],0));return e},getLengthInBits:function(t,e){if(1<=e&&e<10)switch(t){case i.MODE_NUMBER:return 10;case i.MODE_ALPHA_NUM:return 9;case i.MODE_8BIT_BYTE:case i.MODE_KANJI:return 8;default:throw new Error("mode:"+t)}else if(e<27)switch(t){case i.MODE_NUMBER:return 12;case i.MODE_ALPHA_NUM:return 11;case i.MODE_8BIT_BYTE:return 16;case i.MODE_KANJI:return 10;default:throw new Error("mode:"+t)}else{if(!(e<41))throw new Error("type:"+e);switch(t){case i.MODE_NUMBER:return 14;case i.MODE_ALPHA_NUM:return 13;case i.MODE_8BIT_BYTE:return 16;case i.MODE_KANJI:return 12;default:throw new Error("mode:"+t)}}},getLostPoint:function(t){for(var e=t.getModuleCount(),r=0,i=0;i<e;i++)for(var n=0;n<e;n++){for(var o=0,s=t.isDark(i,n),a=-1;a<=1;a++)if(!(i+a<0||e<=i+a))for(var u=-1;u<=1;u++)n+u<0||e<=n+u||0==a&&0==u||s==t.isDark(i+a,n+u)&&o++;o>5&&(r+=3+o-5)}for(i=0;i<e-1;i++)for(n=0;n<e-1;n++){var l=0;t.isDark(i,n)&&l++,t.isDark(i+1,n)&&l++,t.isDark(i,n+1)&&l++,t.isDark(i+1,n+1)&&l++,0!=l&&4!=l||(r+=3)}for(i=0;i<e;i++)for(n=0;n<e-6;n++)t.isDark(i,n)&&!t.isDark(i,n+1)&&t.isDark(i,n+2)&&t.isDark(i,n+3)&&t.isDark(i,n+4)&&!t.isDark(i,n+5)&&t.isDark(i,n+6)&&(r+=40);for(n=0;n<e;n++)for(i=0;i<e-6;i++)t.isDark(i,n)&&!t.isDark(i+1,n)&&t.isDark(i+2,n)&&t.isDark(i+3,n)&&t.isDark(i+4,n)&&!t.isDark(i+5,n)&&t.isDark(i+6,n)&&(r+=40);var c=0;for(n=0;n<e;n++)for(i=0;i<e;i++)t.isDark(i,n)&&c++;return r+=10*(Math.abs(100*c/e/e-50)/5)}},f={glog:function(t){if(t<1)throw new Error("glog("+t+")");return f.LOG_TABLE[t]},gexp:function(t){for(;t<0;)t+=255;for(;t>=256;)t-=255;return f.EXP_TABLE[t]},EXP_TABLE:new Array(256),LOG_TABLE:new Array(256)},m=0;m<8;m++)f.EXP_TABLE[m]=1<<m;for(m=8;m<256;m++)f.EXP_TABLE[m]=f.EXP_TABLE[m-4]^f.EXP_TABLE[m-5]^f.EXP_TABLE[m-6]^f.EXP_TABLE[m-8];for(m=0;m<255;m++)f.LOG_TABLE[f.EXP_TABLE[m]]=m;function g(t,e){if(null==t.length)throw new Error(t.length+"/"+e);for(var r=0;r<t.length&&0==t[r];)r++;this.num=new Array(t.length-r+e);for(var i=0;i<t.length-r;i++)this.num[i]=t[i+r]}function v(t,e){this.totalCount=t,this.dataCount=e}function _(){this.buffer=[],this.length=0}g.prototype={get:function(t){return this.num[t]},getLength:function(){return this.num.length},multiply:function(t){for(var e=new Array(this.getLength()+t.getLength()-1),r=0;r<this.getLength();r++)for(var i=0;i<t.getLength();i++)e[r+i]^=f.gexp(f.glog(this.get(r))+f.glog(t.get(i)));return new g(e,0)},mod:function(t){if(this.getLength()-t.getLength()<0)return this;for(var e=f.glog(this.get(0))-f.glog(t.get(0)),r=new Array(this.getLength()),i=0;i<this.getLength();i++)r[i]=this.get(i);for(i=0;i<t.getLength();i++)r[i]^=f.gexp(f.glog(t.get(i))+e);return new g(r,0).mod(t)}},v.RS_BLOCK_TABLE=[[1,26,19],[1,26,16],[1,26,13],[1,26,9],[1,44,34],[1,44,28],[1,44,22],[1,44,16],[1,70,55],[1,70,44],[2,35,17],[2,35,13],[1,100,80],[2,50,32],[2,50,24],[4,25,9],[1,134,108],[2,67,43],[2,33,15,2,34,16],[2,33,11,2,34,12],[2,86,68],[4,43,27],[4,43,19],[4,43,15],[2,98,78],[4,49,31],[2,32,14,4,33,15],[4,39,13,1,40,14],[2,121,97],[2,60,38,2,61,39],[4,40,18,2,41,19],[4,40,14,2,41,15],[2,146,116],[3,58,36,2,59,37],[4,36,16,4,37,17],[4,36,12,4,37,13],[2,86,68,2,87,69],[4,69,43,1,70,44],[6,43,19,2,44,20],[6,43,15,2,44,16],[4,101,81],[1,80,50,4,81,51],[4,50,22,4,51,23],[3,36,12,8,37,13],[2,116,92,2,117,93],[6,58,36,2,59,37],[4,46,20,6,47,21],[7,42,14,4,43,15],[4,133,107],[8,59,37,1,60,38],[8,44,20,4,45,21],[12,33,11,4,34,12],[3,145,115,1,146,116],[4,64,40,5,65,41],[11,36,16,5,37,17],[11,36,12,5,37,13],[5,109,87,1,110,88],[5,65,41,5,66,42],[5,54,24,7,55,25],[11,36,12,7,37,13],[5,122,98,1,123,99],[7,73,45,3,74,46],[15,43,19,2,44,20],[3,45,15,13,46,16],[1,135,107,5,136,108],[10,74,46,1,75,47],[1,50,22,15,51,23],[2,42,14,17,43,15],[5,150,120,1,151,121],[9,69,43,4,70,44],[17,50,22,1,51,23],[2,42,14,19,43,15],[3,141,113,4,142,114],[3,70,44,11,71,45],[17,47,21,4,48,22],[9,39,13,16,40,14],[3,135,107,5,136,108],[3,67,41,13,68,42],[15,54,24,5,55,25],[15,43,15,10,44,16],[4,144,116,4,145,117],[17,68,42],[17,50,22,6,51,23],[19,46,16,6,47,17],[2,139,111,7,140,112],[17,74,46],[7,54,24,16,55,25],[34,37,13],[4,151,121,5,152,122],[4,75,47,14,76,48],[11,54,24,14,55,25],[16,45,15,14,46,16],[6,147,117,4,148,118],[6,73,45,14,74,46],[11,54,24,16,55,25],[30,46,16,2,47,17],[8,132,106,4,133,107],[8,75,47,13,76,48],[7,54,24,22,55,25],[22,45,15,13,46,16],[10,142,114,2,143,115],[19,74,46,4,75,47],[28,50,22,6,51,23],[33,46,16,4,47,17],[8,152,122,4,153,123],[22,73,45,3,74,46],[8,53,23,26,54,24],[12,45,15,28,46,16],[3,147,117,10,148,118],[3,73,45,23,74,46],[4,54,24,31,55,25],[11,45,15,31,46,16],[7,146,116,7,147,117],[21,73,45,7,74,46],[1,53,23,37,54,24],[19,45,15,26,46,16],[5,145,115,10,146,116],[19,75,47,10,76,48],[15,54,24,25,55,25],[23,45,15,25,46,16],[13,145,115,3,146,116],[2,74,46,29,75,47],[42,54,24,1,55,25],[23,45,15,28,46,16],[17,145,115],[10,74,46,23,75,47],[10,54,24,35,55,25],[19,45,15,35,46,16],[17,145,115,1,146,116],[14,74,46,21,75,47],[29,54,24,19,55,25],[11,45,15,46,46,16],[13,145,115,6,146,116],[14,74,46,23,75,47],[44,54,24,7,55,25],[59,46,16,1,47,17],[12,151,121,7,152,122],[12,75,47,26,76,48],[39,54,24,14,55,25],[22,45,15,41,46,16],[6,151,121,14,152,122],[6,75,47,34,76,48],[46,54,24,10,55,25],[2,45,15,64,46,16],[17,152,122,4,153,123],[29,74,46,14,75,47],[49,54,24,10,55,25],[24,45,15,46,46,16],[4,152,122,18,153,123],[13,74,46,32,75,47],[48,54,24,14,55,25],[42,45,15,32,46,16],[20,147,117,4,148,118],[40,75,47,7,76,48],[43,54,24,22,55,25],[10,45,15,67,46,16],[19,148,118,6,149,119],[18,75,47,31,76,48],[34,54,24,34,55,25],[20,45,15,61,46,16]],v.getRSBlocks=function(t,e){var r=v.getRsBlockTable(t,e);if(null==r)throw new Error("bad rs block @ typeNumber:"+t+"/errorCorrectLevel:"+e);for(var i=r.length/3,n=[],o=0;o<i;o++)for(var s=r[3*o+0],a=r[3*o+1],u=r[3*o+2],l=0;l<s;l++)n.push(new v(a,u));return n},v.getRsBlockTable=function(t,e){switch(e){case n.L:return v.RS_BLOCK_TABLE[4*(t-1)+0];case n.M:return v.RS_BLOCK_TABLE[4*(t-1)+1];case n.Q:return v.RS_BLOCK_TABLE[4*(t-1)+2];case n.H:return v.RS_BLOCK_TABLE[4*(t-1)+3];default:return}},_.prototype={get:function(t){var e=Math.floor(t/8);return 1==(this.buffer[e]>>>7-t%8&1)},put:function(t,e){for(var r=0;r<e;r++)this.putBit(1==(t>>>e-r-1&1))},getLengthInBits:function(){return this.length},putBit:function(t){var e=Math.floor(this.length/8);this.buffer.length<=e&&this.buffer.push(0),t&&(this.buffer[e]|=128>>>this.length%8),this.length++}};var b=[[17,14,11,7],[32,26,20,14],[53,42,32,24],[78,62,46,34],[106,84,60,44],[134,106,74,58],[154,122,86,64],[192,152,108,84],[230,180,130,98],[271,213,151,119],[321,251,177,137],[367,287,203,155],[425,331,241,177],[458,362,258,194],[520,412,292,220],[586,450,322,250],[644,504,364,280],[718,560,394,310],[792,624,442,338],[858,666,482,382],[929,711,509,403],[1003,779,565,439],[1091,857,611,461],[1171,911,661,511],[1273,997,715,535],[1367,1059,751,593],[1465,1125,805,625],[1528,1190,868,658],[1628,1264,908,698],[1732,1370,982,742],[1840,1452,1030,790],[1952,1538,1112,842],[2068,1628,1168,898],[2188,1722,1228,958],[2303,1809,1283,983],[2431,1911,1351,1051],[2563,1989,1423,1093],[2699,2099,1499,1139],[2809,2213,1579,1219],[2953,2331,1663,1273]];var y=function(){var t=function(t,e){this._el=t,this._htOption=e};return t.prototype.draw=function(t){var e=this._htOption,r=this._el,i=t.getModuleCount();Math.floor(e.width/i),Math.floor(e.height/i);function n(t,e){var r=document.createElementNS("http://www.w3.org/2000/svg",t);for(var i in e)e.hasOwnProperty(i)&&r.setAttribute(i,e[i]);return r}this.clear();var o=n("svg",{viewBox:"0 0 "+String(i)+" "+String(i),width:"100%",height:"100%",fill:e.colorLight});o.setAttributeNS("http://www.w3.org/2000/xmlns/","xmlns:xlink","http://www.w3.org/1999/xlink"),r.appendChild(o),o.appendChild(n("rect",{fill:e.colorLight,width:"100%",height:"100%"})),o.appendChild(n("rect",{fill:e.colorDark,width:"1",height:"1",id:"template"}));for(var s=0;s<i;s++)for(var a=0;a<i;a++)if(t.isDark(s,a)){var u=n("use",{x:String(s),y:String(a)});u.setAttributeNS("http://www.w3.org/1999/xlink","href","#template"),o.appendChild(u)}},t.prototype.clear=function(){for(;this._el.hasChildNodes();)this._el.removeChild(this._el.lastChild)},t}(),w="svg"===document.documentElement.tagName.toLowerCase()?y:"undefined"==typeof CanvasRenderingContext2D?function(){var t=function(t,e){this._el=t,this._htOption=e};return t.prototype.draw=function(t){for(var e=this._htOption,r=this._el,i=t.getModuleCount(),n=Math.floor(e.width/i),o=Math.floor(e.height/i),s=['<table style="border:0;border-collapse:collapse;">'],a=0;a<i;a++){s.push("<tr>");for(var u=0;u<i;u++)s.push('<td style="border:0;border-collapse:collapse;padding:0;margin:0;width:'+n+"px;height:"+o+"px;background-color:"+(t.isDark(a,u)?e.colorDark:e.colorLight)+';"></td>');s.push("</tr>")}s.push("</table>"),r.innerHTML=s.join("");var l=r.childNodes[0],c=(e.width-l.offsetWidth)/2,d=(e.height-l.offsetHeight)/2;c>0&&d>0&&(l.style.margin=d+"px "+c+"px")},t.prototype.clear=function(){this._el.innerHTML=""},t}():function(){function t(){this._elImage.src=this._elCanvas.toDataURL("image/png"),this._elImage.style.setProperty("display","block","important"),this._elCanvas.style.setProperty("display","none","important")}function e(t,e){var r=this;if(r._fFail=e,r._fSuccess=t,null===r._bSupportDataURI){var i=document.createElement("img"),n=function(){r._bSupportDataURI=!1,r._fFail&&r._fFail.call(r)};return i.onabort=n,i.onerror=n,i.onload=function(){r._bSupportDataURI=!0,r._fSuccess&&r._fSuccess.call(r)},void(i.src="data:image/gif;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAAHElEQVQI12P4//8/w38GIAXDIBKE0DHxgljNBAAO9TXL0Y4OHwAAAABJRU5ErkJggg==")}!0===r._bSupportDataURI&&r._fSuccess?r._fSuccess.call(r):!1===r._bSupportDataURI&&r._fFail&&r._fFail.call(r)}var r=function(t,e){this._bIsPainted=!1,this._htOption=e,this._elCanvas=document.createElement("canvas"),this._elCanvas.width=e.width,this._elCanvas.height=e.height,t.appendChild(this._elCanvas),this._el=t,this._oContext=this._elCanvas.getContext("2d"),this._bIsPainted=!1,this._elImage=document.createElement("img"),this._elImage.alt="Scan me!",this._elImage.style.setProperty("display","none","important"),this._el.appendChild(this._elImage),this._bSupportDataURI=null};return r.prototype.draw=function(t){var e=this._elImage,r=this._oContext,i=this._htOption,n=t.getModuleCount(),o=i.width/n,s=i.height/n,a=Math.round(o),u=Math.round(s);e.style.setProperty("display","none","important"),this.clear();for(var l=0;l<n;l++)for(var c=0;c<n;c++){var d=t.isDark(l,c),h=c*o,p=l*s;r.strokeStyle=d?i.colorDark:i.colorLight,r.lineWidth=1,r.fillStyle=d?i.colorDark:i.colorLight,r.fillRect(h,p,o,s),r.strokeRect(Math.floor(h)+.5,Math.floor(p)+.5,a,u),r.strokeRect(Math.ceil(h)-.5,Math.ceil(p)-.5,a,u)}this._bIsPainted=!0},r.prototype.makeImage=function(){this._bIsPainted&&e.call(this,t)},r.prototype.isPainted=function(){return this._bIsPainted},r.prototype.clear=function(){this._oContext.clearRect(0,0,this._elCanvas.width,this._elCanvas.height),this._bIsPainted=!1},r.prototype.round=function(t){return t?Math.floor(1e3*t)/1e3:t},r}();function C(t,e){for(var r=1,i=function(t){var e=encodeURI(t).toString().replace(/\%[0-9a-fA-F]{2}/g,"a");return e.length+(e.length!=t?3:0)}(t),o=0,s=b.length;o<=s;o++){var a=0;switch(e){case n.L:a=b[o][0];break;case n.M:a=b[o][1];break;case n.Q:a=b[o][2];break;case n.H:a=b[o][3]}if(i<=a)break;r++}if(r>b.length)throw new Error("Too long data");return r}(e=function(t,e){if(this._htOption={width:256,height:256,typeNumber:4,colorDark:"#000000",colorLight:"#ffffff",correctLevel:n.H},"string"==typeof e&&(e={text:e}),e)for(var r in e)this._htOption[r]=e[r];"string"==typeof t&&(t=document.getElementById(t)),this._htOption.useSVG&&(w=y),this._el=t,this._oQRCode=null,this._oDrawing=new w(this._el,this._htOption),this._htOption.text&&this.makeCode(this._htOption.text)}).prototype.makeCode=function(t){this._oQRCode=new r(C(t,this._htOption.correctLevel),this._htOption.correctLevel),this._oQRCode.addData(t),this._oQRCode.make(),this._el.title=t,this._oDrawing.draw(this._oQRCode),this.makeImage()},e.prototype.makeImage=function(){},e.prototype.clear=function(){this._oDrawing.clear()},e.CorrectLevel=n}(),t&&t.exports&&(t.exports=e)}).call(this,r("RoC8")(t))},tuHn:function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={props:{name:{type:String,required:!0},value:{type:String,required:!0,default:""},disabled:{type:Boolean,default:!1},handleChange:{type:Function,default:function(){return function(){}}},atomValue:{type:Object,default:function(){return{}}},container:{type:Object,default:function(){return{}}},rule:{type:Object,default:function(){return{}}},component:String,required:Boolean,hasError:{type:Boolean},hidden:{type:Boolean,default:!1}},watch:{value:function(t,e){t!==e&&this.$emit("input",t)}}}},"uAN+":function(t,e,r){"use strict";r.r(e);var i=r("raB1"),n=r("ecFu");for(var o in n)"default"!==o&&function(t){r.d(e,t,(function(){return n[t]}))}(o);r("qy21");var s=r("psIG"),a=Object(s.a)(n.default,i.a,i.b,!1,null,null,null);a.options.__file="src/components/AtomFormComponent/Selector/index.vue",e.default=a.exports},uph0:function(t,e,r){"use strict";var i=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{directives:[{name:"bkloading",rawName:"v-bkloading",value:{isLoading:t.isLoading},expression:"{ isLoading }"}],staticClass:"build-history-tab-content"},[t.showFilterBar?r("filter-bar",t._b({attrs:{"set-history-page-status":t.setHistoryPageStatus,"reset-query-condition":t.resetQueryCondition},on:{query:t.queryBuildHistory}},"filter-bar",t.historyPageStatus.queryMap,!1)):t._e(),t._v(" "),r("build-history-table",{attrs:{"loading-more":t.isLoadingMore,"current-pipeline-version":t.currentPipelineVersion,"build-list":t.buildList,columns:t.shownColumns,"empty-tips-config":t.emptyTipsConfig,"show-log":t.showLog},on:{"update-table":t.updateBuildHistoryList}}),t._v(" "),r("bk-dialog",{attrs:{width:"567",title:"设置显示列","ext-cls":"create-view-dialog",value:t.isColumnsSelectPopupVisible},on:{confirm:t.updateTableColumns,cancel:t.resetColumns}},[r("bk-transfer",{attrs:{"source-list":t.sourceColumns,"display-key":"label","setting-key":"prop",sortable:!0,"target-list":t.shownColumns,title:["可选列表","已选列表"]},on:{change:t.handleColumnsChange}})],1),t._v(" "),r("bk-sideslider",{staticClass:"pipeline-history-side-slider",attrs:{"is-show":t.isLogSliderShow,title:"查看日志"+(t.currentBuildNum?"（#"+t.currentBuildNum+"）":""),"quick-close":!0,width:820},on:{"update:isShow":function(e){t.isLogSliderShow=e},"update:is-show":function(e){t.isLogSliderShow=e}}},[r("template",{slot:"content"},[t.currentBuildNo?r("pipeline-log",{attrs:{"build-no":t.currentBuildNo,"build-num":t.currentBuildNum,"show-export":t.currentShowStatus}}):t._e()],1)],2)],1)},n=[];i._withStripped=!0,r.d(e,"a",(function(){return i})),r.d(e,"b",(function(){return n}))},vVhs:function(t,e,r){"use strict";r.r(e);var i=r("1gbm"),n=r.n(i);for(var o in i)"default"!==o&&function(t){r.d(e,t,(function(){return i[t]}))}(o);e.default=n.a},wm1E:function(t,e,r){"use strict";r.r(e);var i=r("neEv"),n=r("80kE");for(var o in n)"default"!==o&&function(t){r.d(e,t,(function(){return n[t]}))}(o);r("MkV0");var s=r("psIG"),a=Object(s.a)(n.default,i.a,i.b,!1,null,null,null);a.options.__file="src/components/devops/emptyTips.vue",e.default=a.exports},xD3Y:function(t,e,r){"use strict";var i=r("D6JA");r.n(i).a},yji4:function(t,e,r){}}]);