(window.webpackJsonp=window.webpackJsonp||[]).push([["pipelinesTemplate"],{"+2Oq":function(e,t,n){"use strict";n.r(t);var i=n("exwX"),a=n.n(i);for(var r in i)"default"!==r&&function(e){n.d(t,e,(function(){return i[e]}))}(r);t.default=a.a},"+K0d":function(e,t,n){"use strict";n.r(t);var i=n("PoQr"),a=n("N7+c");for(var r in a)"default"!==r&&function(e){n.d(t,e,(function(){return a[e]}))}(r);n("Pfde");var s=n("psIG"),o=Object(s.a)(a.default,i.a,i.b,!1,null,null,null);o.options.__file="src/components/atomFormField/AtomAceEditor/index.vue",t.default=o.exports},"+h6E":function(e,t,n){"use strict";var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("bk-dialog",{attrs:{width:"400","ext-cls":"instance-pipeline-name-dialog","show-footer":e.instanceDialogConfig.hasFooter,"close-icon":e.instanceDialogConfig.closeIcon},model:{value:e.showInstanceCreate,callback:function(t){e.showInstanceCreate=t},expression:"showInstanceCreate"}},[[n("section",{directives:[{name:"bkloading",rawName:"v-bkloading",value:{isLoading:e.instanceDialogConfig.loading},expression:"{\n                isLoading: instanceDialogConfig.loading\n            }"}],staticClass:"create-pipeline-content"},[n("div",{staticClass:"info-title"},[e._v("实例化流水线名称")]),e._v(" "),n("div",{staticClass:"bk-form create-form"},[n("div",{staticClass:"item-label"},[e._v("流水线名称")]),e._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:e.pipelineName,expression:"pipelineName"},{name:"focus",rawName:"v-focus",value:e.isFocus(),expression:"isFocus()"},{name:"validate",rawName:"v-validate",value:{required:!0,max:40},expression:"{\n                        required: true,\n                        max: 40\n                    }"}],staticClass:"bk-form-input pipeline-name-input",class:{"is-danger":e.errors.has("pipelineName")},attrs:{type:"text",placeholder:"请输入流水线名称",name:"pipelineName"},domProps:{value:e.pipelineName},on:{input:function(t){t.target.composing||(e.pipelineName=t.target.value)}}}),e._v(" "),n("div",{class:e.errors.has("pipelineName")?"error-tips":"normal-tips"},[e._v(e._s(e.errors.first("pipelineName")))])])]),e._v(" "),n("div",{staticClass:"form-footer"},[n("bk-button",{attrs:{theme:"primary"},on:{click:function(t){return e.confirm()}}},[e._v("确定")]),e._v(" "),n("bk-button",{on:{click:function(t){return e.cancel()}}},[e._v("取消")])],1)]],2)},a=[];i._withStripped=!0,n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return a}))},"+n9j":function(e,t,n){"use strict";n.r(t);var i=n("6SLC"),a=n.n(i);for(var r in i)"default"!==r&&function(e){n.d(t,e,(function(){return i[e]}))}(r);t.default=a.a},"+rYQ":function(e,t,n){"use strict";var i=n("pg9h");n.n(i).a},"/4vC":function(e,t,n){"use strict";var i=n("bXpj");n.n(i).a},"/91b":function(e,t,n){},"/GLl":function(e,t,n){"use strict";var i=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("section",{staticClass:"devops-empty-tips"},["noCollect"!==e.imgType?i("img",{staticClass:"no-data-pic",attrs:{src:e.noDataSrc,alt:""}}):e._e(),e._v(" "),"noCollect"===e.imgType?i("img",{staticClass:"no-collect-pic",attrs:{src:n("qeuZ"),alt:""}}):e._e(),e._v(" "),i("p",{staticClass:"title"},[e._v(e._s(e.title))]),e._v(" "),i("p",{staticClass:"desc"},[e._v(e._s(e.desc))]),e._v(" "),i("p",{staticClass:"btns-row"},[e._t("btns",[e.btns.length?e._l(e.btns,(function(t,n){return i("bk-button",{key:n,attrs:{disabled:e.btnDisabled,theme:t.theme,size:t.size},on:{click:t.handler}},[e._v("\n                    "+e._s(t.text)+"\n                ")])})):e._e()])],2)])},a=[];i._withStripped=!0,n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return a}))},"/T6n":function(e,t,n){"use strict";var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("accordion",{key:"otherChoice",attrs:{"show-checkbox":"","show-content":e.enableMutual,"is-version":"true"}},[n("header",{staticClass:"var-header",attrs:{slot:"header"},slot:"header"},[n("span",[e._v("设置互斥组")]),e._v(" "),n("input",{staticClass:"accordion-checkbox",attrs:{disabled:e.disabled,type:"checkbox"},domProps:{checked:e.enableMutual},on:{click:function(e){e.stopPropagation()},change:e.toggleMutual}})]),e._v(" "),e.enableMutual?n("div",{staticClass:"bk-form bk-form-vertical",attrs:{slot:"content"},slot:"content"},[e._l(e.optionModel,(function(t,i){return[!e.isHidden(t,e.mutexGroup)&&"enable"!==i&&e.enableMutual?n("form-field",{key:i,attrs:{desc:t.desc,required:t.required,label:t.label,"is-error":e.errors.has(i),"error-msg":e.errors.first(i)}},[n(t.component,e._b({directives:[{name:"validate",rawName:"v-validate.initial",value:Object.assign({},t.rule,{required:!!t.required}),expression:"Object.assign({}, obj.rule, { required: !!obj.required })",modifiers:{initial:!0}}],tag:"component",attrs:{name:i,"handle-change":e.handleUpdateJobMutual,value:e.mutexGroup[i],disabled:e.disabled}},"component",t,!1))],1):e._e()]}))],2):e._e()])},a=[];i._withStripped=!0,n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return a}))},"/Thn":function(e,t,n){"use strict";n.r(t);var i=n("SJhp"),a=n.n(i);for(var r in i)"default"!==r&&function(e){n.d(t,e,(function(){return i[e]}))}(r);t.default=a.a},"/eFY":function(e,t,n){"use strict";n.r(t);var i=n("hON/"),a=n.n(i);for(var r in i)"default"!==r&&function(e){n.d(t,e,(function(){return i[e]}))}(r);t.default=a.a},"/wRU":function(e,t,n){"use strict";n.r(t);var i=n("Syue"),a=n("br82");for(var r in a)"default"!==r&&function(e){n.d(t,e,(function(){return a[e]}))}(r);var s=n("psIG"),o=Object(s.a)(a.default,i.a,i.b,!1,null,null,null);o.options.__file="src/components/atomFormField/AutoComplete/index.vue",t.default=o.exports},"00Av":function(e,t,n){"use strict";n.r(t);var i=n("3mJI"),a=n.n(i);for(var r in i)"default"!==r&&function(e){n.d(t,e,(function(){return i[e]}))}(r);t.default=a.a},"05gE":function(e,t,n){"use strict";n.r(t);var i=n("DIWr"),a=n.n(i);for(var r in i)"default"!==r&&function(e){n.d(t,e,(function(){return i[e]}))}(r);t.default=a.a},"08eb":function(e,t,n){e.exports={default:n("md7T"),__esModule:!0}},"0Q91":function(e,t,n){"use strict";n.r(t);var i=n("32wu"),a=n.n(i);for(var r in i)"default"!==r&&function(e){n.d(t,e,(function(){return i[e]}))}(r);t.default=a.a},"0w5d":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=o(n("snOE")),a=o(n("Kz1y")),r=n("WIBD"),s=n("2K1W");function o(e){return e&&e.__esModule?e:{default:e}}var l={props:{setParentValidate:Function},computed:(0,a.default)({},(0,r.mapState)("atom",["isPropertyPanelVisible"]),{errorFields:function(){return this.errors&&Array.isArray(this.errors.items)?[].concat((0,i.default)(this.errors.items)):[]}}),watch:{errorFields:function(e,t){var n=e.filter((function(e){return!t.find((function(t){return t.field===e.field}))})),i=t.filter((function(t){return!e.find((function(e){return e.field===t.field}))}));this.setParentValidate(n,i)}},created:function(){var e=this;s.bus.$on("validate",(function(){e.$validator.validateAll()}))}};t.default=l},"0wh+":function(e,t,n){"use strict";n.r(t);var i=n("c8u7"),a=n("ohnJ");for(var r in a)"default"!==r&&function(e){n.d(t,e,(function(){return a[e]}))}(r);var s=n("psIG"),o=Object(s.a)(a.default,i.a,i.b,!1,null,null,null);o.options.__file="src/components/atomFormField/StaffInput/index.vue",t.default=o.exports},"1+y6":function(e,t,n){"use strict";n.r(t);var i=n("Qx9U"),a=n.n(i);for(var r in i)"default"!==r&&function(e){n.d(t,e,(function(){return i[e]}))}(r);t.default=a.a},"1GL7":function(e,t,n){},"1JUa":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i,a=n("q7rD"),r=(i=a)&&i.__esModule?i:{default:i};t.default={mixins:[r.default],props:{visible:{type:Boolean,default:!1},srcTips:{type:String,default:""},pathTips:{type:String,default:""},githubAppUrl:{type:String,default:""},keystoreTips:{type:String,default:""}}}},"1ZCx":function(e,t,n){"use strict";n.r(t);var i=n("TAzd"),a=n("vFIl");for(var r in a)"default"!==r&&function(e){n.d(t,e,(function(){return a[e]}))}(r);n("+rYQ");var s=n("psIG"),o=Object(s.a)(a.default,i.a,i.b,!1,null,null,null);o.options.__file="src/components/ContainerPropertyPanel/ContainerAppSelector.vue",t.default=o.exports},"1e8l":function(e,t,n){"use strict";var i=n("Pisl");n.n(i).a},"1h3O":function(e,t,n){"use strict";n.r(t);var i=n("WzoQ"),a=n("65/W");for(var r in a)"default"!==r&&function(e){n.d(t,e,(function(){return a[e]}))}(r);n("Go+F");var s=n("psIG"),o=Object(s.a)(a.default,i.a,i.b,!1,null,null,null);o.options.__file="src/components/atomFormField/CodeModeInput/index.vue",t.default=o.exports},"1kY+":function(e,t,n){},"2IHQ":function(e,t,n){"use strict";var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"bk-form bk-form-vertical"},[e._l(e.atomPropsModel,(function(t,i){return[t.hidden?e._e():n("form-field",{key:i,attrs:{desc:t.desc,"desc-link":t.descLink,"desc-link-text":t.descLinkText,required:t.required,label:t.label,"is-error":e.errors.has(i),"error-msg":e.errors.first(i)}},[n(t.component,e._b({directives:[{name:"validate",rawName:"v-validate.initial",value:Object.assign({},t.rule,{required:!!t.required}),expression:"Object.assign({}, obj.rule, { required: !!obj.required })",modifiers:{initial:!0}}],tag:"component",attrs:{name:i,"handle-change":"eventType"===i?e.handleBlockEnable:e.handleMethods,value:e.element[i]}},"component",t,!1))],1)]}))],2)},a=[];i._withStripped=!0,n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return a}))},"2Uz2":function(e,t,n){"use strict";n.r(t);var i=n("jzcZ"),a=n.n(i);for(var r in i)"default"!==r&&function(e){n.d(t,e,(function(){return i[e]}))}(r);t.default=a.a},"2eEL":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(e,t){if(!e||!t)return!1;if(-1!==t.indexOf(" "))throw new Error("className should not contain space.");return e.classList?e.classList.contains(t):(" "+e.className+" ").indexOf(" "+t+" ")>-1},a=function(e,t){if(e){for(var n=e.className,a=(t||"").split(" "),r=0,s=a.length;r<s;r++){var o=a[r];o&&(e.classList?e.classList.add(o):i(e,o)||(n+=" "+o))}e.classList||(e.className=n)}},r=function(e,t){if(e&&t){for(var n=t.split(" "),a=" "+e.className+" ",r=0,s=n.length;r<s;r++){var o=n[r];o&&(e.classList?e.classList.remove(o):i(e,o)&&(a=a.replace(" "+o+" "," ")))}e.classList||(e.className=(a||"").replace(/^[\s\uFEFF]+|[\s\uFEFF]+$/g,""))}},s={beforeEnter:function(e){a(e,"collapse-transition"),e.dataset||(e.dataset={}),e.dataset.oldPaddingTop=e.style.paddingTop,e.dataset.oldPaddingBottom=e.style.paddingBottom,e.style.height="0",e.style.paddingTop=0,e.style.paddingBottom=0},enter:function(e){e.dataset.oldOverflow=e.style.overflow,0!==e.scrollHeight?(e.style.height=e.scrollHeight+"px",e.style.paddingTop=e.dataset.oldPaddingTop,e.style.paddingBottom=e.dataset.oldPaddingBottom):(e.style.height="",e.style.paddingTop=e.dataset.oldPaddingTop,e.style.paddingBottom=e.dataset.oldPaddingBottom),e.style.overflow="hidden"},afterEnter:function(e){r(e,"collapse-transition"),e.style.height="",e.style.overflow=e.dataset.oldOverflow},beforeLeave:function(e){e.dataset||(e.dataset={}),e.dataset.oldPaddingTop=e.style.paddingTop,e.dataset.oldPaddingBottom=e.style.paddingBottom,e.dataset.oldOverflow=e.style.overflow,e.style.height=e.scrollHeight+"px",e.style.overflow="hidden"},leave:function(e){0!==e.scrollHeight&&(a(e,"collapse-transition"),e.style.height=0,e.style.paddingTop=0,e.style.paddingBottom=0)},afterLeave:function(e){r(e,"collapse-transition"),e.style.height="",e.style.overflow=e.dataset.oldOverflow,e.style.paddingTop=e.dataset.oldPaddingTop,e.style.paddingBottom=e.dataset.oldPaddingBottom}};t.default={name:"CollapseTransition",functional:!0,render:function(e,t){var n=t.children;return e("transition",{on:s},n)}}},"2l5Q":function(e,t,n){"use strict";n.r(t);var i=n("itRb"),a=n("XDaH");for(var r in a)"default"!==r&&function(e){n.d(t,e,(function(){return a[e]}))}(r);n("1e8l");var s=n("psIG"),o=Object(s.a)(a.default,i.a,i.b,!1,null,null,null);o.options.__file="src/views/template/index.vue",t.default=o.exports},"2l9d":function(e,t,n){},"32wu":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=r(n("q7rD")),a=r(n("ND4a"));function r(e){return e&&e.__esModule?e:{default:e}}t.default={name:"group-id-selector",components:{MultipleComplete:a.default},mixins:[i.default],props:{text:{type:String},repositoryHashId:{type:String,required:!0},branchName:{type:String,default:""},elementType:{type:String,default:""},name:{type:String,default:""},value:{type:String,default:""},placeholder:{type:String},label:{type:String},desc:{type:String},iconClass:{type:String},descDirection:{type:String,default:"right"}},data:function(){return{noPermission:!0,isLoading:!1,list:[]}},computed:{projectId:function(){return this.$route.params.projectId},dataInputConfig:function(){return{data:this.list||[],onChange:this.onChange}}},mounted:function(){this.list=localStorage.getItem("groupIdStr")?localStorage.getItem("groupIdStr").split(";").filter((function(e){return e})):[]},methods:{onChange:function(e,t){this.value=t,this.handleChange(e,t)}}}},"37Zv":function(e,t,n){"use strict";var i=n("6tMT");n.n(i).a},"3B4/":function(e,t,n){"use strict";n.r(t);var i=n("wR2U"),a=n.n(i);for(var r in i)"default"!==r&&function(e){n.d(t,e,(function(){return i[e]}))}(r);t.default=a.a},"3mJI":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={props:{showInstanceMessage:Boolean,failList:Array,successList:Array,failMessage:Object},data:function(){return{instanceMessageConfig:{loading:!1,hasHeader:!1,hasFooter:!1,closeIcon:!1,quickClose:!1}}},computed:{message:function(){var e=void 0;return this.successList.length?this.successList.length&&(e="你实例化"+this.failList.length+"条流水线失败"):e="你已成功实例化"+this.successList.length+"条流水线，"+this.failList.length+"条流水线失败",e}},methods:{cancel:function(){this.$emit("cancel")}}}},"3s8N":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i,a=n("q7rD"),r=(i=a)&&i.__esModule?i:{default:i},s=n("ygAv");t.default={name:"atom-date-picker",mixins:[r.default],props:{timer:{type:Boolean,default:!1},startDate:{type:String,default:"2019-08-01"}},computed:{msValue:function(){return this.value?1e3*this.value:null},date:function(){return this.msValue?(0,s.convertTime)(this.msValue).split(" ")[0]:""},dateType:function(){return this.timer?"datetime":"date"}},methods:{handleDateChange:function(e){var t=+new Date(e);t!==this.msValue&&this.handleChange(this.name,Math.floor(t/1e3))}}}},"3tY9":function(e,t,n){"use strict";n.r(t);var i=n("9H/W"),a=n("qJYy");for(var r in a)"default"!==r&&function(e){n.d(t,e,(function(){return a[e]}))}(r);var s=n("psIG"),o=Object(s.a)(a.default,i.a,i.b,!1,null,null,null);o.options.__file="src/components/pipelineParamsForm.vue",t.default=o.exports},"48Ig":function(e,t,n){"use strict";n.r(t);var i=n("GrJD"),a=n("UR+t");for(var r in a)"default"!==r&&function(e){n.d(t,e,(function(){return a[e]}))}(r);var s=n("psIG"),o=Object(s.a)(a.default,i.a,i.b,!1,null,null,null);o.options.__file="src/components/atomFormField/AtomDatePicker/index.vue",t.default=o.exports},"4CR5":function(e,t,n){"use strict";var i=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("portal",{attrs:{to:"atom-selector-popup"}},[i("div",{staticClass:"atom-selector-popup",class:e.showAtomSelectorPopup?"visible":"hide"},[i("header",{staticClass:"atom-selector-header"},[i("h3",[e._v("请选择一个插件"),i("i",{staticClass:"bk-icon icon-refresh atom-fresh",class:e.fetchingAtomList?"spin-icon":"",on:{click:function(t){return e.freshAtomList(e.searchKey)}}})]),e._v(" "),i("bk-input",{directives:[{name:"bk-focus",rawName:"v-bk-focus",value:1,expression:"1"}],staticClass:"atom-search-input",attrs:{clearable:"",placeholder:"快速搜索","right-icon":"bk-icon icon-search",value:e.searchKey},on:{input:e.handleSearch}})],1),e._v(" "),i("bk-tab",{directives:[{name:"bkloading",rawName:"v-bkloading",value:{isLoading:e.fetchingAtomList},expression:"{ isLoading: fetchingAtomList }"}],ref:"tab",staticClass:"atom-tab",attrs:{size:"small",active:e.classifyCode,type:"unborder-card"},on:{"update:active":function(t){e.classifyCode=t}}},e._l(e.classifyCodeList,(function(t){var a;return i("bk-tab-panel",{key:t,class:[(a={},a[e.getClassifyCls(t)]=!0,a),"tab-section"],attrs:{name:t,label:e.atomTree[t].classifyName},nativeOn:{"&scroll":function(n){return e.scrollLoadMore(t,n)}}},[e._l(e.getAtomList(t),(function(t){var n;return i("div",{key:t.atomCode,class:(n={"atom-item":!0,active:t.atomCode===e.activeAtomCode,selected:t.atomCode===e.atomCode},n[e.getAtomClass(t.atomCode)]=!0,n),attrs:{disabled:t.disabled},on:{click:function(n){return e.activeAtom(t)}}},[i("div",{staticClass:"atom-item-main"},[i("div",{staticClass:"atom-logo"},[t.logoUrl?i("img",{attrs:{src:t.logoUrl}}):i("logo",{staticClass:"bk-icon",attrs:{name:e.getIconByCode(t.atomCode),size:"50"}})],1),e._v(" "),i("div",{staticClass:"atom-info-content"},[i("p",{staticClass:"atom-name"},[e._v("\n                                "+e._s(t.name)+"\n                                "),i("span",{staticClass:"allow-os-list"},[t.os&&t.os.length>0?[e._l(t.os,(function(t){return[i("bk-popover",{key:t,attrs:{content:e.jobConst[t]+"编译环境下可用"}},[i("i",{class:"os-tag bk-icon icon-"+t.toLowerCase()})])]}))]:i("bk-popover",{attrs:{content:"无编译环境下可用"}},[i("i",{class:"os-tag bk-icon icon-none"})])],2)]),e._v(" "),i("p",{staticClass:"desc"},[e._v(e._s(t.summary||"暂无描述"))]),e._v(" "),i("p",{staticClass:"atom-from"},[e._v(e._s("由"+t.publisher+"提供"))])]),e._v(" "),i("div",{staticClass:"atom-operate"},[t.notShowSelect?i("bk-button",{staticClass:"select-atom-btn",class:{disabled:t.disabled},attrs:{size:"small",disabled:!t.flag,title:t.tips},on:{click:function(n){return e.handleInstallStoreAtom(t.atomCode)}}},[e._v("安装\n                            ")]):i("bk-button",{staticClass:"select-atom-btn",class:t.disabled?"disabled":"",attrs:{size:"small",disabled:t.disabled||t.atomCode===e.atomCode},on:{click:function(n){return e.handleUpdateAtomType(t.atomCode)}}},[e._v(e._s(t.atomCode===e.atomCode?"已选":"选择")+"\n                            ")]),e._v(" "),t.docsLink?i("a",{staticClass:"atom-link",attrs:{target:"_blank",href:t.docsLink}},[e._v("了解更多")]):e._e()],1)])])})),e._v(" "),0===e.atomTree[t].children.length?i("div",{staticClass:"empty-atom-list"},[i("img",{attrs:{src:n("zlVo")}})]):e._e()],2)})),1)],1)])},a=[];i._withStripped=!0,n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return a}))},"4DNr":function(e,t,n){"use strict";var i=n("PGTu");n.n(i).a},"4aFQ":function(e,t,n){"use strict";var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{directives:[{name:"bkloading",rawName:"v-bkloading",value:{isLoading:e.isLoading},expression:"{ isLoading }"}],staticClass:"pipeline-template-list"},[n("div",{staticClass:"template-list-content"},[n("div",{staticClass:"view-table-wrapper"},[e.showSelfEmpty?e._e():n("bk-button",{staticClass:"add-template",attrs:{theme:"primary",disabled:!e.isManagerUser},on:{click:e.showSetting}},[n("i",{staticClass:"bk-icon icon-plus"}),n("span",[e._v("新建模板")])]),e._v(" "),n("template-table",{ref:"selfTemp",on:{getApiData:e.getTempFromSelf}}),e._v(" "),e.showSelfEmpty?n("empty-tips",{attrs:{title:"暂无模板",desc:e.emptyTipsConfig.desc,"btn-disabled":e.emptyTipsConfig.btnDisabled,btns:e.emptyTipsConfig.btns}}):e._e()],1)]),e._v(" "),n("bk-dialog",{attrs:{"close-icon":!1,"header-position":"left",title:"新增模板",width:"480"},on:{confirm:e.createTemplate},model:{value:e.setting.isShow,callback:function(t){e.$set(e.setting,"isShow",t)},expression:"setting.isShow"}},[n("div",[n("form-field",{attrs:{required:!1,label:"模板名称","is-error":e.errors.has("templateName"),"error-msg":e.errors.first("templateName")}},[n("input",{directives:[{name:"focus",rawName:"v-focus",value:e.isFocus(),expression:"isFocus()"},{name:"model",rawName:"v-model",value:e.setting.value,expression:"setting.value"},{name:"validate",rawName:"v-validate",value:"required|max:30",expression:'"required|max:30"'}],staticClass:"bk-form-input",attrs:{maxlength:"30",placeholder:"请输入模板名称，不能超过30个字符",id:"templateName",name:"templateName"},domProps:{value:e.setting.value},on:{input:function(t){t.target.composing||e.$set(e.setting,"value",t.target.value)}}})])],1)])],1)},a=[];i._withStripped=!0,n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return a}))},"4nBn":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=l(n("/9Wh")),a=l(n("Kz1y")),r=l(n("WyVq")),s=l(n("0w5d")),o=n("WIBD");function l(e){return e&&e.__esModule?e:{default:e}}t.default={name:"code-pull-svn-atom",mixins:[r.default,s.default],data:function(){return{newModel:{},list:[],tmpRevision:"",tips:"当前流水线存在多个代码拉取插件，你需设置此字段以解决冲突问题"}},computed:(0,a.default)({},(0,o.mapState)("atom",["pipeline"]),(0,o.mapGetters)("atom",["isTriggerContainer","getAllContainers","isCodePullAtom"]),{isThirdDocker:function(){return this.container&&this.container.dispatchType&&"DOCKER"===this.container.dispatchType.buildType&&-1===["tlinux1.2","tlinux2.2"].indexOf(this.container.dispatchType.value)},pipelineStages:function(){return(0,this.getAllContainers)(this.pipeline.stages||[])||[]},triggerContainer:function(){var e=this,t=[];return this.pipelineStages.length&&this.pipelineStages.map((function(n){e.isTriggerContainer(n)&&(t=n)})),t},srcTips:function(){var e=this,t=this.list.find((function(t){return t.repositoryHashId===e.element.repositoryHashId})),n=t&&t.url?t.url:"${CODE_ROOT_URL}";if(n.endsWith("/")&&(n=n.substring(0,n.length-1)),this.element.svnPath&&""!==this.element.svnPath&&"."!==this.element.svnPath&&"./"!==this.element.svnPath&&"./*"!==this.element.svnPath){var i=this.element.svnPath;return" "+n+"/"+(i=this.handlePath(i))+"/*"}return" "+n+"/*"},pathTips:function(){if(""===this.element.path||"./"===this.element.path)return" ${WORKSPACE}/*";var e=this.element.path;return" ${WORKSPACE}/"+(e=this.handlePath(e))+"/*"}}),watch:{"element.path":function(e){this.setWarn(e)}},created:function(){this.newModel=JSON.parse((0,i.default)(this.atomPropsModel)),this.setWarn(this.element.path),this.setSvnVersionState(),this.element.repositoryType||this.handleUpdateElement("repositoryType","ID"),this.handleChooseCodelibType("repositoryType",this.element.repositoryType),this.element.specifyRevision&&(this.newModel.revision.hidden=!1,this.element.revision&&this.element.revision.startsWith("${")&&this.element.revision.endsWith("}")&&(this.tmpRevision=this.element.revision.substring(2),this.tmpRevision=this.tmpRevision.substring(0,this.tmpRevision.length-1)))},methods:{setWarn:function(e){var t=this.detectCodeContainer();t.length&&t.filter((function(t){return t===e})).length>1?this.newModel.path.warn=this.tips:this.newModel.path.warn=""},detectCodeContainer:function(){var e=this,t=[];return this.container.elements.length&&this.container.elements.forEach((function(n){e.isCodePullAtom(n)&&t.push(n.path)})),t},listChange:function(e){this.list=e||[]},handleUpdate:function(e,t){var n=this;if(this.handleUpdateElement(e,t),"specifyRevision"===e&&this.triggerContainer){var i=this.triggerContainer.params;t?(this.newModel.revision.hidden=!1,this.handleNewRevision()):(this.newModel.revision.hidden=!0,this.handleUpdateElement("revision",""),this.triggerContainer.params=i.filter((function(e){return e.id!==n.tmpRevision})))}"repositoryType"===e&&this.handleChooseCodelibType(e,t)},handleChooseCodelibType:function(e,t){var n=this;"ID"===t?(this.newModel.repositoryHashId.hidden=!1,this.newModel.repositoryName.hidden=!0):"NAME"===t&&(this.newModel.repositoryHashId.hidden=!0,this.newModel.repositoryName.hidden=!1),this.handleUpdateElement(e,t),"repositoryHashId"===e&&this.element.specifyRevision&&this.triggerContainer&&(this.triggerContainer.params=this.triggerContainer.params.filter((function(e){return e.id!==n.tmpRevision})),this.handleNewRevision())},getRevisionParam:function(){var e=this,t=this.list.find((function(t){return t.repositoryHashId===e.element.repositoryHashId})),n=t&&t.aliasName||"";return"svn.revision_"+(n=n.replace(/\//g,"_"))},handleNewRevision:function(){var e=this.getRevisionParam();this.handleUpdateElement("revision","${"+e+"}"),this.tmpRevision=e,this.triggerContainer.params.push({id:e,type:"STRING",defaultValue:"HEAD",desc:"Svn拉取代码插件指定的版本号",required:!0})},setSvnVersionState:function(){this.isThirdParty||this.isThirdDocker?this.newModel.svnVersion&&this.newModel.svnVersion.list.map((function(e){e.disabled=!1})):(this.handleUpdateElement("svnVersion","V_1_8"),this.newModel.svnVersion&&this.newModel.svnVersion.list.map((function(e){e.disabled=!0})))}}}},"58Hg":function(e,t,n){"use strict";var i=n("NR4k");n.n(i).a},"5An/":function(e,t,n){"use strict";var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.container?n("section",{staticClass:"container-property-panel bk-form bk-form-vertical",class:{readonly:!e.editable},attrs:{slot:"content"},slot:"content"},[n("form-field",{attrs:{required:!0,label:"名称","is-error":e.errors.has("name"),"error-msg":e.errors.first("name")}},[n("vuex-input",{directives:[{name:"validate",rawName:"v-validate.initial",value:"required",expression:'"required"',modifiers:{initial:!0}}],attrs:{disabled:!e.editable,"input-type":"text",placeholder:"请输入名称",name:"name",value:e.container.name,"handle-change":e.handleContainerChange}})],1),e._v(" "),e.isVmContainer(e.container)?n("form",{directives:[{name:"bkloading",rawName:"v-bkloading",value:{isLoading:!e.apps||!e.containerModalId},expression:"{ isLoading: !apps || !containerModalId }"}]},[n("form-field",{attrs:{label:"构建资源类型"}},[n("selector",{attrs:{disabled:!e.editable,"handle-change":e.changeBuildResource,list:e.buildResourceTypeList,value:e.buildResourceType,clearable:!1,"setting-key":"type",name:"buildType"}},[n("template",{slot:"props"},[n("div",{staticClass:"bk-selector-create-item",on:{click:function(t){return t.stopPropagation(),t.preventDefault(),e.addThridSlave(t)}}},[n("i",{staticClass:"bk-icon icon-plus-circle"}),e._v(" "),n("i",{staticClass:"text"},[e._v("新增第三方构建机")])])])],2),e._v(" "),e.isPublicResourceType?n("span",{staticClass:"bk-form-help"},[e._v("由蓝盾官方提供的构建集群，你无需担心资源不足、安全等问题。"),n("a",{attrs:{target:"_blank",href:e.DOCS_URL_PREFIX+"/所有服务/流水线/用户指南/publicBuild.html"}},[e._v("查看更多")])]):e._e()],1),e._v(" "),!e.isPublicResourceType&&e.containerModalId?n("form-field",{attrs:{label:"指定构建资源",required:!0,"is-error":e.errors.has("buildResource"),"error-msg":e.errors.first("buildResource"),desc:"THIRD_PARTY_AGENT_ENV"===e.buildResourceType?"若环境下包含多个节点，则优先分配上次使用过的节点；若第一次使用，则随机分配":""}},[n("container-env-node",{directives:[{name:"validate",rawName:"v-validate.initial",value:"required",expression:'"required"',modifiers:{initial:!0}}],attrs:{disabled:!e.editable,os:e.container.baseOS,"container-id":e.containerModalId,"build-resource-type":e.buildResourceType,"toggle-visible":e.toggleVisible,"handle-change":e.changeBuildResource,value:e.buildResource,"has-error":e.errors.has("buildResource"),name:"buildResource"}})],1):e._e(),e._v(" "),e.isThirdParty?n("form-field",{attrs:{label:"指定工作空间"}},[n("vuex-input",{attrs:{disabled:!e.editable,name:"workspace",value:e.container.dispatchType.workspace,"handle-change":e.changeBuildResource,placeholder:"不填默认为 [Agent安装目录]/workspace/[流水线ID]/"}})],1):e._e(),e._v(" "),e.showDependencies?n("form-field",{staticClass:"container-app-field",attrs:{label:"依赖编译环境"}},[e.hasBuildEnv?e._l(e.container.buildEnv,(function(t,i){return n("container-app-selector",{key:i,staticClass:"app-selector-item",attrs:{disabled:!e.editable,app:i,version:t,"handle-change":e.handleContainerAppChange,envs:e.container.buildEnv,apps:e.apps,"remove-container-app":e.removeContainerApp,"add-container-app":e.containerAppList.length>0?e.addContainerApp:null}})})):n("container-app-selector",{staticClass:"app-selector-item",attrs:{disabled:!e.editable,app:"",version:"","handle-change":e.handleContainerAppChange,apps:e.apps}})],2):e._e(),e._v(" "),e.hasBuildEnv?n("div",{staticClass:"build-path-tips"},[e._m(0),e._v(" "),n("div",{staticClass:"tips-content"},[n("p",{staticClass:"tips-title"},[e._v("在选择了上述依赖环境后，我们将执行如下操作：")]),e._v(" "),e._l(e.container.buildEnv,(function(t,i){return[t?n("div",{key:i,staticClass:"tips-list"},[n("p",{staticClass:"tips-item"},[e._v(e._s(e.appBinPath(t,i)))]),e._v(" "),e._l(e.appEnvs[i],(function(a,r){return n("p",{key:r,staticClass:"tips-item"},[e._v(e._s(e.appEnvPath(t,i,a)))])}))],2):e._e()]}))],2)]):e._e()],1):e._e(),e._v(" "),e.isTriggerContainer(e.container)?n("section",[n("version-config",{attrs:{disabled:!e.editable,params:e.container.params,"build-no":e.container.buildNo,"set-parent-validate":e.setContainerValidate,"update-container-params":e.handleContainerChange}}),e._v(" "),n("build-params",{key:"params",attrs:{disabled:!e.editable,params:e.container.params,"addition-params":e.container.templateParams,"setting-key":"params",title:"流水线变量","build-no":e.container.buildNo,"set-parent-validate":e.setContainerValidate,"update-container-params":e.handleContainerChange}}),e._v(" "),"templateEdit"===e.routeName?n("build-params",{key:"templateParams",attrs:{disabled:!e.editable,params:e.container.templateParams,"addition-params":e.container.params,"setting-key":"templateParams",title:"模板常量","set-parent-validate":e.setContainerValidate,"update-container-params":e.handleContainerChange}}):e._e()],1):e._e(),e._v(" "),n("div",[n("div",{staticClass:"job-option"},[e.isTriggerContainer(e.container)?e._e():n("job-option",{attrs:{"job-option":e.container.jobControlOption,"update-container-params":e.handleContainerChange,"set-parent-validate":e.setContainerValidate,disabled:!e.editable},on:{setKeyValueValidate:e.setContainerValidate}})],1),e._v(" "),n("div",{staticClass:"job-mutual"},[e.isTriggerContainer(e.container)?e._e():n("job-mutual",{attrs:{"mutex-group":e.container.mutexGroup,"update-container-params":e.handleContainerChange,"set-parent-validate":e.setContainerValidate,disabled:!e.editable}})],1)]),e._v(" "),!e.isTriggerContainer(e.container)&&e.editable?n("div",{staticClass:"control-bar"},[n("bk-button",{attrs:{theme:"danger"},on:{click:e.handleDelete}},[e._v("删除")])],1):e._e()],1):e._e()},a=[function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"tips-icon"},[t("i",{staticClass:"bk-icon icon-info-circle-shape"})])}];i._withStripped=!0,n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return a}))},"5JvN":function(e,t,n){"use strict";n.r(t);var i=n("D4EA"),a=n.n(i);for(var r in i)"default"!==r&&function(e){n.d(t,e,(function(){return i[e]}))}(r);t.default=a.a},"5Llr":function(e,t,n){"use strict";var i=n("r1rZ");n.n(i).a},"5WXw":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=o(n("06Hw")),a=o(n("YYXh")),r=o(n("Kz1y")),s=o(n("tuHn"));function o(e){return e&&e.__esModule?e:{default:e}}t.default={mixins:[s.default],props:{placeholder:{type:String,default:"请选择"},options:{type:Array,default:[]},optionsConf:{type:Object,default:function(){return{}}}},data:function(){return{isLoading:!1,list:this.options,webUrl:WEB_URL_PIRFIX}},computed:{projectId:function(){return this.$route.params.projectId},mergedOptionsConf:function(){return(0,r.default)({},{hasAddItem:!1,itemText:"关联代码库",itemTargetUrl:"/codelib/{projectId}/",url:"",paramId:"id",paramName:"name",tools:{edit:!1,del:!1},searchable:!1,clearable:!1,multiple:!1},this.optionsConf)},hasUrl:function(){return this.mergedOptionsConf&&this.mergedOptionsConf.url&&"string"==typeof this.mergedOptionsConf.url},dropdownConf:function(){var e=this.mergedOptionsConf,t=e.searchable;return{tools:e.tools,searchable:t,multiple:e.multiple,clearable:e.clearable}},addItemUrl:function(){var e=this.webUrl,t=this.urlParse,n=this.mergedOptionsConf.itemTargetUrl,i=this.$route.params;return t(/^http:\/\//.test(n)?n:e+n,i)}},watch:{atomValue:{deep:!0,handler:function(e){}},options:function(e){this.list=e}},created:function(){this.hasUrl&&this.freshList()},methods:{handleSelect:function(e,t){this.handleChange(this.name,e)},handleClear:function(){var e=this.dropdownConf.multiple?[]:"";this.handleChange(this.name,e)},edit:function(e){var t=this.list[e].repositoryHashId||"",n=this.list[e].type||"",i=this.list[e].groupHashId||"";if(t){var a=WEB_URL_PIRFIX+"/codelib/"+this.projectId+"/"+t+"/"+n;window.open(a,"_blank")}else if(i){var r=WEB_URL_PIRFIX+"/experience/"+this.projectId+"/setting/?groupId="+i;window.open(r,"_blank")}},toggleVisible:function(e){e&&this.hasUrl&&this.freshList()},urlParse:function(e,t){return new Function("ctx","return '"+e.replace(/\{(.*?)\}/g,"'+ ctx.$1 +'")+"'")(t)},getUrlParamKey:function(e){return this.hasUrl&&e.match(/\{(.*?)\}/g)||[]},transformList:function(e){var t=this;return(e.data.records||e.data||[]).map((function(e){return"string"==typeof e?{id:e,name:e}:(0,r.default)({},e,{id:e[t.mergedOptionsConf.paramId],name:e[t.mergedOptionsConf.paramName]})}))},freshList:function(){var e=this;return(0,a.default)(i.default.mark((function t(){var n,a,s,o,l,u,c,d,p,f;return i.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,n=e.atomValue,a=void 0===n?{}:n,s=e.transformList,o=e.$route.params,l=void 0===o?{}:o,u=e.mergedOptionsConf,c=e.urlParse(u.url,(0,r.default)({},l,a)),e.isLoading=!0,t.next=6,e.$ajax.get(c);case 6:d=t.sent,e.list=s(d),p=u.multiple&&Array.isArray(e.value)?e.value:[e.value],f=e.list.reduce((function(e,t){return e[t.id]=t,e}),{}),p.map((function(t){void 0===t||""===t||f[t]||e.list.splice(0,0,{id:t,name:"******（无权限查看）"})})),e.$emit("change",e.list),t.next=17;break;case 14:t.prev=14,t.t0=t.catch(0),e.$showTips({message:t.t0.message,theme:"error"});case 17:return t.prev=17,e.isLoading=!1,t.finish(17);case 20:case"end":return t.stop()}}),t,e,[[0,14,17,20]])})))()}}}},"5izp":function(e,t,n){},"5myS":function(e,t,n){"use strict";n.r(t);var i=n("tLVg"),a=n.n(i);for(var r in i)"default"!==r&&function(e){n.d(t,e,(function(){return i[e]}))}(r);t.default=a.a},"65/W":function(e,t,n){"use strict";n.r(t);var i=n("i/qZ"),a=n.n(i);for(var r in i)"default"!==r&&function(e){n.d(t,e,(function(){return i[e]}))}(r);t.default=a.a},6831:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i,a=n("q7rD"),r=(i=a)&&i.__esModule?i:{default:i};t.default={name:"atom-checkbox-list",mixins:[r.default],props:{list:{type:Array,default:[]},value:{type:Array,default:[]}},methods:{handleSwitch:function(e){var t=this.name,n=this.handleChange;this.$emit("input",e),n(t,e)}}}},"68gF":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=u(n("TcPG")),a=u(n("Kz1y")),r=n("WIBD"),s=u(n("WyVq")),o=u(n("0w5d")),l=n("DJgH");function u(e){return e&&e.__esModule?e:{default:e}}t.default={name:"atom-config",mixins:[s.default,o.default],computed:{atomOption:function(){return this.element.additionalOptions||{}},atomCode:function(){return this.element.atomCode},atomVersion:function(){return this.element.version},optionModel:function(){return l.ATOM_OPTION||{}}},watch:{atomCode:function(){this.initOptionConfig()},atomVersion:function(){this.initOptionConfig()}},created:function(){this.initOptionConfig()},methods:(0,a.default)({},(0,r.mapActions)("atom",["setPipelineEditing"]),{getAtomOptionDefault:l.getAtomOptionDefault,handleUpdateElementOption:function(e,t){this.setPipelineEditing(!0),this.handleUpdateElement("additionalOptions",(0,a.default)(this.element.additionalOptions||{},(0,i.default)({},e,t)))},initOptionConfig:function(){void 0===this.element.additionalOptions&&this.handleUpdateElement("additionalOptions",this.getAtomOptionDefault())}})}},"6FlX":function(e,t,n){"use strict";n.r(t);var i=n("71km"),a=n.n(i);for(var r in i)"default"!==r&&function(e){n.d(t,e,(function(){return i[e]}))}(r);t.default=a.a},"6JBb":function(e,t,n){var i=n("/6KZ"),a=n("SvME")(!1);i(i.S,"Object",{values:function(e){return a(e)}})},"6KWu":function(e,t,n){"use strict";n.r(t);var i=n("Jp3z"),a=n.n(i);for(var r in i)"default"!==r&&function(e){n.d(t,e,(function(){return i[e]}))}(r);t.default=a.a},"6NxU":function(e,t,n){"use strict";n.r(t);var i=n("7lNk"),a=n.n(i);for(var r in i)"default"!==r&&function(e){n.d(t,e,(function(){return i[e]}))}(r);t.default=a.a},"6Oak":function(e,t,n){"use strict";var i=n("XEvX");n.n(i).a},"6Q0D":function(e,t,n){"use strict";var i=n("za6S");n.n(i).a},"6SLC":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=r(n("2eEL")),a=r(n("bkED"));function r(e){return e&&e.__esModule?e:{default:e}}t.default={name:"bkc-menu",components:{CollapseTransition:i.default,"bk-trees":a.default},props:{list:{type:Array,required:!0},icon:{type:String,default:function(){return"icon-id"}},menuChangeHandler:{type:Function,default:null}},data:function(){return{menuList:this.list}},watch:{list:function(e,t){this.menuList=e}},methods:{clearSelectCls:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.menuList;e.forEach((function(e){e.isSelected=!1,e.isOpen=!1,e.children&&(e.isChildSelected=!1,e.children.forEach((function(e){e.isSelected=!1})))}))},openChildren:function(e,t,n){e.isOpen=!e.isOpen,this.menuList.splice(t,1,e),e.isOpen&&"bk-tree"===e.childrenType&&this.$emit("item-selected",{isChild:!1,item:e,itemIndex:t})},handleClick:function(e,t){e.isSelected=!e.isSelected,this.menuList.splice(t,1,e),this.$emit("item-selected",{isChild:!1,item:e,itemIndex:t})},handleChildClick:function(e,t,n,i,a){this.menuChangeHandler&&"function"==typeof this.menuChangeHandler?this.menuChangeHandler({isChild:!0,item:e,itemIndex:t,child:n,childIndex:i})&&(this.clearSelectCls(),n.isSelected=!n.isSelected,e.children.splice(i,1,n),n.isSelected&&(e.isChildSelected=!0,e.isOpen=!0),this.menuList.splice(t,1,e)):(this.clearSelectCls(),n.isSelected=!n.isSelected,e.children.splice(i,1,n),n.isSelected&&(e.isChildSelected=!0,e.isOpen=!0),this.menuList.splice(t,1,e),this.$emit("item-selected",{isChild:!0,item:e,itemIndex:t,child:n,childIndex:i}))}}}},"6YkC":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i,a=n("tuHn"),r=(i=a)&&i.__esModule?i:{default:i};t.default={name:"cc-app-id",mixins:[r.default],computed:{curProject:function(){return this.$store.state.curProject},appId:function(){return this.curProject?this.curProject.cc_app_id:""},hasAppId:function(){return!!this.appId},appName:function(){return this.curProject?this.curProject.cc_app_name:""}},mounted:function(){this.hasAppId&&this.handleChange(this.name,this.appId)}}},"6tMT":function(e,t,n){},"6vwV":function(e,t,n){"use strict";n.r(t);var i=n("rgNe"),a=n.n(i);for(var r in i)"default"!==r&&function(e){n.d(t,e,(function(){return i[e]}))}(r);t.default=a.a},"71km":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=p(n("06Hw")),a=p(n("YYXh")),r=p(n("Kz1y")),s=n("WIBD"),o=p(n("AFf5")),l=p(n("/wRU")),u=p(n("32o7")),c=n("eQpR"),d=n("ygAv");function p(e){return e&&e.__esModule?e:{default:e}}t.default={components:{Pipeline:o.default,AutoComplete:l.default,FormField:u.default},data:function(){return{showVersionDialog:!1,showVersionSideBar:!1,isSaving:!1,isLoading:!0,saveVersionName:""}},computed:(0,r.default)({},(0,s.mapGetters)("atom",["checkPipelineInvalid","isEditing"]),(0,s.mapState)("atom",["pipeline","template"]),(0,s.mapState)(["fetchError"]),{projectId:function(){return this.$route.params.projectId},templateId:function(){return this.$route.params.templateId},currentVersionId:function(){return this.template&&this.template.currentVersion&&this.template.currentVersion.version},versionList:function(){var e=this;return this.template&&this.template.versions?this.template.versions.map((function(t){return(0,r.default)({},t,{name:t.version===e.currentVersionId?t.versionName+"(当前)":t.versionName})})):[]},isSaveDisable:function(){return this.isSaving||!this.template.hasPermission||"CONSTRAINT"===this.template.templateType}}),watch:{fetchError:function(e){403===e.code&&(this.isLoading=!1,this.removeLeaveListenr())},pipeline:{deep:!0,handler:function(e,t){this.isLoading=!1}}},created:function(){this.requestTemplateByVersion()},mounted:function(){this.addLeaveListenr()},beforeDestroy:function(){this.setPipeline(),this.removeLeaveListenr()},beforeRouteUpdate:function(e,t,n){this.leaveConfirm(e,t,n)},beforeRouteLeave:function(e,t,n){this.leaveConfirm(e,t,n)},methods:(0,r.default)({},(0,s.mapActions)("atom",["setPipeline","setPipelineEditing","requestTemplate"]),{handleVersionChange:function(e,t){this.saveVersionName=t},openVersionSideBar:function(){this.showVersionSideBar=!0},requestTemplateByVersion:function(e){try{this.requestTemplate({projectId:this.projectId,templateId:this.templateId,version:e})}catch(e){this.$showTips({theme:"error",message:e.message||e})}this.showVersionSideBar=!1},savePipeline:function(){try{var e=(0,this.checkPipelineInvalid)(this.pipeline.stages),t=e.inValid,n=e.message;if(t)throw new Error(n);this.showVersionDialog=!0}catch(e){this.$showTips({theme:"error",message:e.message||e})}},saveTemplate:function(){var e=this;return(0,a.default)(i.default.mark((function t(){var n,a;return i.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.$validator.validate();case 2:if(t.sent){t.next=6;break}return e.$showTips({theme:"error",message:"版本名称不能为空"}),t.abrupt("return");case 6:return e.saveVersionName.endsWith("(当前)")&&(e.saveVersionName=e.saveVersionName.substr(0,e.saveVersionName.length-4)),n=void 0,t.prev=8,e.isSaving=!0,t.next=12,e.$ajax.put("/process/api/user/templates/projects/"+e.projectId+"/templates/"+e.templateId+"?versionName="+e.saveVersionName,e.pipeline);case 12:a=t.sent,a.data?(e.$showTips({message:e.pipeline.name+"修改成功",theme:"success"}),e.setPipelineEditing(!1),e.requestTemplateByVersion(),n=!0):e.$showTips({message:e.pipeline.name+"修改失败",theme:"error"}),t.next=21;break;case 17:t.prev=17,t.t0=t.catch(8),e.$showTips({message:t.t0.message||t.t0,theme:"error"}),n=!1;case 21:return t.prev=21,e.isSaving=!1,e.saveVersionName="",e.showVersionDialog=!1,t.finish(21);case 26:return t.abrupt("return",n);case 27:case"end":return t.stop()}}),t,e,[[8,17,21,26]])})))()},confirmDeleteVersion:function(e){var t=this;return(0,a.default)(i.default.mark((function n(){return i.default.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return t.isLoading=!0,n.prev=1,n.next=4,t.$store.dispatch("pipelines/deleteTemplateVersion",{projectId:t.projectId,templateId:t.templateId,versionId:e.version});case 4:t.requestTemplateByVersion(t.currentVersionId),t.$showTips({message:"删除模板版本成功",theme:"success"}),n.next=11;break;case 8:n.prev=8,n.t0=n.catch(1),t.$showTips({message:n.t0.message||n.t0,theme:"error"});case 11:return n.prev=11,t.isLoading=!1,n.finish(11);case 14:case"end":return n.stop()}}),n,t,[[1,8,11,14]])})))()},deleteVersion:function(e){var t=this;if(this.template.hasPermission&&this.currentVersionId!==e.version&&"CONSTRAINT"!==this.template.templateType){var n="删除"+e.versionName;(0,d.navConfirm)({title:"确认",content:n}).then((function(){t.confirmDeleteVersion(e)})).catch((function(){}))}},exit:function(){this.$router.push({name:"pipelinesTemplate"})},leaveConfirm:function(e,t,n){this.isEditing?(0,d.navConfirm)({content:c.CONFIRM_MSG,title:c.CONFIRM_TITLE}).then((function(){return n()})).catch((function(){return n(!1)})):n(!0)},addLeaveListenr:function(){window.addEventListener("beforeunload",this.leaveSure)},removeLeaveListenr:function(){window.removeEventListener("beforeunload",this.leaveSure)},leaveSure:function(e){return e.returnValue=c.CONFIRM_MSG,c.CONFIRM_MSG},localConvertMStoString:function(e){return(0,d.convertMStoStringByRule)((new Date).getTime()-e)}})}},"7HY1":function(e,t,n){"use strict";n.r(t);var i=n("sJ6W"),a=n.n(i);for(var r in i)"default"!==r&&function(e){n.d(t,e,(function(){return i[e]}))}(r);t.default=a.a},"7LW0":function(e,t,n){"use strict";n.r(t);var i=n("68gF"),a=n.n(i);for(var r in i)"default"!==r&&function(e){n.d(t,e,(function(){return i[e]}))}(r);t.default=a.a},"7Rhb":function(e,t,n){},"7ZZT":function(e,t,n){"use strict";n.r(t);var i=n("9VIE"),a=n.n(i);for(var r in i)"default"!==r&&function(e){n.d(t,e,(function(){return i[e]}))}(r);t.default=a.a},"7lNk":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=l(n("Kz1y")),a=n("WIBD"),r=l(n("pHuA")),s=n("ygAv"),o=n("eQpR");function l(e){return e&&e.__esModule?e:{default:e}}t.default={components:{SettingBase:r.default},data:function(){return{isEditing:!1,isLoading:!0}},computed:{projectId:function(){return this.$route.params.projectId}},mounted:function(){this.addLeaveListenr()},beforeDestroy:function(){this.resetPipelineSetting(),this.removeLeaveListenr()},beforeRouteUpdate:function(e,t,n){this.leaveConfirm(e,t,n)},beforeRouteLeave:function(e,t,n){this.leaveConfirm(e,t,n)},methods:(0,i.default)({},(0,a.mapActions)("soda",["resetPipelineSetting"]),{setState:function(e){var t=e.isLoading,n=e.isEditing;this.isLoading=t,this.isEditing=n},leaveConfirm:function(e,t,n){this.isEditing?(0,s.navConfirm)({content:o.CONFIRM_MSG,title:o.CONFIRM_TITLE}).then((function(){return n()})).catch((function(){return n(!1)})):n(!0)},addLeaveListenr:function(){window.addEventListener("beforeunload",this.leaveSure)},removeLeaveListenr:function(){window.removeEventListener("beforeunload",this.leaveSure)},leaveSure:function(e){return e.returnValue=o.CONFIRM_MSG,o.CONFIRM_MSG},exit:function(){this.$router.push({name:"pipelinesTemplate"})}})}},"7px6":function(e,t,n){"use strict";n.r(t);var i=n("fXe6"),a=n("05gE");for(var r in a)"default"!==r&&function(e){n.d(t,e,(function(){return a[e]}))}(r);var s=n("psIG"),o=Object(s.a)(a.default,i.a,i.b,!1,null,null,null);o.options.__file="src/components/AtomPropertyPanel/NormalAtom.vue",t.default=o.exports},"7rx2":function(e,t,n){"use strict";n.r(t);var i=n("JcWF");for(var a in i)"default"!==a&&function(e){n.d(t,e,(function(){return i[e]}))}(a);n("xZSC");var r=n("psIG"),s=Object(r.a)(i.default,void 0,void 0,!1,null,"a213e86e",null);s.options.__file="src/components/atomFormField/VuexTextarea/index.vue",t.default=s.exports},"7xSW":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=y(n("TcPG")),a=y(n("snOE")),r=y(n("tZmG")),s=y(n("Kz1y")),o=n("WIBD"),l=n("ygAv"),u=y(n("MMoO")),c=y(n("eI+G")),d=y(n("7rx2")),p=y(n("9XOw")),f=y(n("ZdkB")),m=y(n("xBA8")),h=y(n("h/YL")),v=y(n("0w5d")),g=y(n("Q6E5")),b=n("Vgl9"),_=n("TXTV");function y(e){return e&&e.__esModule?e:{default:e}}var C=[{value:!0,label:!0},{value:!1,label:!1}];t.default={name:"build-params",components:{Accordion:u.default,VuexInput:c.default,EnumInput:f.default,AtomCheckbox:h.default,Selector:m.default,draggable:g.default,VuexTextarea:d.default,RequestSelector:p.default},mixins:[v.default],props:{settingKey:{type:String,default:"params"},params:{type:Array,default:function(){return[]}},additionParams:{type:Array,default:function(){return[]}},disabled:{type:Boolean,default:!1},updateContainerParams:{type:Function,required:!0},title:{type:String,default:"全局参数"}},data:function(){return{showTips:'若value为版本号,则不能包含“”""等符号；\n如果参数类型为复选框，选择多个值时将以a,b的方式传递给流水线'}},computed:(0,s.default)({},(0,o.mapState)("atom",["buildParamsMap"]),(0,o.mapGetters)("atom",["osList","getBuildResourceTypeList"]),{versionConfig:function(){return{MajorVersion:{},MinorVersion:{},FixVersion:{}}},baseOSList:function(){return this.osList.filter((function(e){return"NONE"!==e.value})).map((function(e){return{id:e.value,name:e.label}}))},validateParams:function(){return this.params.concat(this.additionParams)},paramsList:function(){return _.PARAM_LIST},boolList:function(){return C},svnPathOption:function(){return _.SVN_PATH_OPTION},codelibOption:function(){return _.CODE_LIB_OPTION},codeTypeList:function(){return _.CODE_LIB_TYPE},globalParams:{get:function(){var e=(0,r.default)(this.versionConfig);return this.params.filter((function(t){return!e.includes(t.id)}))},set:function(e){this.updateContainerParams(this.settingKey,[].concat((0,a.default)(e),(0,a.default)(this.versions)))}},versions:function(){var e=(0,r.default)(this.versionConfig);return this.params.filter((function(t){return e.includes(t.id)}))},hasGlobalParams:function(){return 0!==this.globalParams.length},paramsDragOptions:function(){return{ghostClass:"sortable-ghost-atom",chosenClass:"sortable-chosen-atom",handle:".icon-move",animation:200,disabled:this.disabled}},buildParams:function(){var e=this.$route.params.buildNo;return this.buildParamsMap[e]},isExecDetail:function(){return!!this.$route.params.buildNo}}),methods:{isStringParam:_.isStringParam,isBooleanParam:_.isBooleanParam,isMultipleParam:_.isMultipleParam,isSvnParam:_.isSvnParam,isCodelibParam:_.isCodelibParam,isBuildResourceParam:_.isBuildResourceParam,isSelectorParam:function(e){return(0,_.isMultipleParam)(e)||(0,_.isEnumParam)(e)},getBuildTypeList:function(e){return this.getBuildResourceTypeList(e)},getSelectorDefaultVal:function(e){var t=e.type,n=e.defaultValue;return(0,_.isMultipleParam)(t)?n&&"string"==typeof n?n.split(","):[]:n},handleParamTypeChange:function(e,t,n){this.handleChange([].concat((0,a.default)(this.params.slice(0,n)),[(0,s.default)({},(0,l.deepCopy)(_.DEFAULT_PARAM[t]),{id:this.params[n].id})],(0,a.default)(this.params.slice(n+1))))},handleUpdateParam:function(e,t,n){try{var r=this.params[n];(0,_.isMultipleParam)(r.type)&&"defaultValue"===e?(0,s.default)(r,(0,i.default)({},e,t.join(","))):r&&(0,s.default)(r,(0,i.default)({},e,t)),this.handleChange([].concat((0,a.default)(this.params)))}catch(e){console.log("update error",e)}},editParam:function(e,t){var n=this.globalParams,i=this.versions;if(t){var r=(0,s.default)({},(0,l.deepCopy)(_.DEFAULT_PARAM[_.STRING]),{id:"param"+Math.floor(100*Math.random())});"templateParams"===this.settingKey&&(0,s.default)(r,{required:!1}),n.splice(e+1,0,r)}else n.splice(e,1);this.handleChange([].concat((0,a.default)(n),(0,a.default)(i)))},editParamShow:function(e){var t=!1,n=this.params[e];n&&(t=n.required),this.handleUpdateParam("required",!t,e)},editOption:function(e,t,n){try{var i=[];t&&"string"==typeof t&&(i=t.split("\n").map((function(e){var t=e.trim();return{key:t,value:t}}))),this.handleUpdateParam(e,i,n);var a=this.params[n];if("string"==typeof a.defaultValue&&((0,_.isMultipleParam)(a.type)||(0,_.isEnumParam)(a.type))){var r=a.defaultValue.split(",").filter((function(e){return a.options.map((function(e){return e.key})).includes(e)}));(0,_.isMultipleParam)(a.type)?this.handleUpdateParam("defaultValue",r,n):this.handleUpdateParam("defaultValue",r.join(","),n)}}catch(e){return this.$showTips({message:e.message,theme:"error"}),[]}},handleBuildResourceChange:function(e,t,n,a){var r="os"===e?{buildType:this.getBuildTypeList(t)[0].type}:{};this.handleUpdateParam("containerType",(0,s.default)((0,s.default)({},a.containerType,(0,i.default)({},e,t)),r),n),this.handleUpdateParam("defaultValue","",n)},getBuildResourceUrl:function(e){var t=e.os,n=e.buildType;return"/"+b.STORE_API_URL_PREFIX+"/user/pipeline/container/projects/"+this.$route.params.projectId+"/oss/"+t+"?buildType="+n},handleCodeTypeChange:function(e,t,n){this.handleUpdateParam(e,t,n),this.handleUpdateParam("defaultValue","",n)},getCodeUrl:function(e){return e=e||"CODE_GIT","/"+b.REPOSITORY_API_URL_PREFIX+"/user/repositories/{projectId}/hasPermissionList?permission=USE&repositoryType="+e+"&page=1&pageSize=100"},handleChange:function(e){this.updateContainerParams(this.settingKey,e)},getParamIndex:function(e){return this.params.findIndex((function(t){return t.id===e}))},getOptions:function(e){try{return e.options.map((function(e){return e.key})).join("\n")}catch(e){return""}},transformOpt:function(e){var t={};return e=e.filter((function(e){return e.key.length})),Array.isArray(e)?e.filter((function(e){return!t[e.key]&&(t[e.key]=1,!0)})).map((function(e){return{id:e.key,name:e.key}})):[]}}}},"7z9a":function(e,t,n){"use strict";var i=n("C8Dl");n.n(i).a},"8LB5":function(e,t,n){"use strict";var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("ul",{staticClass:"bk-trees-list"},e._l(e.list,(function(t,i){return t.folder?n("li",{key:i,staticClass:"bk-trees-item"},[n("div",{staticClass:"bk-tree-title",class:{open:t.isOpen,selected:e.isActive(i)},style:{"padding-left":23*e._deepCount+"px"},on:{dblclick:function(n){return n.stopPropagation(),e.itemDbClickHandler({index:i,deepCount:e.deepCount,item:t})},click:function(n){return n.stopPropagation(),e.itemClickHandler({index:i,deepCount:e.deepCount,item:t})}}},[n("i",{staticClass:"bk-icon arrow-icon",class:t.isOpen?t.arrowOpenIcon:t.arrowIcon,on:{click:function(n){return n.stopPropagation(),e.itemDbClickHandler({index:i,deepCount:e.deepCount,item:t})}}}),e._v(" "),n("i",{staticClass:"bk-icon title-icon",class:t.isOpen?t.openIcon:t.icon}),e._v(" "),n("span",{staticClass:"title-text pr15"},[e._v(e._s(t.name))])]),e._v(" "),n("CollapseTransition",[t.children&&t.children.length?n("bk-trees",{directives:[{name:"show",rawName:"v-show",value:t.isOpen,expression:"item.isOpen"}],attrs:{list:t.children,"deep-count":e._deepCount,"is-root":!1,"road-map":i},on:{"update:list":function(n){return e.$set(t,"children",n)}}}):e._e()],1)],1):e._e()})),0)},a=[];i._withStripped=!0,n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return a}))},"8fJT":function(e,t,n){"use strict";var i=n("Yfpw");n.n(i).a},"8sPE":function(e,t,n){"use strict";n.r(t);var i=n("AG03"),a=n("2Uz2");for(var r in a)"default"!==r&&function(e){n.d(t,e,(function(){return a[e]}))}(r);n("yN+C");var s=n("psIG"),o=Object(s.a)(a.default,i.a,i.b,!1,null,null,null);o.options.__file="src/components/devops/side-nav.vue",t.default=o.exports},"8xPv":function(e,t,n){"use strict";n.r(t);var i=n("OlOX"),a=n("dPok");for(var r in a)"default"!==r&&function(e){n.d(t,e,(function(){return a[e]}))}(r);var s=n("psIG"),o=Object(s.a)(a.default,i.a,i.b,!1,null,null,null);o.options.__file="src/components/AtomPropertyPanel/CodePullSvn.vue",t.default=o.exports},"8zVW":function(e,t,n){},"9BrO":function(e,t,n){},"9GO0":function(e,t,n){"use strict";n.r(t);var i=n("NoJb"),a=n("6KWu");for(var r in a)"default"!==r&&function(e){n.d(t,e,(function(){return a[e]}))}(r);n("og3W");var s=n("psIG"),o=Object(s.a)(a.default,i.a,i.b,!1,null,null,null);o.options.__file="src/components/atomFormField/CronTimer/week.vue",t.default=o.exports},"9H/W":function(e,t,n){"use strict";var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticStyle:{"text-align":"left"}},[n("form",{ref:"previewParamsForm",staticClass:"bk-form",attrs:{target:"previewHiddenIframe",onsubmit:"return false;"}},e._l(e.paramList,(function(t){return n("form-field",{key:t.id,attrs:{required:t.required,"is-error":e.errors.has(t.id),"error-msg":e.errors.first(t.id),label:t.id}},[n(t.component,e._b({directives:[{name:"validate",rawName:"v-validate",value:{required:t.required},expression:"{ required: param.required }"}],tag:"component",attrs:{"handle-change":e.handleParamUpdate,disabled:e.disabled}},"component",t,!1)),e._v(" "),e.errors.has(t.id)?e._e():n("span",{staticClass:"bk-form-help",staticStyle:{color:"#63656E",position:"static"},attrs:{title:t.desc}},[e._v(e._s(t.desc))])],1)})),1),e._v(" "),n("iframe",{directives:[{name:"show",rawName:"v-show",value:!1,expression:"false"}],attrs:{name:"previewHiddenIframe"}})])},a=[];i._withStripped=!0,n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return a}))},"9Lja":function(e,t,n){"use strict";var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"bk-selector bk-tag-selector",class:{"is-required":e.required}},[n("input",{staticClass:"bk-form-input",attrs:{type:"text",autocomplete:"off",name:e.name,placeholder:e.placeholder,disabled:e.disabled},domProps:{value:e.value},on:{input:e.input,keydown:e.keydown,mousedown:e.focus,blur:e.hideAll}}),e._v(" "),n("div",{directives:[{name:"show",rawName:"v-show",value:e.showList&&e.list.length,expression:"showList && list.length"}],staticClass:"bk-selector-list"},[n("ul",e._l(e.list,(function(t,i){return n("li",{key:i,staticClass:"bk-selector-list-item",class:e.activeClass(i),on:{click:function(n){return n.stopPropagation(),e.selectList(t)}}},[n("div",{staticClass:"bk-selector-node"},[n("div",{staticClass:"text"},[e._v(e._s(t))])])])})),0)])])},a=[];i._withStripped=!0,n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return a}))},"9VIE":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=c(n("Kz1y")),a=n("WIBD"),r=c(n("1kG9")),s=c(n("UqLN")),o=c(n("SuKS")),l=c(n("IDIk")),u=n("ygAv");function c(e){return e&&e.__esModule?e:{default:e}}t.default={components:{Stages:r.default,AtomPropertyPanel:s.default,ContainerPropertyPanel:o.default,AtomSelector:l.default},props:{isSaving:{type:Boolean,default:!1},pipeline:{type:Object,required:!0},templateType:{type:String,default:""},showHeader:{type:Boolean,default:!0}},computed:(0,i.default)({},(0,a.mapGetters)("atom",["osList","getElement","getContainers","getStage"]),(0,a.mapState)("atom",["fetchingAtomList","isPropertyPanelVisible","editingElementPos","isStagePopupShow","insertStageIndex","isAddParallelContainer"]),{routeParams:function(){return this.$route.params},isStageShow:{get:function(){return this.isStagePopupShow},set:function(e){this.toggleStageSelectPopup({isStagePopupShow:e})}},isPropertyPanelShow:{get:function(){return this.isPropertyPanelVisible},set:function(e){this.toggleAtomSelectorPopup(e),this.togglePropertyPanel({isShow:e})}},container:function(){if((0,u.isObject)(this.editingElementPos)){var e=this.editingElementPos,t=e.stageIndex,n=e.containerIndex,i=this.getStageByIndex(t);return this.getContainers(i)[n]}return null},element:function(){return this.editingElementPos&&void 0!==this.editingElementPos.elementIndex?this.container.elements[this.editingElementPos.elementIndex]:null},panelTitle:function(){var e=this.editingElementPos,t=e.stageIndex,n=e.containerIndex;return void 0!==e.elementIndex?"":void 0!==n?this.container.name+"： "+(t+1)+"-"+(n+1):"属性栏"},containerType:function(){var e=this.editingElementPos,t=e.stageIndex,n=e.containerIndex,i=this.getStageByIndex(t);return this.getContainers(i)[n]["@type"]}}),beforeDestroy:function(){this.isPropertyPanelShow=!1},methods:(0,i.default)({},(0,a.mapActions)("atom",["toggleAtomSelectorPopup","toggleStageSelectPopup","togglePropertyPanel","addStage","addContainer","fetchAtoms","clearStoreAtom","setStoreSearch","addStoreAtom"]),{freshAtomList:function(e){if(!this.fetchingAtomList){var t=this.$route.params.projectId;this.fetchAtoms({projectCode:t}),this.clearStoreAtom(),this.setStoreSearch(e),this.addStoreAtom()}},getStageByIndex:function(e){return(0,this.getStage)(this.pipeline.stages,e)},insertContainer:function(e,t){var n=this.getContainers,i=this.addContainer,a=this.toggleStageSelectPopup;i({containers:n((0,this.getStageByIndex)(t)),type:e}),a({isStagePopupShow:!1})},insert:function(e){var t=this.pipeline,n=this.insertStageIndex;this.isAddParallelContainer||this.addStage({stages:t.stages,insertStageIndex:n}),this.insertContainer(e,n)}})}},"9WKU":function(e,t,n){"use strict";n.r(t);var i=n("RrVk"),a=n.n(i);for(var r in i)"default"!==r&&function(e){n.d(t,e,(function(){return i[e]}))}(r);t.default=a.a},"9WkF":function(e,t,n){"use strict";var i=n("xHIY");n.n(i).a},"9XOw":function(e,t,n){"use strict";n.r(t);var i=n("tNgP"),a=n("MS/s");for(var r in a)"default"!==r&&function(e){n.d(t,e,(function(){return a[e]}))}(r);var s=n("psIG"),o=Object(s.a)(a.default,i.a,i.b,!1,null,null,null);o.options.__file="src/components/atomFormField/RequestSelector/index.vue",t.default=o.exports},"9o7p":function(e,t,n){},"9pT7":function(e,t,n){"use strict";var i=n("d9Jp");n.n(i).a},"9sm8":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=l(n("06Hw")),a=l(n("YYXh")),r=l(n("Kz1y")),s=n("WIBD"),o=l(n("c8nl"));function l(e){return e&&e.__esModule?e:{default:e}}t.default={name:"container-node-selector",components:{SelectInput:o.default},props:{os:{type:String},name:{type:String},containerId:{type:String},value:{type:String,default:""},buildResourceType:{type:String},disabled:{type:Boolean,default:!1},handleChange:{type:Function,required:!1},toggleVisible:{type:Function,default:function(){return function(){}}},hasError:{type:Boolean}},data:function(){return{isLoading:!1,isFocus:!1,nodeList:[]}},computed:{projectId:function(){return this.$route.params.projectId},buildResource:function(){var e=this,t=this.nodeList.find((function(t){return t.name&&t.id===e.value})),n=t&&"string"==typeof t.label?t.label:"";return this.value?this.value+n:this.value}},watch:{value:function(e,t){e!==t&&this.$emit("input",e)}},created:function(){this.getResourceList()},methods:(0,r.default)({},(0,s.mapActions)("atom",["fetchBuildResourceByType"]),{handleSelect:function(e,t){this.handleChange(e,t)},handleBlur:function(){this.isFocus=!1},handleFocus:function(){this.isFocus||(this.isFocus=!0,this.getResourceList())},getResourceList:function(){var e=this;return(0,a.default)(i.default.mark((function t(){var n,a;return i.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,e.isLoading=!0,e.nodeList=[],t.next=5,e.fetchBuildResourceByType({projectCode:e.projectId,os:e.os,buildType:e.buildResourceType,containerId:e.containerId});case 5:n=t.sent,a=n.data.resources,Array.isArray(a)&&(e.nodeList=a.map((function(e,t){return(0,r.default)({},e,{id:e.name,name:e.name+(e.label?e.label:""),disalbed:!e.name})}))),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(0),e.$bkMessage({message:t.t0.message?t.t0.message:t.t0,theme:"error"});case 13:return t.prev=13,e.isLoading=!1,t.finish(13);case 16:case"end":return t.stop()}}),t,e,[[0,10,13,16]])})))()}})}},AFf5:function(e,t,n){"use strict";n.r(t);var i=n("Oyw1"),a=n("7ZZT");for(var r in a)"default"!==r&&function(e){n.d(t,e,(function(){return a[e]}))}(r);n("9pT7");var s=n("psIG"),o=Object(s.a)(a.default,i.a,i.b,!1,null,null,null);o.options.__file="src/components/Pipeline.vue",t.default=o.exports},AG03:function(e,t,n){"use strict";var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"side-nav"},[n("div",{staticClass:"side-menu-nav clearfix"},[e.nav.backUrl?n("div",{staticClass:"back-icon",on:{click:function(t){return t.stopPropagation(),e.backUrl(e.nav.backUrl)}}},[n("i",{staticClass:"bk-icon icon-angle-left"})]):e._e(),e._v(" "),n("logo",{staticClass:"nav-icon",attrs:{name:e.nav.icon,size:"32"}}),e._v(" "),n("span",{staticClass:"side-menu-title"},[e._v(e._s(e.nav.title))])],1),e._v(" "),n("section",{staticClass:"side-menu-list"},e._l(e.sideMenuList,(function(t,i){return n("div",{key:i,staticClass:"side-menu-item"},[t.title?n("p",{staticClass:"title"},[e._v(e._s(t.title))]):e._e(),e._v(" "),e.sideMenuList.length?n("bk-menu",{key:"devopsSideMenu"+i,attrs:{list:t.list},on:{"item-selected":e.menuSelected}}):e._e()],1)})),0),e._v(" "),n("p",{staticClass:"biz-copyright"},[e._v("Copyright © 2012-"),n("span",[e._v(e._s(e.currentYear))]),e._v(" Tencent BlueKing. All Rights Reserved")])])},a=[];i._withStripped=!0,n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return a}))},APWq:function(e,t,n){"use strict";var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"bk-form bk-form-vertical"},[e._l(e.commonModel.row,(function(t,i){return n("form-field",{key:i,attrs:{desc:t.desc,"desc-link":t.descLink,"desc-link-text":t.descLinkText,required:t.required,label:t.label,"is-error":e.errors.has(i),"error-msg":e.errors.first(i)}},[n(t.component,e._b({directives:[{name:"validate",rawName:"v-validate.initial",value:Object.assign({},t.rule,{required:!!t.required}),expression:"Object.assign({}, obj.rule, { required: !!obj.required })",modifiers:{initial:!0}}],tag:"component",attrs:{container:e.container,element:e.element,name:i,"handle-change":e.handleUpdateElement,value:e.element[i]}},"component",t,!1))],1)})),e._v(" "),n("accordion",{attrs:{"show-checkbox":"","show-content":e.isShowEmailNotice,"after-toggle":e.toggleEmailNotice,condition:!0}},[n("header",{staticClass:"var-header",attrs:{slot:"header"},slot:"header"},[n("span",[e._v("同时启用邮件通知")]),e._v(" "),n("input",{staticClass:"accordion-checkbox",staticStyle:{"margin-left":"auto"},attrs:{type:"checkbox"},domProps:{checked:e.element.enableEmail}})]),e._v(" "),n("div",{attrs:{slot:"content"},slot:"content"},e._l(e.optionalModel,(function(t){return e.newModel[t].hidden?e._e():n("form-field",{key:t,attrs:{desc:e.newModel[t].desc,required:e.newModel[t].required,label:e.newModel[t].label,"is-error":e.errors.has(t),"error-msg":e.errors.first(t)}},[n(e.newModel[t].component,e._b({directives:[{name:"validate",rawName:"v-validate.initial",value:Object.assign({},e.newModel[t].rule,{required:e.newModel[t].required}),expression:"Object.assign({}, newModel[key].rule, { required: newModel[key].required })",modifiers:{initial:!0}}],tag:"component",attrs:{lang:e.lang,name:t,"handle-change":e.handleUpdateElement,value:e.element[t]}},"component",e.newModel[t],!1))],1)})),1)])],2)},a=[];i._withStripped=!0,n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return a}))},ARnP:function(e,t,n){},AU07:function(e,t,n){"use strict";n.r(t);var i=n("CTNz"),a=n.n(i);for(var r in i)"default"!==r&&function(e){n.d(t,e,(function(){return i[e]}))}(r);t.default=a.a},AfBu:function(e,t,n){"use strict";n.r(t);var i=n("Vu7B"),a=n.n(i);for(var r in i)"default"!==r&&function(e){n.d(t,e,(function(){return i[e]}))}(r);t.default=a.a},Aii4:function(e,t,n){"use strict";n.r(t);var i=n("eOqb"),a=n("7HY1");for(var r in a)"default"!==r&&function(e){n.d(t,e,(function(){return a[e]}))}(r);n("bn9r");var s=n("psIG"),o=Object(s.a)(a.default,i.a,i.b,!1,null,null,null);o.options.__file="src/components/atomFormField/RemoteCurlUrl/index.vue",t.default=o.exports},Ange:function(e,t,n){"use strict";n.r(t);var i=n("yhQ3"),a=n("Lw2S");for(var r in a)"default"!==r&&function(e){n.d(t,e,(function(){return a[e]}))}(r);n("ohCf");var s=n("psIG"),o=Object(s.a)(a.default,i.a,i.b,!1,null,null,null);o.options.__file="src/components/AtomPropertyPanel/ReferenceVariable.vue",t.default=o.exports},B01n:function(e,t,n){"use strict";var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.showInstanceMessage?n("bk-dialog",{attrs:{width:"600","ext-cls":"instance-message-dialog",padding:"0","is-show":e.showInstanceMessage,"has-header":e.instanceMessageConfig.hasHeader,"has-footer":e.instanceMessageConfig.hasFooter,"close-icon":e.instanceMessageConfig.closeIcon,"quick-close":e.instanceMessageConfig.quickClose},on:{"update:isShow":function(t){e.showInstanceMessage=t},"update:is-show":function(t){e.showInstanceMessage=t}}},[n("template",{slot:"content"},[n("section",{directives:[{name:"bkloading",rawName:"v-bkloading",value:{isLoading:e.instanceMessageConfig.loading},expression:"{\n                isLoading: instanceMessageConfig.loading\n            }"}],staticClass:"create-pipeline-content"},[n("i",{staticClass:"bk-icon icon-close",on:{click:function(t){return e.cancel()}}}),e._v(" "),n("div",{staticClass:"message-title"},[e._v(e._s(e.message))]),e._v(" "),n("div",{staticClass:"fail-pipeline-content"},[n("span",[e._v("以下是实例化失败的流水线名称和失败原因：")]),e._v(" "),n("ul",{staticClass:"fail-list"},e._l(e.failList,(function(t,i){return n("li",{key:i,staticClass:"item-row"},[n("div",{staticClass:"pipeline-item"},[e._v(e._s(t)+"：\n                            "),n("span",{staticClass:"error-message"},[e._v(e._s(e.failMessage[t]))])])])})),0)])])])],2):e._e()},a=[];i._withStripped=!0,n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return a}))},B4pn:function(e,t,n){"use strict";n.r(t);var i=n("9sm8"),a=n.n(i);for(var r in i)"default"!==r&&function(e){n.d(t,e,(function(){return i[e]}))}(r);t.default=a.a},BDEw:function(e,t,n){"use strict";var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"namespace-vars"},[n("ul",[e.paramList.length?[n("li",{key:"th",staticClass:"param-item"},[n("span",[e._v("namespace名称")]),e._v(" "),n("span",[e._v("参数key")]),e._v(" "),n("span",[e._v("参数value")]),e._v(" "),n("i",{staticClass:"bk-icon icon-minus",staticStyle:{visibility:"hidden"}})]),e._v(" "),e._l(e.paramList,(function(t,i){return n("li",{key:i,staticClass:"param-item"},[n("div",[n("vuex-input",{directives:[{name:"validate",rawName:"v-validate.initial",value:"required",expression:"`required`",modifiers:{initial:!0}}],attrs:{name:"namespace",value:t.namespace,"handle-change":function(t,n){return e.handleParamChange(t,n,i)},"data-vv-scope":"param-"+i}})],1),e._v(" "),n("div",[n("vuex-input",{directives:[{name:"validate",rawName:"v-validate.initial",value:"required",expression:"`required`",modifiers:{initial:!0}}],attrs:{name:"varKey",value:t.varKey,"handle-change":function(t,n){return e.handleParamChange(t,n,i)},"data-vv-scope":"param-"+i}})],1),e._v(" "),n("div",[n("vuex-input",{attrs:{name:"varValue",value:t.varValue,"handle-change":function(t,n){return e.handleParamChange(t,n,i)}}})],1),e._v(" "),n("i",{staticClass:"bk-icon icon-minus hover-click",on:{click:function(t){return t.stopPropagation(),t.preventDefault(),e.editParam(i,!1)}}})])}))]:e._e(),e._v(" "),e.disabled?e._e():n("a",{staticClass:"text-link hover-click",on:{click:function(t){return t.stopPropagation(),t.preventDefault(),e.editParam(e.paramList.length,!0)}}},[n("i",{staticClass:"bk-icon icon-plus-circle"}),e._v(" "),n("span",[e._v("新增变量")])])],2)])},a=[];i._withStripped=!0,n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return a}))},"Bxa+":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=u(n("TcPG")),a=u(n("Kz1y")),r=u(n("06Hw")),s=u(n("YYXh")),o=u(n("q7rD")),l=u(n("eI+G"));function u(e){return e&&e.__esModule?e:{default:e}}t.default={components:{VuexInput:l.default},mixins:[o.default],props:{value:{type:Object,default:[]}},data:function(){return{paramList:[]}},watch:{value:function(e){this.paramList=e}},created:function(){var e=this;return(0,s.default)(r.default.mark((function t(){return r.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.paramList=e.value;case 1:case"end":return t.stop()}}),t,e)})))()},methods:{editParam:function(e,t){if(t){var n={namespace:"namespace"+(this.paramList.length+1),varKey:"param"+(this.paramList.length+1),varValue:""};this.paramList.splice(e+1,0,n)}else this.paramList.splice(e,1);this.handleChange(this.name,this.paramList)},handleParamChange:function(e,t,n){var r=this.paramList[n];r&&((0,a.default)(r,(0,i.default)({},e,t)),this.handleChange(this.name,this.paramList))}}}},C49R:function(e,t,n){"use strict";var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.isLoading?e._e():n("section",{staticClass:"bk-form pipeline-setting base"},[n("div",{staticClass:"setting-container"},[n("form-field",{attrs:{required:!0,label:"名称","is-error":e.errors.has("name"),"error-msg":e.errors.first("name")}},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.pipelineSetting.pipelineName,expression:"pipelineSetting.pipelineName"},{name:"validate",rawName:"v-validate.initial",value:"required|max:40",expression:'"required|max:40"',modifiers:{initial:!0}}],staticClass:"bk-form-input",attrs:{placeholder:"请输入流水线名称",name:"name"},domProps:{value:e.pipelineSetting.pipelineName},on:{input:function(t){t.target.composing||e.$set(e.pipelineSetting,"pipelineName",t.target.value)}}})]),e._v(" "),e.tagGroupList.length?n("form-field",{attrs:{required:!1,label:"分组"}},[n("div",{staticClass:"form-group form-group-inline"},e._l(e.tagGroupList,(function(t,i){return n("div",{key:i,class:e.grouInlineCol},[n("label",{staticClass:"group-title"},[e._v(e._s(t.name))]),e._v(" "),n("bk-select",{attrs:{multiple:""},model:{value:e.pipelineSetting.labels,callback:function(t){e.$set(e.pipelineSetting,"labels",t)},expression:"pipelineSetting.labels"}},e._l(t.labels,(function(e,t){return n("bk-option",{key:t,attrs:{id:e.id,name:e.name}})})),1)],1)})),0)]):e._e(),e._v(" "),n("form-field",{attrs:{label:"描述","is-error":e.errors.has("desc"),"error-msg":e.errors.first("desc")}},[n("textarea",{directives:[{name:"model",rawName:"v-model",value:e.pipelineSetting.desc,expression:"pipelineSetting.desc"},{name:"validate",rawName:"v-validate.initial",value:"max:100",expression:'"max:100"',modifiers:{initial:!0}}],staticClass:"bk-form-textarea",attrs:{name:"desc",placeholder:"请输入100个字符以内的描述内容"},domProps:{value:e.pipelineSetting.desc},on:{input:function(t){t.target.composing||e.$set(e.pipelineSetting,"desc",t.target.value)}}})]),e._v(" "),n("form-field",{staticClass:"opera-lock-radio",attrs:{label:"运行锁定"}},[n("bk-radio-group",{model:{value:e.pipelineSetting.runLockType,callback:function(t){e.$set(e.pipelineSetting,"runLockType",t)},expression:"pipelineSetting.runLockType"}},e._l(e.runTypeList,(function(t,i){return n("bk-radio",{key:i,staticClass:"view-radio",attrs:{value:t.value}},[e._v(e._s(t.label))])})),1)],1),e._v(" "),"SINGLE"===e.pipelineSetting.runLockType?n("div",{staticClass:"bk-form-item opera-lock"},[n("div",{staticClass:"bk-form-content"},[n("div",{staticClass:"opera-lock-item"},[n("label",{staticClass:"opera-lock-label"},[e._v("最大排队数量：")]),e._v(" "),n("div",{staticClass:"bk-form-control control-prepend-group control-append-group"},[n("input",{directives:[{name:"validate",rawName:"v-validate.initial",value:"required|numeric|max_value:20|min_value:0",expression:'"required|numeric|max_value:20|min_value:0"',modifiers:{initial:!0}},{name:"model",rawName:"v-model.number",value:e.pipelineSetting.maxQueueSize,expression:"pipelineSetting.maxQueueSize",modifiers:{number:!0}}],staticClass:"bk-form-input",attrs:{type:"text",name:"maxQueueSize",placeholder:"请输入"},domProps:{value:e.pipelineSetting.maxQueueSize},on:{input:function(t){t.target.composing||e.$set(e.pipelineSetting,"maxQueueSize",e._n(t.target.value))},blur:function(t){return e.$forceUpdate()}}}),e._v(" "),e._m(0),e._v(" "),e.errors.has("maxQueueSize")?n("p",{staticClass:"is-danger"},[e._v(e._s(e.errors.first("maxQueueSize")))]):e._e()])]),e._v(" "),n("div",{staticClass:"opera-lock-item"},[n("label",{staticClass:"opera-lock-label"},[e._v("最大排队时长：")]),e._v(" "),n("div",{staticClass:"bk-form-control control-prepend-group control-append-group"},[n("input",{directives:[{name:"validate",rawName:"v-validate.initial",value:"required|numeric|max_value:1440|min_value:60",expression:'"required|numeric|max_value:1440|min_value:60"',modifiers:{initial:!0}},{name:"model",rawName:"v-model.number",value:e.pipelineSetting.waitQueueTimeMinute,expression:"pipelineSetting.waitQueueTimeMinute",modifiers:{number:!0}}],staticClass:"bk-form-input",attrs:{type:"text",name:"waitQueueTimeMinute",placeholder:"请输入"},domProps:{value:e.pipelineSetting.waitQueueTimeMinute},on:{input:function(t){t.target.composing||e.$set(e.pipelineSetting,"waitQueueTimeMinute",e._n(t.target.value))},blur:function(t){return e.$forceUpdate()}}}),e._v(" "),e._m(1),e._v(" "),e.errors.has("waitQueueTimeMinute")?n("p",{staticClass:"is-danger"},[e._v(e._s(e.errors.first("waitQueueTimeMinute")))]):e._e()])])])]):e._e(),e._v(" "),n("div",{staticClass:"handle-btn",staticStyle:{"margin-left":"146px","margin-top":"30px"}},[n("bk-button",{attrs:{theme:"primary",disabled:e.isDisabled||e.noPermission},on:{click:function(t){return e.savePipelineSetting()}}},[e._v("保存")]),e._v(" "),n("bk-button",{on:{click:e.exit}},[e._v("取消")])],1)],1)])},a=[function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"group-box group-append"},[t("div",{staticClass:"group-text"},[this._v("个")])])},function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"group-box group-append"},[t("div",{staticClass:"group-text"},[this._v("分钟")])])}];i._withStripped=!0,n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return a}))},C8Dl:function(e,t,n){},CPVx:function(e,t,n){"use strict";var i=n("ZOaD");n.n(i).a},CSB3:function(e,t,n){},CTNz:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i,a=n("tZmG"),r=(i=a)&&i.__esModule?i:{default:i};t.default={props:{config:{type:Object,default:{initData:[],data:[],onChange:function(){}},required:!0},name:{type:String,required:!0},value:{type:String,default:""},placeholder:{type:String,default:""},disabled:{type:Boolean,default:!0},selectedList:{type:Array,default:[]},setValue:Function,deleteItem:Function},data:function(){return{showList:!1,isSelected:!1,focusList:"",minscroll:0,maxscroll:4,list:[]}},watch:{"config.data":function(e){this.getData()},value:function(e){var t=this;this.list.length&&e.length?(this.showList=!0,this.$refs.selectorList.scrollTop=0):setTimeout((function(){t.showList=!1}),250),e.length&&(this.$refs.staffInput.style.width=20*e.length+"px")}},created:function(){this.getData()},methods:{input:function(e){e.preventDefault(),this.focusList=0,this.minscroll=0,this.maxscroll=4,this.$refs.selectorList.scrollTop=0;var t=e.target.value;this.config.onChange(this.name,t),t.length&&this.filterData(t)},paste:function(e){var t=this;e.preventDefault();var n=e.clipboardData.getData("text"),i=this.validate(n);try{if(n&&i.reg&&i.target.length>3){if(i.isEixt>-1)throw new Error(n+"已存在");this.selectList(n)}else{var a=[],r=[],s=[],o=n.split(";");if((o=o.filter((function(e){return e}))).forEach((function(e){e.match(/^[a-zA-Z][a-zA-Z_]+/g)?a.push(e.match(/^[a-zA-Z][a-zA-Z_]+/g).join("")):s.push(e)})),a.forEach((function(e){t.config.initData.indexOf(e)<0&&s.push(e);for(var n=t.config.data.length-1;n>=0;n--)t.config.data[n]===e&&(r.push(e),t.config.data.splice(n,1))})),r.length&&this.selectList(r,"batch"),n&&s.length)throw s.join(";"),new Error(s+"不是项目组成员")}}catch(e){this.$showTips({message:e.message||e,theme:"error"})}},hideAll:function(e){e.preventDefault(),this.handleValue(e.target.value)},handleValue:function(e){var t=this;setTimeout((function(){var n=[],i=[],a=e.trim().split(",");if((a=a.filter((function(e){return e&&e.trim()}))).forEach((function(e){t.checkVariable(e)?i.push(e):n.push(e)})),(i=i.filter((function(e){return-1===t.selectedList.indexOf(e)}))).length&&t.selectList(i,"batch"),t.value&&n.length&&!t.showList){n.join(";");var r=n+"不是项目组成员";t.$showTips({message:r,theme:"error"}),t.config.onChange(t.name,""),t.resetInput()}t.value="",t.$refs.staffInput&&(t.$refs.staffInput.style.width="10px")}),100)},mousedown:function(e){var t=this;this.focusList=0,this.minscroll=0,this.maxscroll=4,this.$refs.selectorList.scrollTop=0,this.value.length&&(this.filterData(this.value),this.list.map((function(e,n){e===t.value&&(t.focusList=n)})))},keydown:function(e){var t=void 0,n=e.keyCode,i=this.$refs.selectEditor.childNodes,a=this.getSiteInfo(i);switch(n){case 8:case 46:if(0!==parseInt(a.index)&&(t=a.temp[a.index-1].innerText,!this.value.length)){this.deleteItem(this.name,a.index,t);var r=i[i.length-1];this.insertAfter(this.$refs.staffInput,r),this.$refs.staffInput.focus(),this.isFocus=!0}break;case 40:this.focusList++,this.focusList=this.focusList>this.list.length-1?this.list.length-1:this.focusList,this.focusList>this.maxscroll&&(this.$refs.selectorList.scrollTop+=42,this.minscroll++,this.maxscroll++);break;case 38:this.focusList--,this.focusList<0&&(this.focusList=0),this.focusList=this.focusList<0?0:this.focusList,this.focusList<this.minscroll&&(this.$refs.selectorList.scrollTop-=42,this.maxscroll--,this.minscroll--);break;case 37:if(!this.value.length){if(parseInt(a.index)>1){var s=i[parseInt(a.index)-2];this.insertAfter(this.$refs.staffInput,s),this.$refs.staffInput.value="",this.$refs.staffInput.style.width="10px"}else{var o=this.$refs.selectEditor.getElementsByTagName("span");this.$refs.selectEditor.insertBefore(this.$refs.staffInput,o[0])}this.$refs.staffInput.focus()}break;case 39:if(!this.value.length){var l=i[parseInt(a.index)+1];this.insertAfter(this.$refs.staffInput,l),this.$refs.staffInput.focus()}break;case 13:this.showList?(this.selectList(this.list[this.focusList]),this.showList=!1):this.handleValue(this.value);break;case 27:this.showList=!1}},validate:function(e){var t=e.replace(/\s/g,"");return{target:t,reg:this.checkVariable(t),isEixt:this.selectedList.indexOf(t)}},activeClass:function(e){return{"bk-selector-selected":e===this.focusList}},selectList:function(e,t){this.config.onChange(this.name,e),this.isSelected=!0;var n=this.$refs.selectEditor.childNodes,i=this.getSiteInfo(n);this.setValue(this.name,i.index,e,t);var a=n[n.length-1];this.insertAfter(this.$refs.staffInput,a),this.$refs.staffInput.focus()},filterData:function(e){this.list=this.config.data.filter((function(t){return t.indexOf(e)>-1}))},getData:function(){this.list=this.config.data},localCoverAvatar:function(e){return"http://bking.com/avatars/"+(/^\$\{(.*)\}$/.test(e)?"un_know":e)+"/avatar.jpg"},resetInput:function(){var e=this.$refs.selectEditor.childNodes,t=this.getSiteInfo(e);if(t.index!==t.temp.length){var n=e[e.length-1];this.insertAfter(this.$refs.staffInput,n)}},checkVariable:function(e){return/^\$\{(.*)\}$/.test(e)},toEdit:function(e){this.$refs.staffInput.focus()},selectInfo:function(e,t){this.insertAfter(this.$refs.staffInput,e.target)},getSiteInfo:function(e){for(var t={index:0,temp:[]},n=0;n<e.length;n++){var i=e[n];(3!==i.nodeType||/\S/.test(i.nodeValue))&&t.temp.push(i)}return(0,r.default)(t.temp).forEach((function(e){"staffInput"===t.temp[e].id&&(t.index=e)})),t},insertAfter:function(e,t){var n=t.parentNode;n.lastChild===t?n.appendChild(e):n.insertBefore(e,t.nextSibling)}}}},Cffk:function(e,t,n){"use strict";e.exports={props:{value:{type:String,default:""},width:{type:[Number,String],default:500},height:{type:[Number,String],default:300},lang:{type:String,default:"text"},theme:{type:String,default:"monokai"},readOnly:{type:Boolean,default:!1},fullScreen:{type:Boolean,default:!1},hasError:{type:Boolean,default:!1}},data:function(){return{$ace:null,isLoading:!1}},watch:{value:function(e){e!==this.$ace.getValue()&&this.$ace.setValue(e,1)},lang:function(e){e&&(n("NeHY")("./"+e),this.$ace.getSession().setMode("ace/mode/"+e))},fullScreen:function(){var e=this;this.$el.classList.toggle("ace-full-screen"),this.$nextTick((function(){e.$ace.resize()}))}},methods:{calcSize:function(e){var t=e.toString();return t.match(/^\d*$/)?e+"px":t.match(/^[0-9]?%$/)?t:"100%"}},mounted:function(){var e=this;this.isLoading=!0,n.e("vendors~brace").then(n.t.bind(null,"8X2e",7)).then((function(t){e.isLoading=!1,e.$ace=t.edit(e.$el),e.$ace.$blockScrolling=1/0;var i=e.$ace,a=e.lang,r=void 0===a?"javascript":a,s=e.theme,o=void 0===s?"monokai":s,l=e.readOnly,u=i.getSession();e.$emit("init",i),u.setNewLineMode("unix"),n("NeHY")("./"+r),n("dwlt")("./"+o),u.setMode("ace/mode/"+r),i.setTheme("ace/theme/"+o),u.setUseWrapMode(!0),i.setValue(e.value,1),i.setReadOnly(l),i.setShowPrintMargin(!1),i.on("change",(function(t,n){var a=i.getValue();e.$emit("update:hasError",!a),e.$emit("input",a,t,n)}))}))},render:function(){var e=arguments[0],t=this.isLoading,n=this.width,i=this.height,a=this.calcSize;return e("div",{directives:[{name:"bkloading",value:{isLoading:t}}],style:{height:a(i),width:a(n)}})}}},"Ck/w":function(e,t,n){},CodG:function(e,t,n){"use strict";var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"sub-build-params"},[n("ul",[e.paramList.length?e._l(e.paramList,(function(t){return n("li",{key:t.key,staticClass:"param-item"},[n("div",[n("vuex-input",{attrs:{disabled:!0,name:"key",value:t.key}})],1),e._v(" "),n("span",[e._v("=")]),e._v(" "),n("div",[n("vuex-input",{attrs:{name:t.key,value:t.value,"handle-change":e.handleParamChange}})],1)])})):n("li",{staticClass:"param-item-empty"},[n("span",[e._v("参数为空")])])],2)])},a=[];i._withStripped=!0,n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return a}))},CzRM:function(e,t,n){"use strict";var i=n("oE9V");n.n(i).a},D4EA:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=o(n("snOE")),a=o(n("08eb")),r=o(n("Kz1y")),s=o(n("q7rD"));function o(e){return e&&e.__esModule?e:{default:e}}t.default={name:"cascader",mixins:[s.default],props:{name:{type:String,required:!0},classifyKey:{type:String,default:"classifyCode"},leafKey:{type:String,default:"atomCode"},atomMap:{type:Object,default:function(){return{}}},tree:{type:Object,default:function(){return{}}},atomTreeList:{type:Array,default:[]},atoms:{type:Array,default:[]},value:{type:String},placeholder:{type:String,default:"请选择"},list:{type:Array,default:[]},disabled:{type:Boolean,default:!1},category:{type:Number,default:1},tips:{type:String,default:"该插件不属于当前构建环境"}},data:function(){return{showList:!1,includeNewAtomType:[],searchKey:"",searching:!1,selected:[]}},computed:{chList:function(){var e=this.selected,t=this.tree[e[0]];return t?t.children:[]},searchList:function(){var e=this.searchKey,t=this.atoms,n=this.classifyKey,i=this.tree;if(!e)return[];var s=t.filter((function(t){return t.name.toLowerCase().indexOf(e.toLowerCase())>-1})).reduce((function(e,t){return e[t[n]]?e[t[n]].children.push(t):e[t[n]]=(0,r.default)({},i[t[n]],{children:[t]}),e}),{});return(0,a.default)(s)},currentValue:function(){var e=this.atomMap,t=this.value,n=this.searchKey,i=this.searching,a=e[t]?e[t].name:"";return i?n:a},firstClassify:function(){return this.atomTreeList[0]?this.atomTreeList[0].classifyCode:""}},watch:{value:function(){this.clacSelected()},atomMap:function(){this.clacSelected()}},created:function(){this.clacSelected()},methods:{close:function(){this.showList=!1,this.searching=!1,this.searchKey=""},clacSelected:function(){var e=this.value,t=this.atomMap[e],n=t?t.classifyCode:this.firstClassify;this.selected=[n,this.value||""]},isLeaf:function(e){return!(e&&Array.isArray(e.children))},input:function(e){var t=e.target.value;this.searchKey=t,this.searching=!0,this.showList=!0},handleSelect:function(e,t){if(!e.disabled){var n=e.level;this.isLeaf(e)&&e[t]!==this.value&&(this.handleChange(this.name,e[t]),this.close()),this.selected=[].concat((0,i.default)(this.selected.slice(0,n)),[e[t]])}}}}},DIWr:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=r(n("WyVq")),a=r(n("0w5d"));function r(e){return e&&e.__esModule?e:{default:e}}t.default={name:"normal-atom",mixins:[i.default,a.default]}},DJgH:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ATOM_OPTION=void 0;var i=s(n("/9Wh")),a=s(n("wv3L")),r=s(n("tZmG"));function s(e){return e&&e.__esModule?e:{default:e}}t.getAtomOptionDefault=function(){return(0,r.default)(o).reduce((function(e,t){return o[t]&&"object"===(0,a.default)(o[t].default)?e[t]=JSON.parse((0,i.default)(o[t].default)):e[t]=o[t].default,e}),{})};var o=t.ATOM_OPTION={enable:{rule:{},type:"boolean",component:"atom-checkbox",text:"启用本插件",default:!0},continueWhenFailed:{rule:{},type:"boolean",component:"atom-checkbox",text:"失败时继续",default:!1},timeout:{rule:{numeric:!0,max_value:2880},component:"vuex-input",label:"插件执行超时时间(单位分钟)",desc:"请填写0-2880之间的整数，0表示系统允许的最大超时时间",placeholder:"请填写0-2880之间的整数，0表示系统允许的最大超时时间",default:"900"},runCondition:{rule:{},component:"selector",label:"何时运行本插件",default:"PRE_TASK_SUCCESS",list:[{id:"PRE_TASK_SUCCESS",name:"所有前置插件运行成功时运行"},{id:"PRE_TASK_FAILED_BUT_CANCEL",name:"即使前面有插件运行失败也运行，除非被取消才不运行"},{id:"PRE_TASK_FAILED_ONLY",name:"只有前面有插件运行失败时才运行"},{id:"CUSTOM_VARIABLE_MATCH",name:"自定义变量全部满足时运行"},{id:"CUSTOM_VARIABLE_MATCH_NOT_RUN",name:"自定义变量全部满足时不运行"}]},customVariables:{rule:{},component:"key-value-normal",default:[{key:"param1",value:""}],allowNull:!1,label:"自定义变量",isHidden:function(e){return!(e.additionalOptions&&("CUSTOM_VARIABLE_MATCH"===e.additionalOptions.runCondition||"CUSTOM_VARIABLE_MATCH_NOT_RUN"===e.additionalOptions.runCondition))}},otherTask:{isHidden:!0,default:""},customCondition:{isHidden:!0,default:""}}},DYYE:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=d(n("TcPG")),a=d(n("Kz1y")),r=d(n("06Hw")),s=d(n("YYXh")),o=d(n("q7rD")),l=d(n("eI+G")),u=d(n("32o7")),c=d(n("0w5d"));function d(e){return e&&e.__esModule?e:{default:e}}t.default={components:{VuexInput:l.default,FormField:u.default},mixins:[o.default,c.default],props:{value:{type:Object,default:[]},setParentValidate:{type:Function,default:function(){return function(){}}},disabled:{type:Boolean,default:!1},allowNull:{type:Boolean,default:!0},isSupportVar:{type:Boolean,default:!1}},data:function(){return{paramList:[]}},computed:{snonVarRule:function(){return this.isSupportVar?"":"nonVarRule"}},watch:{errors:{},value:function(e){this.paramList=e}},created:function(){var e=this;return(0,s.default)(r.default.mark((function t(){return r.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.paramList=e.value;case 1:case"end":return t.stop()}}),t,e)})))()},methods:{editParam:function(e,t){if(t){var n={key:"param"+(this.paramList.length+1),value:""};this.paramList.splice(e+1,0,n)}else(this.allowNull||this.paramList.length>1)&&this.paramList.splice(e,1);this.handleChange(this.name,this.paramList)},handleParamChange:function(e,t,n){var r=this.paramList[n];r&&((0,a.default)(r,(0,i.default)({},e,t)),this.handleChange(this.name,this.paramList))}}}},DkEz:function(e,t,n){"use strict";n.r(t);var i=n("YybZ"),a=n("6vwV");for(var r in a)"default"!==r&&function(e){n.d(t,e,(function(){return a[e]}))}(r);n("jU13");var s=n("psIG"),o=Object(s.a)(a.default,i.a,i.b,!1,null,null,null);o.options.__file="src/components/atomFormField/ParamsView/index.vue",t.default=o.exports},DrOC:function(e,t,n){"use strict";var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("bk-checkbox-group",{attrs:{value:e.value},on:{change:e.handleSwitch}},e._l(e.list,(function(t){return n("bk-checkbox",{directives:[{name:"bk-tooltips",rawName:"v-bk-tooltips",value:{content:t.desc,width:300},expression:"{ content: item.desc, width: 300 }"}],key:t.value,staticClass:"atom-checkbox-list-item",attrs:{value:t.id,disabled:t.disabled}},[e._v("\n        "+e._s(t.name)+"\n        "),t.showIntro?n("sup",{staticClass:"introSup"},[e._v(" 荐")]):e._e()])})),1)},a=[];i._withStripped=!0,n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return a}))},E0LN:function(e,t,n){"use strict";var i=n("8zVW");n.n(i).a},"E2+b":function(e,t,n){"use strict";var i=n("1GL7");n.n(i).a},EIc4:function(e,t,n){"use strict";var i=n("5izp");n.n(i).a},EQ8X:function(e,t,n){"use strict";n.r(t);var i=n("Tu/O"),a=n("nVah");for(var r in a)"default"!==r&&function(e){n.d(t,e,(function(){return a[e]}))}(r);n("ummT");var s=n("psIG"),o=Object(s.a)(a.default,i.a,i.b,!1,null,null,null);o.options.__file="src/views/template/instance_create.vue",t.default=o.exports},EQL2:function(e,t,n){},ERea:function(e,t,n){"use strict";n.r(t);var i=n("T03v"),a=n.n(i);for(var r in i)"default"!==r&&function(e){n.d(t,e,(function(){return i[e]}))}(r);t.default=a.a},EXLY:function(e,t,n){},Eg1K:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=l(n("06Hw")),a=l(n("Kz1y")),r=l(n("YYXh")),s=l(n("q7rD")),o=l(n("xBA8"));function l(e){return e&&e.__esModule?e:{default:e}}t.default={components:{Selector:o.default},mixins:[s.default],props:{hasAddItem:{type:Boolean,default:!1},itemText:{type:String,default:"关联代码库"},itemTargetUrl:{type:String,default:"/codelib/{projectId}/"},searchable:{type:Boolean,default:!0},url:{type:String,default:""},paramId:{type:String,default:"id"},paramName:{type:String,default:"name"},tools:{type:Boolean,default:!1},placeholder:{type:String,default:"请选择"},multiSelect:{type:Boolean,default:!1}},data:function(){return{isLoading:!1,list:[],webUrl:WEB_URL_PIRFIX}},computed:{projectId:function(){return this.$route.params.projectId}},created:function(){this.freshList()},methods:{edit:function(e){var t=this.list[e].repositoryHashId||"",n=this.list[e].type||"",i=this.list[e].groupHashId||"";if(t){var a=WEB_URL_PIRFIX+"/codelib/"+this.projectId+"/"+t+"/"+n;window.open(a,"_blank")}else if(i){var r=WEB_URL_PIRFIX+"/experience/"+this.projectId+"/setting/?groupId="+i;window.open(r,"_blank")}},toggleVisible:function(e){e&&this.freshList()},urlParse:function(e,t){return new Function("ctx","return '"+e.replace(/\{(.*?)\}/g,"'+ ctx.$1 +'")+"'")(t)},freshList:function(){var e=this;return(0,r.default)(i.default.mark((function t(){var n,r,s,o,l;return i.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,n=e.url,r=e.element,s=e.$route.params,o=e.urlParse(n,(0,a.default)({},s,r)),e.isLoading=!0,t.next=7,e.$ajax.get(o);case 7:l=t.sent,e.list=(l.data.resources||l.data.records||l.data||[]).map((function(t){return(0,a.default)({},t,{id:t[e.paramId],name:t[e.paramName]})})),e.multiSelect?(e.value=e.value.length?e.value:[],e.value.map((function(t){""!==t&&0===e.list.filter((function(e){return e.id===t})).length&&e.list.splice(0,0,{id:t,name:"******（无权限查看）"})}))):""!==e.value&&0===e.list.filter((function(t){return t.id===e.value})).length&&e.list.splice(0,0,{id:e.value,name:"******（无权限查看）"}),e.$emit("change",e.list),t.next=16;break;case 13:t.prev=13,t.t0=t.catch(0),e.$showTips({message:t.t0.message,theme:"error"});case 16:return t.prev=16,e.isLoading=!1,t.finish(16);case 19:case"end":return t.stop()}}),t,e,[[0,13,16,19]])})))()}}}},EriE:function(e,t,n){"use strict";var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"bk-form bk-form-vertical"},e._l(e.atomPropsModel,(function(t,i){return t.hidden?e._e():n("form-field",{key:i,attrs:{desc:t.desc,"desc-link":t.descLink,"desc-link-text":t.descLinkText,required:t.required,label:t.label,"is-error":e.errors.has(i),"error-msg":e.errors.first(i)}},[n(t.component,e._b({directives:[{name:"validate",rawName:"v-validate.initial",value:Object.assign({},t.rule,{required:!!t.required}),expression:"Object.assign({}, obj.rule, { required: !!obj.required })",modifiers:{initial:!0}}],tag:"component",attrs:{name:i,"handle-change":e.handleMethods,value:e.element[i]}},"component",t,!1))],1)})),1)},a=[];i._withStripped=!0,n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return a}))},F75d:function(e,t,n){"use strict";var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"bk-form bk-form-vertical"},e._l(e.newModel,(function(t,i){return n("form-field",{key:i,attrs:{desc:t.desc,"desc-link":t.descLink,"desc-link-text":t.descLinkText,required:t.required,label:t.label,"is-error":e.errors.has(i),"error-msg":e.errors.first(i)}},[n(t.component,e._b({directives:[{name:"validate",rawName:"v-validate.initial",value:Object.assign({},t.rule,{required:!!t.required}),expression:"Object.assign({}, obj.rule, { required: !!obj.required })",modifiers:{initial:!0}}],tag:"component",attrs:{container:e.container,element:e.element,name:i,"handle-change":e.handleChange,value:e.element[i]}},"component",t,!1))],1)})),1)},a=[];i._withStripped=!0,n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return a}))},FeYA:function(e,t,n){"use strict";var i=n("o0s9");n.n(i).a},GBhW:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.JOB_MUTUAL=t.JOB_OPTION=void 0;var i=s(n("/9Wh")),a=s(n("wv3L")),r=s(n("tZmG"));function s(e){return e&&e.__esModule?e:{default:e}}t.getJobOptionDefault=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:o;return(0,r.default)(e).reduce((function(t,n){return e[n]&&"object"===(0,a.default)(e[n].default)?t[n]=JSON.parse((0,i.default)(e[n].default)):t[n]=e[n].default,t}),{})};var o=t.JOB_OPTION={enable:{rule:{},type:"boolean",component:"atom-checkbox",text:"启用本Job",default:!0},timeout:{rule:{numeric:!0,max_value:2880},component:"vuex-input",required:!0,label:"Job执行超时时间(单位分钟)",desc:"请填写0-2880之间的整数，0表示系统允许的最大超时时间",placeholder:"请填写0-2880之间的整数，0表示系统允许的最大超时时间",default:"900"},runCondition:{rule:{},component:"selector",label:"何时运行本Job",default:"STAGE_RUNNING",list:[{id:"STAGE_RUNNING",name:"Stage开始运行时"},{id:"CUSTOM_VARIABLE_MATCH",name:"自定义变量全部满足时运行"},{id:"CUSTOM_VARIABLE_MATCH_NOT_RUN",name:"自定义变量全部满足时不运行"}]},customVariables:{rule:{},component:"key-value-normal",default:[{key:"param1",value:""}],label:"自定义变量",allowNull:!1,isHidden:function(e){return!(e&&("CUSTOM_VARIABLE_MATCH"===e.runCondition||"CUSTOM_VARIABLE_MATCH_NOT_RUN"===e.runCondition))}},customCondition:{isHidden:!0,default:""}};t.JOB_MUTUAL={enable:{default:!1},mutexGroupName:{rule:{mutualGroup:!0},component:"vuex-input",label:"互斥组名称",placeholder:"请填写互斥组名称",default:"",required:!0},queueEnable:{rule:{},type:"boolean",component:"atom-checkbox",text:"启用互斥组排队",default:!1},timeout:{rule:{numeric:!0,max_value:2880,min_value:1},component:"vuex-input",label:"最长等待时间（单位分钟）",placeholder:"请填写1-2880之间的整数",default:"900",required:!0,isHidden:function(e){return!(e&&e.queueEnable)}},queue:{rule:{numeric:!0,max_value:10,min_value:1},component:"vuex-input",label:"队列最大任务数",placeholder:"请填写1-10之间的整数",default:"5",required:!0,isHidden:function(e){return!(e&&e.queueEnable)}}}},GVNL:function(e,t,n){"use strict";var i=n("bvWi");n.n(i).a},GZWC:function(e,t,n){"use strict";var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"svnpath-item"},[n("vuex-input",e._b({},"vuex-input",e.$props,!1)),e._v(" "),e.fullPath?n("span",{staticClass:"view-input-path"},[e._v("代码真实拉取路径："+e._s(e.fullPath))]):e._e()],1)},a=[];i._withStripped=!0,n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return a}))},"Go+F":function(e,t,n){"use strict";var i=n("Ck/w");n.n(i).a},GrJD:function(e,t,n){"use strict";var i=function(){var e=this.$createElement;return(this._self._c||e)("bk-date-picker",{staticClass:"atom-date-picker",attrs:{type:this.dateType,value:this.date,disabled:this.disabled,"start-date":this.start},on:{change:this.handleDateChange}})},a=[];i._withStripped=!0,n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return a}))},H0V5:function(e,t,n){"use strict";var i=n("HDVp");n.n(i).a},HD9s:function(e,t,n){"use strict";n.r(t);var i=n("pKk1"),a=n("+2Oq");for(var r in a)"default"!==r&&function(e){n.d(t,e,(function(){return a[e]}))}(r);var s=n("psIG"),o=Object(s.a)(a.default,i.a,i.b,!1,null,null,null);o.options.__file="src/components/AtomPropertyPanel/BuildArchiveGet.vue",t.default=o.exports},HDVp:function(e,t,n){},IDIk:function(e,t,n){"use strict";n.r(t);var i=n("4CR5"),a=n("ur1F");for(var r in a)"default"!==r&&function(e){n.d(t,e,(function(){return a[e]}))}(r);n("x7Ti");var s=n("psIG"),o=Object(s.a)(a.default,i.a,i.b,!1,null,null,null);o.options.__file="src/components/AtomSelector/index.vue",t.default=o.exports},IDyY:function(e,t,n){"use strict";var i=n("9BrO");n.n(i).a},IMLN:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=o(n("06Hw")),a=o(n("YYXh")),r=o(n("E4OK")),s=n("ygAv");function o(e){return e&&e.__esModule?e:{default:e}}t.default={components:{Logo:r.default},filters:{templateTypeFilter:function(e){var t="";switch(e){case"constraint":case"CONSTRAINT":t="研发商店";break;default:t="自定义"}return t}},data:function(){return{pagingConfig:{current:1,limit:10,count:0},canCreatePP:!0,isManagerUser:!0,listData:[],copyTemp:{isShow:!1,title:"另存为模板",closeIcon:!1,quickClose:!0,padding:"0 20px",templateId:"",templateName:"",isCopySetting:!0},copySettings:[{label:"是",value:!0},{label:"否",value:!1}],tipsSetting:{content:"选“是”则将流水线设置应用于复制后的模版",placements:["right"]}}},computed:{projectId:function(){return this.$route.params.projectId}},mounted:function(){this.requestHasCreatePermission(),this.addClickListener(),this.getListData()},beforeDestroy:function(){this.removeClickListener()},methods:{pageCountChange:function(e){this.pagingConfig.current=1,this.pagingConfig.limit=e,this.getListData()},pageChange:function(e){this.pagingConfig.current=e,this.getListData()},showTools:function(e){this.listData.forEach((function(t){t.templateId===e.templateId?e.showMore=!e.showMore:t.showMore=!1}))},requestHasCreatePermission:function(){var e=this;return(0,a.default)(i.default.mark((function t(){return i.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e.$store.dispatch("pipelines/requestHasCreatePermission",{projectId:e.projectId});case 3:e.canCreatePP=t.sent,t.next=9;break;case 6:t.prev=6,t.t0=t.catch(0),e.$showTips({message:t.t0.message||t.t0,theme:"error"});case 9:case"end":return t.stop()}}),t,e,[[0,6]])})))()},getListData:function(){var e=this;this.$emit("getApiData",(function(t){t&&(e.isManagerUser=t.hasPermission,e.listData=(t.models||[]).map((function(e){return e.showMore=!1,e})),e.pagingConfig.count=t.count)}))},handleFormat:function(e){var t="";return e.map((function(e){t+=e+"\n"})),t},toInstanceList:function(e){this.canCreatePP&&this.$router.push({name:"templateInstance",params:{templateId:e.templateId}})},editTemplate:function(e){this.isManagerUser&&this.$router.push({name:"templateEdit",params:{templateId:e.templateId}})},toRelativeStore:function(e){if(this.isManagerUser){var t=WEB_URL_PIRFIX+"/store/atomList/template?projectCode="+this.projectId+"&templateId="+e.templateId;window.open(t,"_blank")}},deleteTemplate:function(e){var t=this;if(this.isManagerUser){var n="删除"+e.name;(0,s.navConfirm)({title:"确认",content:n}).then((function(){t.confirmDeleteTemplate(e)})).catch((function(){}))}},copyTemplate:function(e){this.isManagerUser&&(this.copyTemp.templateName=e.name+"_copy",this.copyTemp.isShow=!0,this.copyTemp.templateId=e.templateId)},copyConfirmHandler:function(e){var t=this;return(0,a.default)(i.default.mark((function e(){var n;return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.$validator.validate();case 2:if(e.sent){e.next=5;break}return e.abrupt("return");case 5:if(t.$parent.isLoading=!0,(t.copyTemp.templateName||"").trim()){e.next=10;break}return t.copyTemp.nameHasError=!0,e.abrupt("return");case 10:n={projectId:t.projectId,templateId:t.copyTemp.templateId,params:{templateName:t.copyTemp.templateName,isCopySetting:t.copyTemp.isCopySetting}},t.$store.dispatch("pipelines/copyTemplate",n).then((function(e){var n=e.id;t.copyCancelHandler(),t.$showTips({message:"复制模板成功",theme:"success"}),t.$router.push({name:"templateEdit",params:{templateId:n}})})).catch((function(e){var n=e.message||e;t.$showTips({message:n,theme:"error"})})).finally((function(){t.$parent.isLoading=!1}));case 12:case"end":return e.stop()}}),e,t)})))()},copyCancelHandler:function(){this.copyTemp.isShow=!1,this.copyTemp.templateName="",this.copyTemp.pipelineId="",this.copyTemp.nameHasError=!1,this.copyTemp.isCopySetting=!0},confirmDeleteTemplate:function(e){var t=this;return(0,a.default)(i.default.mark((function n(){return i.default.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return t.$parent.isLoading=!0,n.prev=1,n.next=4,t.$store.dispatch("pipelines/deleteTemplate",{projectId:t.projectId,templateId:e.templateId});case 4:t.getListData(),t.$showTips({message:"删除模板成功",theme:"success"}),n.next=11;break;case 8:n.prev=8,n.t0=n.catch(1),t.$showTips({message:n.t0.message||n.t0,theme:"error"});case 11:return n.prev=11,t.$parent.isLoading=!1,n.finish(11);case 14:case"end":return n.stop()}}),n,t,[[1,8,11,14]])})))()},closeShowMore:function(e){var t=e.target.dataset.name;["copy","stored","store","delete","btns"].includes(t)||this.listData.forEach((function(e){e.showMore=!1}))},addClickListener:function(){document.addEventListener("mouseup",this.closeShowMore)},removeClickListener:function(){document.removeEventListener("mouseup",this.closeShowMore)}}}},IknT:function(e,t,n){},JDfl:function(e,t,n){"use strict";n.r(t);var i=n("U7Yr"),a=n.n(i);for(var r in i)"default"!==r&&function(e){n.d(t,e,(function(){return i[e]}))}(r);t.default=a.a},JTWX:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=M(n("TcPG")),a=M(n("Kz1y")),r=M(n("lJ9I")),s=n("WIBD"),o=M(n("V8n5")),l=M(n("xfDL")),u=M(n("7px6")),c=M(n("eI+G")),d=M(n("pa6M")),p=M(n("xBA8")),f=M(n("32o7")),m=M(n("HD9s")),h=n("ygAv"),v=n("2K1W"),g=M(n("f2HB")),b=M(n("Q2/q")),_=M(n("8xPv")),y=M(n("P/XC")),C=M(n("kpxA")),k=M(n("QsYu")),P=M(n("XrsJ")),w=M(n("thd8")),x=M(n("QEyX")),I=M(n("Ange")),S=M(n("hzH0")),T=M(n("USIQ")),L=M(n("E4OK"));function M(e){return e&&e.__esModule?e:{default:e}}t.default={name:"atom-property-panel",components:{ReferenceVariable:I.default,AtomOption:r.default,VuexInput:c.default,Cascader:d.default,Selector:p.default,FormField:f.default,BuildArchiveGet:m.default,CodePullGitX:b.default,CodePullSvn:_.default,IosCertInstall:y.default,CodeGithubWebHookTrigger:w.default,ReportArchive:k.default,CodeSvnWebHookTrigger:C.default,PullGithub:P.default,NormalAtomV2:S.default,PushImageToThirdRepo:x.default,CodeGitWebHookTrigger:T.default,Logo:L.default},props:{elementIndex:Number,containerIndex:Number,stageIndex:Number,stages:Array,editable:Boolean},data:function(){return{nameEditing:!1,isSetted:!1,ruleDetailMessage:{}}},computed:(0,a.default)({},(0,s.mapGetters)("atom",["getAtomModal","getAtomModalKey","getDefaultVersion","classifyCodeListByCategory","getElement","getContainer","getContainers","getStage","isTriggerContainer","isNewAtomTemplate"]),(0,s.mapState)("atom",["globalEnvs","atomCodeList","atomClassifyCodeList","atomMap","atomModalMap","fetchingAtmoModal","atomVersionList"]),{projectId:function(){return this.$route.params.projectId},pipelineId:function(){return this.$route.params.pipelineId},stage:function(){var e=this.stageIndex;return(0,this.getStage)(this.stages,e)},containers:function(){var e=this.stage;return(0,this.getContainers)(e)},container:function(){var e=this.containerIndex,t=this.containers;return(0,this.getContainer)(t,e)},element:function(){var e=this.container,t=this.elementIndex,n=(0,this.getElement)(e,t);return n},atomCode:function(){return this.element?this.element.atomCode&&this.element["@type"]!==this.element.atomCode?this.element.atomCode:this.element["@type"]:""},atom:function(){var e=this.atomMap,t=this.atomCode,n=this.element,i=this.getDefaultVersion,r=this.getAtomModal,s=e[t],o=r({atomCode:t,version:n.version||i(t)});switch(!0){case!(0,h.isObject)(s)&&!(0,h.isObject)(o):return null;case!(0,h.isObject)(s)&&(0,h.isObject)(o):return(0,a.default)({},o,{atomModal:o});default:return(0,a.default)({},s,{atomModal:o})}},hasVersionList:function(){return Array.isArray(this.atomVersionList)&&this.atomVersionList.length>0},AtomComponent:function(){if(this.isNewAtomTemplate(this.atom.htmlTemplateVersion))return S.default;switch(this.atomCode){case"timerTrigger":return g.default;case"linuxScript":case"windowsScript":return o.default;case"unity3dBuild":return l.default;case"buildArchiveGet":return m.default;case"CODE_GIT":case"CODE_GITLAB":return b.default;case"CODE_SVN":return _.default;case"iosCertInstall":return y.default;case"reportArchive":case"reportArchiveService":return k.default;case"codeGitWebHookTrigger":return T.default;case"codeSVNWebHookTrigger":return C.default;case"GITHUB":return P.default;case"codeGithubWebHookTrigger":return w.default;case"pushImageToThirdRepo":return x.default;default:return u.default}}}),watch:{atomCode:function(e){this.errors.clear(),this.$nextTick((function(){v.bus.$emit("validate")})),e&&this.fetchAtomVersionList({projectCode:this.projectId,atomCode:e})},"errors.items":{deep:!0,handler:function(e){var t=e.length>0;this.handleUpdateAtom("isError",t)}}},mounted:function(){var e=this.projectId,t=this.element,n=this.globalEnvs,i=this.atomCode,a=this.requestGlobalEnvs,r=this.getDefaultVersion,s=t.version?t.version:r(i);this.handleFetchAtomModal(i,s),this.fetchAtomVersionList({projectCode:e,atomCode:i}),n||a(),this.toggleAtomSelectorPopup(!i)},methods:(0,a.default)({},(0,s.mapActions)("atom",["toggleAtomSelectorPopup","requestGlobalEnvs","updateAtom","updateAtomType","fetchAtoms","fetchAtomModal","fetchAtomVersionList"]),{toggleEditName:function(e){this.nameEditing=e},handleEditName:function(e){var t=e.target.value;this.handleUpdateAtom("name",t)},setAtomValidate:function(e,t){var n=this;e&&e.length&&e.map((function(e){return n.errors.add(e)})),t&&t.length&&t.map((function(e){return n.errors.remove(e.field)}))},handleUpdateAtom:function(e,t){this.updateAtom({element:this.element,newParam:(0,i.default)({},e,t)})},handleFetchAtomModal:function(e,t){var n=this.atomModalMap,i=this.fetchAtomModal;!n[(0,this.getAtomModalKey)(e,t)]&&e&&i({projectCode:this.projectId,atomCode:e,version:t})},handleUpdateVersion:function(e){console.lod(e),this.element&&this.element.version!==e&&this.updateAtomModal(this.atomCode,e)},updateAtomModal:function(e,t){var n=this.elementIndex,i=this.container,a=this.updateAtomType,r=this.getAtomModal,s=this.fetchAtomModal;(r({atomCode:e,version:t})?a:s)({projectCode:this.projectId,container:i,version:t,atomCode:e,atomIndex:n})}})}},JZRv:function(e,t,n){"use strict";n.r(t);var i=n("vST7"),a=n.n(i);for(var r in i)"default"!==r&&function(e){n.d(t,e,(function(){return i[e]}))}(r);t.default=a.a},JcWF:function(e,t,n){"use strict";n.r(t);var i=n("qWfG"),a=n.n(i);for(var r in i)"default"!==r&&function(e){n.d(t,e,(function(){return i[e]}))}(r);t.default=a.a},Jp3z:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i,a=n("q7rD"),r=(i=a)&&i.__esModule?i:{default:i};t.default={mixins:[r.default],props:{name:{type:String,required:!0},value:{type:Array,required:!0,default:""}},data:function(){return{weeks:["日","一","二","三","四","五","六"],normalTime:"",error:!1,selectedWeek:[]}},created:function(){this.value&&this.setExp(this.value)},methods:{prezero:function(e){return(e=Number(e))<10?"0"+e:e},setExp:function(e){var t=this;if(e.length){var n=[];e&&e.map((function(e){var i=e.split(" ");n.push(t.prezero(i[2])+":"+t.prezero(i[1])),t.selectedWeek=i[5].split(",").map((function(e){return Number(e)}))})),n&&(this.normalTime=n.join(","))}},isSelectedWeek:function(e){return this.selectedWeek.indexOf(e)>-1},getExp:function(){var e=this;this.error=!1;var t=[],n=this.selectedWeek.join(",");if(n){var i=[],a=this.normalTime||"00:00";if(a){if(!a.match(/\d{1,2}:\d{1,2}(,\d{1,2}:\d{1,2})*$/))return void(this.error=!0);(i=a.split(","))&&i.map((function(i){var a=i.split(":");2===a.length?t.push("0 "+Number(a[1])+" "+Number(a[0])+" ? * "+n):e.error=!0}))}}!this.error&&this.handleUpdateElement(this.name,t)},toggleWeek:function(e){this.isSelectedWeek(e)?this.selectedWeek=this.selectedWeek.filter((function(t){return t!==e})):this.selectedWeek.push(e),this.getExp()},resetSelectedWeek:function(){this.selectedWeek=[],this.normalTime="",this.getExp()},changeTimes:function(e){var t=e.target.value.trim();this.$emit("input",t),this.normalTime=t,this.getExp()},handleUpdateElement:function(e,t){this.handleChange(e,t)}}}},JsCa:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=u(n("snOE")),a=u(n("06Hw")),r=u(n("YYXh")),s=u(n("q7rD")),o=u(n("a7YV")),l=u(n("qz5Q"));function u(e){return e&&e.__esModule?e:{default:e}}t.default={name:"staff-input",components:{customSelector:o.default},mixins:[s.default],props:{value:{type:Array,required:!0,default:function(){return[]}},disabled:{type:Boolean,default:!1},placeholder:{type:String,default:""}},data:function(){return{isLoading:!1,curInsertVal:"",list:[],initData:[]}},computed:{projectId:function(){return this.$route.params.projectId},dataInputConfig:function(){return{initData:this.initData||[],data:this.list||[],onChange:this.onChange}}},watch:{value:function(e){this.list=this.initData.filter((function(t){return!e.includes(t)}))}},created:function(){var e=this;return(0,r.default)(a.default.mark((function t(){return a.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.getList();case 2:case"end":return t.stop()}}),t,e)})))()},methods:{getList:function(){var e=this;return(0,r.default)(a.default.mark((function t(){var n;return a.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n="/backend/api/ci/projects/users/"+e.projectId+"/",t.prev=1,t.next=4,l.default.get(""+AJAX_URL_PIRFIX+n).then((function(e){return e.data.data}));case 4:t.sent.map((function(t){e.initData.push(t),e.list.push(t)})),e.$nextTick((function(){e.value.forEach((function(t){e.list=e.list.filter((function(e){return-1===e.indexOf(t)}))}))})),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(1),e.$showTips({message:t.t0.message?t.t0.message:t.t0,theme:"error"});case 12:case"end":return t.stop()}}),t,e,[[1,9]])})))()},onChange:function(e,t){this.handleValueChange("value",t)},handleValueChange:function(e,t){this.curInsertVal=t},setValue:function(e,t,n,a){var r=[];r=[].concat((0,i.default)(this.value.slice(0,t)),a?(0,i.default)(n):[n],(0,i.default)(this.value.slice(t,this.value.length))),this.handleChange(this.name,r),this.curInsertVal=""},deleteItem:function(e,t,n){/^\$\{(.*)\}$/.test(n)||this.list.push(n);var a=[].concat((0,i.default)(this.value.slice(0,t-1)),(0,i.default)(this.value.slice(t,this.value.length)));this.handleChange(this.name,a)}}}},JwXn:function(e,t,n){"use strict";n.r(t);var i=n("/GLl"),a=n("JZRv");for(var r in a)"default"!==r&&function(e){n.d(t,e,(function(){return a[e]}))}(r);n("E2+b");var s=n("psIG"),o=Object(s.a)(a.default,i.a,i.b,!1,null,null,null);o.options.__file="src/components/pipelineList/imgEmptyTips.vue",t.default=o.exports},"Jz+m":function(e,t,n){},KAMw:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=r(n("WyVq")),a=r(n("0w5d"));function r(e){return e&&e.__esModule?e:{default:e}}t.default={name:"code-svn-web-hook-trigger",mixins:[i.default,a.default],created:function(){this.element.repositoryType||this.handleUpdateElement("repositoryType","ID"),this.handleChooseCodelibType("repositoryType",this.element.repositoryType),this.handleUpdateElement("includeUsers",this.element.includeUsers?this.element.includeUsers.join(","):""),this.handleUpdateElement("excludeUsers",this.element.excludeUsers?this.element.excludeUsers.join(","):"")},destroyed:function(){var e=[];this.element.includeUsers&&(e=this.element.includeUsers.split(",")),this.handleUpdateElement("includeUsers",e);var t=[];this.element.excludeUsers&&(t=this.element.excludeUsers.split(",")),this.handleUpdateElement("excludeUsers",t)},methods:{handleMethods:function(e,t){"repositoryType"===e?this.handleChooseCodelibType(e,t):this.handleUpdateElement(e,t)},handleChooseCodelibType:function(e,t){"ID"===t?(this.atomPropsModel.repositoryHashId.hidden=!1,this.atomPropsModel.repositoryName.hidden=!0):"NAME"===t&&(this.atomPropsModel.repositoryHashId.hidden=!0,this.atomPropsModel.repositoryName.hidden=!1),this.handleUpdateElement(e,t)}}}},"Kjy/":function(e,t,n){"use strict";n.r(t);var i=n("zLKB"),a=n("wRBT");for(var r in a)"default"!==r&&function(e){n.d(t,e,(function(){return a[e]}))}(r);n("6Q0D");var s=n("psIG"),o=Object(s.a)(a.default,i.a,i.b,!1,null,null,null);o.options.__file="src/components/ContainerPropertyPanel/BuildParams.vue",t.default=o.exports},Kkf7:function(e,t,n){},LFVd:function(e,t,n){"use strict";n.r(t);var i=n("Rq9r"),a=n.n(i);for(var r in i)"default"!==r&&function(e){n.d(t,e,(function(){return i[e]}))}(r);t.default=a.a},LfKL:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i,a=n("q7rD"),r=(i=a)&&i.__esModule?i:{default:i};t.default={name:"atom-checkbox",mixins:[r.default],props:{value:{type:Boolean,required:!0,default:!1},text:{type:String},desc:{type:String,default:!1},title:{type:String,default:!1}},methods:{handleSwitch:function(e){var t=this.name;(0,this.handleChange)(t,e)}}}},LlyV:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=v(n("/9Wh")),a=v(n("06Hw")),r=v(n("YYXh")),s=v(n("Kz1y")),o=n("WIBD"),l=v(n("nHZS")),u=v(n("3tY9")),c=v(n("QFuk")),d=v(n("RcsO")),p=v(n("eI+G")),f=v(n("ZdkB")),m=v(n("32o7")),h=v(n("E4OK"));function v(e){return e&&e.__esModule?e:{default:e}}t.default={components:{"inner-header":l.default,PipelineParamsForm:u.default,instancePipelineName:c.default,instanceMessage:d.default,VuexInput:p.default,FormField:m.default,EnumInput:f.default,Logo:h.default},data:function(){return{instanceVersion:"",isInit:!1,showContent:!1,isTemplateSetting:!1,showInstanceCreate:!1,showInstanceMessage:!1,paramList:[],templateParamList:[],versionList:[],pipelineNameList:[],currentPipelineParams:[],successList:[],failList:[],failMessage:{},buildNoParams:["MajorVersion","MinorVersion","FixVersion"],loading:{isLoading:!1,title:""},template:{},buildParams:{},paramValues:{},templateParamValues:{}}},computed:(0,s.default)({},(0,o.mapGetters)("atom",["buildNoRules"]),{projectId:function(){return this.$route.params.projectId},pipelineId:function(){return this.$route.params.pipelineId},templateId:function(){return this.$route.params.templateId},curVersionId:function(){return this.$route.params.curVersionId},hashVal:function(){if(this.$route.hash){var e=this.$route.hash.substr(1,this.$route.hash.length);return e.split("&")}return""}}),watch:{instanceVersion:function(e){e&&!this.isInit&&(this.requestTemplateDatail(e),this.hashVal&&this.requestPipelineParams(this.hashVal,e))}},mounted:function(){var e=this;return(0,r.default)(a.default.mark((function t(){return a.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.requestTemplateDatail(e.curVersionId),e.hashVal&&e.requestPipelineParams(e.hashVal,e.curVersionId);case 2:case"end":return t.stop()}}),t,e)})))()},methods:{requestTemplateDatail:function(e){var t=this;return(0,r.default)(a.default.mark((function n(){var i,r,s,o;return a.default.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return i=t.$store,r=t.loading,t.isInit=!0,r.isLoading=!0,n.prev=3,n.next=6,i.dispatch("pipelines/requestTemplateDatail",{projectId:t.projectId,templateId:t.templateId,versionId:e});case 6:s=n.sent,t.template.templateName=s.templateName,t.template.creator=s.creator,t.template.description=s.description,t.versionList=s.versions,t.handleParams(s.template.stages),t.handlePipeLineName(),o=t.versionList.filter((function(t){return t.version===parseInt(e)})),t.instanceVersion=o[0].version,n.next=20;break;case 17:n.prev=17,n.t0=n.catch(3),t.$showTips({message:n.t0.message||n.t0,theme:"error"});case 20:return n.prev=20,t.loading.isLoading=!1,t.showContent=!0,n.finish(20);case 24:case"end":return n.stop()}}),n,t,[[3,17,20,24]])})))()},requestPipelineParams:function(e,t){var n=this;return(0,r.default)(a.default.mark((function i(){var r,s,o,l;return a.default.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return r=n.$store,s=n.loading,o=[],e.map((function(e){o.push({id:e})})),s.isLoading=!0,i.prev=4,i.next=7,r.dispatch("pipelines/requestPipelineParams",{projectId:n.projectId,templateId:n.templateId,versionId:t,params:o});case 7:l=i.sent,n.handlePipelineParams(l),i.next=14;break;case 11:i.prev=11,i.t0=i.catch(4),n.$showTips({message:i.t0.message||i.t0,theme:"error"});case 14:return i.prev=14,n.loading.isLoading=!1,i.finish(14);case 17:case"end":return i.stop()}}),i,n,[[4,11,14,17]])})))()},handleParams:function(e){var t=this;this.paramList=e[0].containers[0].params||[],this.paramValues=this.paramList.reduce((function(e,t){return e[t.id]=t.defaultValue,e}),{}),this.templateParamList=e[0].containers[0].templateParams||[],this.templateParamValues=this.templateParamList.reduce((function(e,t){return e[t.id]=t.defaultValue,e}),{}),e[0].containers[0].buildNo?this.buildParams=e[0].containers[0].buildNo:this.buildParams={},this.hashVal||this.pipelineNameList.forEach((function(e){e.params=[].concat(t.deepCopy(t.paramList)),e.pipelineParams=e.params.filter((function(e){return-1===t.buildNoParams.indexOf(e.id)})),e.versionParams=e.params.filter((function(e){return t.buildNoParams.indexOf(e.id)>-1})),e.paramValues=t.deepCopy(t.paramValues),e.buildParams=!(!t.buildParams||!t.buildParams.buildNoType)&&t.deepCopy(t.buildParams)}))},handlePipeLineName:function(){var e=(this.$route.params||{}).pipelineName;e&&this.comfireHandler(e)},handlePipelineParams:function(e){var t=this;this.pipelineNameList.splice(0,this.pipelineNameList.length),this.hashVal.map((function(n,i){var a={pipelineId:e[n].pipelineId,pipelineName:e[n].pipelineName,selected:0===i};if(e[n].buildNo&&(a.buildParams=e[n].buildNo),e[n].param.length){var r=e[n].param.reduce((function(e,t){return e[t.id]=t.defaultValue,e}),{});a.params=[].concat(t.deepCopy(e[n].param)),a.pipelineParams=a.params.filter((function(e){return-1===t.buildNoParams.indexOf(e.id)})),a.versionParams=a.params.filter((function(e){return t.buildNoParams.indexOf(e.id)>-1})),a.paramValues=r}t.pipelineNameList.push(a)})),this.currentPipelineParams=this.pipelineNameList[0]},toInstanceManage:function(){this.$router.back()},changeVersion:function(e){this.isInit=!1},addPipelineName:function(){this.showInstanceCreate=!0},handleParamChange:function(e,t){var n=this;this.pipelineNameList.forEach((function(i){i.pipelineName===n.currentPipelineParams.pipelineName&&(i.paramValues[e]=t,i.params.forEach((function(n){n.id===e&&(n.defaultValue=t)})))}))},handleBuildNoChange:function(e,t){var n=this;this.pipelineNameList.forEach((function(i){i.pipelineName===n.currentPipelineParams.pipelineName&&(i.buildParams[e]=t)}))},lastCilckPipeline:function(e){var t=this;this.pipelineNameList.forEach((function(n,i){n.selected=i===e,i===e&&(t.currentPipelineParams=n)}))},deletePipelineName:function(e){this.pipelineNameList.splice(e,1)},comfireHandler:function(e){var t=this,n=[].concat(this.deepCopy(this.paramList)),i=n.filter((function(e){return-1===t.buildNoParams.indexOf(e.id)})),a=n.filter((function(e){return t.buildNoParams.indexOf(e.id)>-1})),r={pipelineName:e,selected:!0,params:n,pipelineParams:i,versionParams:a,buildParams:!(!this.buildParams||!this.buildParams.buildNoType)&&this.deepCopy(this.buildParams),paramValues:this.deepCopy(this.paramValues)};this.pipelineNameList.push(r),this.currentPipelineParams=r,this.pipelineNameList.forEach((function(e,n){n!==t.pipelineNameList.length-1&&(e.selected=!1)})),this.cancelHandler()},cancelHandler:function(){this.showInstanceCreate=!1},cancelMessage:function(){this.showInstanceMessage=!1},deepCopy:function(e,t){return JSON.parse((0,i.default)(e))},submit:function(){var e=this;return(0,r.default)(a.default.mark((function t(){var n,i,r,s,o,l,u,c,d;return a.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e.pipelineNameList.length){t.next=4;break}e.$showTips({message:"请添加流水线实例名称",theme:"error"}),t.next=32;break;case 4:if(n=[],i=void 0,r=void 0,s=e.$store,o=e.loading,e.pipelineNameList.forEach((function(t){n.push({pipelineName:t.pipelineName,pipelineId:e.hashVal?t.pipelineId:void 0,buildNo:t.buildParams||void 0,param:t.params})})),o.isLoading=!0,t.prev=9,l=void 0,u={projectId:e.projectId,templateId:e.templateId,versionId:e.instanceVersion,useTemplateSettings:e.hashVal?void 0:e.isTemplateSetting,params:n},!e.hashVal){t.next=18;break}return t.next=15,s.dispatch("pipelines/updateTemplateInstance",u);case 15:l=t.sent,t.next=21;break;case 18:return t.next=20,s.dispatch("pipelines/createTemplateInstance",u);case 20:l=t.sent;case 21:l&&(c=l.successPipelines.length,d=l.failurePipelines.length,c&&!d?(i="你已成功实例化"+c+"条流水线",r="success",e.$showTips({message:i,theme:r}),e.toInstanceManage()):d&&(e.successList=l.successPipelines||[],e.failList=l.failurePipelines||[],e.failMessage=l.failureMessages||[],e.showInstanceMessage=!0)),t.next=29;break;case 24:t.prev=24,t.t0=t.catch(9),i=t.t0.message||t.t0,r="error",e.$showTips({message:i,theme:r});case 29:return t.prev=29,e.loading.isLoading=!1,t.finish(29);case 32:case"end":return t.stop()}}),t,e,[[9,24,29,32]])})))()}}}},Lw2S:function(e,t,n){"use strict";n.r(t);var i=n("uzLy"),a=n.n(i);for(var r in i)"default"!==r&&function(e){n.d(t,e,(function(){return i[e]}))}(r);t.default=a.a},M27C:function(e,t,n){"use strict";n.r(t);var i=n("NsHu"),a=n("0Q91");for(var r in a)"default"!==r&&function(e){n.d(t,e,(function(){return a[e]}))}(r);n("ic+k");var s=n("psIG"),o=Object(s.a)(a.default,i.a,i.b,!1,null,null,null);o.options.__file="src/components/atomFormField/groupIdSelector/index.vue",t.default=o.exports},MHl0:function(e,t,n){"use strict";n.r(t);var i=n("rv72"),a=n.n(i);for(var r in i)"default"!==r&&function(e){n.d(t,e,(function(){return i[e]}))}(r);t.default=a.a},MMoO:function(e,t,n){"use strict";n.r(t);var i=n("Qv5w"),a=n("9WKU");for(var r in a)"default"!==r&&function(e){n.d(t,e,(function(){return a[e]}))}(r);n("wgB3");var s=n("psIG"),o=Object(s.a)(a.default,i.a,i.b,!1,null,null,null);o.options.__file="src/components/atomFormField/Accordion/index.vue",t.default=o.exports},"MS/s":function(e,t,n){"use strict";n.r(t);var i=n("Eg1K"),a=n.n(i);for(var r in i)"default"!==r&&function(e){n.d(t,e,(function(){return i[e]}))}(r);t.default=a.a},MXo5:function(e,t,n){"use strict";n.r(t);var i=n("JTWX"),a=n.n(i);for(var r in i)"default"!==r&&function(e){n.d(t,e,(function(){return i[e]}))}(r);t.default=a.a},MYVi:function(e,t,n){"use strict";n.r(t);var i=n("dQSe"),a=n.n(i);for(var r in i)"default"!==r&&function(e){n.d(t,e,(function(){return i[e]}))}(r);t.default=a.a},MiLC:function(e,t,n){"use strict";n.r(t);var i=n("vEGH"),a=n.n(i);for(var r in i)"default"!==r&&function(e){n.d(t,e,(function(){return i[e]}))}(r);t.default=a.a},MoGG:function(e,t,n){"use strict";var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"bk-form bk-form-vertical"},[e.githubAppUrl?n("route-tips",{attrs:{visible:e.githubAppUrl,"github-app-url":e.githubAppUrl}}):e._e(),e._v(" "),e._l(e.atomPropsModel,(function(t,i){return[e.isHidden(t,e.element)?e._e():n("form-field",{key:i,attrs:{desc:t.desc,"desc-link":t.descLink,"desc-link-text":t.descLinkText,required:t.required,label:t.label,"is-error":e.errors.has(i),"error-msg":e.errors.first(i)}},[n(t.component,e._b({directives:[{name:"validate",rawName:"v-validate.initial",value:Object.assign({},t.rule,{required:!!t.required}),expression:"Object.assign({}, obj.rule, { required: !!obj.required })",modifiers:{initial:!0}}],tag:"component",attrs:{name:i,"handle-change":e.handleMethods,value:e.element[i]},on:{change:e.listChange}},"component",t,!1))],1)]}))],2)},a=[];i._withStripped=!0,n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return a}))},"N+iZ":function(e,t,n){"use strict";var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("accordion",{key:"otherChoice",attrs:{"show-checkbox":"","show-content":""}},[n("header",{staticClass:"var-header",attrs:{slot:"header"},slot:"header"},[n("span",[e._v("流程控制选项")]),e._v(" "),n("i",{staticClass:"bk-icon icon-angle-down",staticStyle:{display:"block"}})]),e._v(" "),n("div",{staticClass:"bk-form bk-form-vertical",attrs:{slot:"content"},slot:"content"},[e._l(e.optionModel,(function(t,i){return[!e.isHidden(t,e.element)&&"trigger"!==e.container["@type"]||"enable"===i?n("form-field",{key:i,attrs:{desc:t.desc,required:t.required,label:t.label,"is-error":e.errors.has(i),"error-msg":e.errors.first(i)}},[n(t.component,e._b({directives:[{name:"validate",rawName:"v-validate.initial",value:Object.assign({},t.rule,{required:!!t.required}),expression:"Object.assign({}, obj.rule, { required: !!obj.required })",modifiers:{initial:!0}}],tag:"component",attrs:{container:e.container,element:e.element,name:i,"handle-change":e.handleUpdateElementOption,value:e.atomOption[i]}},"component",t,!1))],1):e._e()]}))],2)])},a=[];i._withStripped=!0,n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return a}))},N4e7:function(e,t,n){},"N7+c":function(e,t,n){"use strict";n.r(t);var i=n("kPdS"),a=n.n(i);for(var r in i)"default"!==r&&function(e){n.d(t,e,(function(){return i[e]}))}(r);t.default=a.a},ND4a:function(e,t,n){"use strict";n.r(t);var i=n("9Lja"),a=n("3B4/");for(var r in a)"default"!==r&&function(e){n.d(t,e,(function(){return a[e]}))}(r);var s=n("psIG"),o=Object(s.a)(a.default,i.a,i.b,!1,null,null,null);o.options.__file="src/components/common/multiple-complete/index.vue",t.default=o.exports},NOux:function(e,t,n){},NR4k:function(e,t,n){},NR86:function(e,t,n){"use strict";n.r(t);var i=n("DrOC"),a=n("c9m7");for(var r in a)"default"!==r&&function(e){n.d(t,e,(function(){return a[e]}))}(r);n("8fJT");var s=n("psIG"),o=Object(s.a)(a.default,i.a,i.b,!1,null,null,null);o.options.__file="src/components/atomFormField/AtomCheckboxList/index.vue",t.default=o.exports},Naye:function(e,t,n){"use strict";n.r(t);var i=n("Yb1Q"),a=n.n(i);for(var r in i)"default"!==r&&function(e){n.d(t,e,(function(){return i[e]}))}(r);t.default=a.a},NeHY:function(e,t,n){var i={"./batchfile":"xejF","./json":"IESA","./powershell":"md2X","./python":"/4tD","./sh":"RaR5","./text":"/FLw"};function a(e){var t=r(e);return n(t)}function r(e){if(!n.o(i,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return i[e]}a.keys=function(){return Object.keys(i)},a.resolve=r,e.exports=a,a.id="NeHY"},NoJb:function(e,t,n){"use strict";var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"cron-trigger-week"},[n("div",{staticClass:"cron-build-week"},[n("span",[e._v("每周")]),e._v(" "),n("ul",e._l(e.weeks,(function(t,i){return n("li",{key:i,staticClass:"week-item",class:{"cur-item":e.isSelectedWeek(i+1)},on:{click:function(t){return e.toggleWeek(i+1)}}},[n("label",[e._v(e._s(t))])])})),0)]),e._v(" "),n("div",{staticClass:"cron-build-time"},[n("span",[e._v("触发于")]),e._v(" "),n("input",{staticClass:"bk-form-input",attrs:{disabled:e.disabled,type:"text",placeholder:"多个触发时间可以用英文逗号分隔，比如09:00,15:30，为空的时候默认为00:00"},domProps:{value:e.normalTime},on:{change:e.changeTimes}}),e._v(" "),e.error?n("div",{staticClass:"bk-form-help is-danger"},[e._v("触发时间格式有误，请用英文逗号分隔，如09:00,15:30")]):e._e()])])},a=[];i._withStripped=!0,n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return a}))},NsHu:function(e,t,n){"use strict";var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"code-mode-check bk-form"},[n("div",{staticClass:"bk-form-item"},[[e.label?n("label",{staticClass:"bk-label"},[e._v(e._s(e.label)+"：")]):e._e(),e._v(" "),e.desc?n("bk-popover",{attrs:{theme:"light",placement:e.descDirection}},[n("i",{staticClass:"bk-icon",class:[e.iconClass?e.iconClass:"icon-info-circle"]}),e._v(" "),n("div",{staticStyle:{"white-space":"pre-wrap","font-weight":"normal"},attrs:{slot:"content"},slot:"content"},[n("div",[e._v(e._s(e.desc))])])]):e._e(),e._v(" "),n("div",{staticClass:"bk-form-content"},[n("multiple-complete",{attrs:{name:e.name,type:"text",value:e.value,disabled:e.disabled,placeholder:e.placeholder,config:e.dataInputConfig}})],1)]],2)])},a=[];i._withStripped=!0,n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return a}))},NwYm:function(e,t,n){"use strict";var i=n("ZQCD");n.n(i).a},OlOX:function(e,t,n){"use strict";var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("form",{staticClass:"bk-form bk-form-vertical"},[e._l(e.newModel,(function(t,i){return[t.hidden?e._e():n("form-field",{key:i,attrs:{desc:t.desc,required:t.required,label:t.label,"is-error":e.errors.has(i),"error-msg":e.errors.first(i)}},[n(t.component,"svnPath"===i?e._b({directives:[{name:"validate",rawName:"v-validate.initial",value:Object.assign({},t.rule,{required:!!t.required}),expression:"Object.assign({}, obj.rule, { required: !!obj.required })",modifiers:{initial:!0}}],tag:"component",attrs:{name:i,"handle-change":e.handleUpdate,value:e.element[i],"repository-hash-id":e.element.repositoryHashId,list:e.list}},"component",t,!1):"repositoryHashId"===i?e._b({directives:[{name:"validate",rawName:"v-validate.initial",value:Object.assign({},t.rule,{required:!!t.required}),expression:"Object.assign({}, obj.rule, { required: !!obj.required })",modifiers:{initial:!0}}],tag:"component",attrs:{name:i,"handle-change":e.handleUpdate,value:e.element[i]},on:{change:e.listChange}},"component",t,!1):e._b({directives:[{name:"validate",rawName:"v-validate.initial",value:Object.assign({},t.rule,{required:!!t.required}),expression:"Object.assign({}, obj.rule, { required: !!obj.required })",modifiers:{initial:!0}}],tag:"component",attrs:{name:i,"handle-change":e.handleUpdate,value:e.element[i]}},"component",t,!1)),e._v(" "),"path"===i&&t.warn?n("p",{staticClass:"bk-form-help is-warning"},[e._v(e._s(t.warn))]):e._e(),e._v(" "),"path"===i&&e.element.repositoryHashId?n("route-tips",{attrs:{visible:!0,"src-tips":e.srcTips,"path-tips":e.pathTips}}):e._e()],1)]}))],2)},a=[];i._withStripped=!0,n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return a}))},Os3a:function(e,t,n){"use strict";n.r(t);var i=n("4aFQ"),a=n("MHl0");for(var r in a)"default"!==r&&function(e){n.d(t,e,(function(){return a[e]}))}(r);n("EIc4");var s=n("psIG"),o=Object(s.a)(a.default,i.a,i.b,!1,null,null,null);o.options.__file="src/views/list/template.vue",t.default=o.exports},Oyf1:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=r(n("WyVq")),a=r(n("0w5d"));function r(e){return e&&e.__esModule?e:{default:e}}t.default={name:"ios-cert-install",mixins:[i.default,a.default],data:function(){return{newModel:{}}},created:function(){this.newModel=this.atomPropsModel}}},Oyw1:function(e,t,n){"use strict";var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{directives:[{name:"bkloading",rawName:"v-bkloading",value:{isLoading:e.isSaving,title:"正在保存"},expression:"{ isLoading: isSaving, title: '正在保存' }"}],staticClass:"create-pipeline-wrapper"},[e.showHeader?n("header",{staticClass:"create-pipeline-header"},[n("div",[e._t("pipeline-name",[n("span",{staticStyle:{cursor:"default"},attrs:{title:e.pipeline.name}},[e._v(e._s(e.pipeline.name))])])],2),e._v(" "),n("div",{staticClass:"pipeline-bar"},[e._t("pipeline-bar")],2)]):e._e(),e._v(" "),e.pipeline?n("div",{staticClass:"scroll-container"},[n("div",{staticClass:"scroll-wraper"},[n("stages",{attrs:{stages:e.pipeline.stages,editable:!e.pipeline.instanceFromTemplate&&"CONSTRAINT"!==e.templateType}})],1)]):e._e(),e._v(" "),n("bk-dialog",{attrs:{width:"620","ext-cls":"pipeline-type-container",title:"请选择Job类型","show-footer":!1,"esc-close":!0,"mask-close":!0},model:{value:e.isStageShow,callback:function(t){e.isStageShow=t},expression:"isStageShow"}},[n("section",{staticClass:"bk-form bk-form-vertical bk-form-wrapper"},[n("ul",{staticClass:"stage-type-list"},e._l(e.osList,(function(t){return n("li",{key:t.value,class:t.className,on:{click:function(n){return e.insert(t.value)}}},[n("i",{class:"bk-icon icon-"+t.value.toLowerCase()+" stage-type-icon"}),e._v(" "),n("span",{staticClass:"stage-label"},[e._v(e._s(t.label))])])})),0)])]),e._v(" "),e.container?n("atom-selector",e._b({attrs:{container:e.container,element:e.element,"fresh-atom-list":e.freshAtomList}},"atom-selector",e.editingElementPos,!1)):e._e(),e._v(" "),e.editingElementPos?n("bk-sideslider",{class:{"sodaci-property-panel":!0,"hide-title":!e.panelTitle},attrs:{title:e.panelTitle,width:"640","is-show":e.isPropertyPanelShow,"quick-close":!0},on:{"update:isShow":function(t){e.isPropertyPanelShow=t},"update:is-show":function(t){e.isPropertyPanelShow=t}}},[n("template",{slot:"content"},[void 0!==e.editingElementPos.elementIndex?n("atom-property-panel",{attrs:{"element-index":e.editingElementPos.elementIndex,"container-index":e.editingElementPos.containerIndex,"stage-index":e.editingElementPos.stageIndex,editable:!e.pipeline.instanceFromTemplate&&"CONSTRAINT"!==e.templateType,stages:e.pipeline.stages}}):void 0!==e.editingElementPos.containerIndex?n("container-property-panel",{attrs:{"container-index":e.editingElementPos.containerIndex,"stage-index":e.editingElementPos.stageIndex,stages:e.pipeline.stages,editable:!e.pipeline.instanceFromTemplate&&"CONSTRAINT"!==e.templateType}}):e._e()],1)],2):e._e()],1)},a=[];i._withStripped=!0,n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return a}))},"P/XC":function(e,t,n){"use strict";n.r(t);var i=n("uKoZ"),a=n("ZM23");for(var r in a)"default"!==r&&function(e){n.d(t,e,(function(){return a[e]}))}(r);var s=n("psIG"),o=Object(s.a)(a.default,i.a,i.b,!1,null,null,null);o.options.__file="src/components/AtomPropertyPanel/IosCertInstall.vue",t.default=o.exports},PGTu:function(e,t,n){},Pfde:function(e,t,n){"use strict";var i=n("kXUh");n.n(i).a},PiNE:function(e,t,n){"use strict";n.r(t);var i=n("hN9/"),a=n("vRhp");for(var r in a)"default"!==r&&function(e){n.d(t,e,(function(){return a[e]}))}(r);n("37Zv");var s=n("psIG"),o=Object(s.a)(a.default,i.a,i.b,!1,null,"771fbda2",null);o.options.__file="src/components/template/templateTable.vue",t.default=o.exports},Pisl:function(e,t,n){},PoQr:function(e,t,n){"use strict";var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("section",{staticStyle:{"pointer-events":"all"}},[n("div",{class:["ace-fullscreen",{active:e.isFullScreen}],attrs:{alt:"全屏",title:"全屏"},on:{click:e.setFullScreen}},[n("i",{staticClass:"bk-icon",class:e.isFullScreen?"icon-un-full-screen":"icon-full-screen"})]),e._v(" "),n("ace",{staticClass:"ace-wrapper",attrs:{"read-only":e.disabled,value:e.value,lang:e.lang,name:e.name,"full-screen":e.isFullScreen,height:e.height,width:"100%"},on:{input:e.handleScriptInput}})],1)},a=[];i._withStripped=!0,n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return a}))},PrK5:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=l(n("Kz1y")),a=l(n("06Hw")),r=l(n("YYXh")),s=l(n("q7rD")),o=l(n("eI+G"));function l(e){return e&&e.__esModule?e:{default:e}}t.default={components:{VuexInput:o.default},mixins:[s.default],props:{value:{type:Object,default:[]}},data:function(){return{paramList:[]}},watch:{value:function(e){this.paramList=e}},created:function(){var e=this;return(0,r.default)(a.default.mark((function t(){return a.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.paramList=e.value;case 1:case"end":return t.stop()}}),t,e)})))()},methods:{handleParamChange:function(e,t){var n={key:e,value:t};this.paramList.map((function(t,a){t.key.toString()===e&&(0,i.default)(t,n)})),this.handleChange(this.name,this.paramList)}}}},"Q2/q":function(e,t,n){"use strict";n.r(t);var i=n("ZMa+"),a=n("hAt0");for(var r in a)"default"!==r&&function(e){n.d(t,e,(function(){return a[e]}))}(r);var s=n("psIG"),o=Object(s.a)(a.default,i.a,i.b,!1,null,null,null);o.options.__file="src/components/AtomPropertyPanel/CodePullGitX.vue",t.default=o.exports},QEyX:function(e,t,n){"use strict";n.r(t);var i=n("F75d"),a=n("yY28");for(var r in a)"default"!==r&&function(e){n.d(t,e,(function(){return a[e]}))}(r);var s=n("psIG"),o=Object(s.a)(a.default,i.a,i.b,!1,null,null,null);o.options.__file="src/components/AtomPropertyPanel/PushImageToThirdRepo.vue",t.default=o.exports},QFuk:function(e,t,n){"use strict";n.r(t);var i=n("+h6E"),a=n("yTbM");for(var r in a)"default"!==r&&function(e){n.d(t,e,(function(){return a[e]}))}(r);n("Xqbb");var s=n("psIG"),o=Object(s.a)(a.default,i.a,i.b,!1,null,null,null);o.options.__file="src/components/template/instance-pipeline-name.vue",t.default=o.exports},QsYu:function(e,t,n){"use strict";n.r(t);var i=n("APWq"),a=n("vYsh");for(var r in a)"default"!==r&&function(e){n.d(t,e,(function(){return a[e]}))}(r);var s=n("psIG"),o=Object(s.a)(a.default,i.a,i.b,!1,null,null,null);o.options.__file="src/components/AtomPropertyPanel/ReportArchive.vue",t.default=o.exports},Qv5w:function(e,t,n){"use strict";var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{class:{"soda-accordion":!0,"is-danger":e.isError,showCheckbox:e.showCheckbox}},[n("header",{staticClass:"header",attrs:{active:e.isShow},on:{click:e.toggleContent}},[n("i",{staticClass:"bk-icon icon-angle-down"}),e._v(" "),e._t("header")],2),e._v(" "),n("transition",{attrs:{name:"slideLeft"}},[e.condition?n("section",[e.isShow?n("section",{staticClass:"content"},[e._t("content")],2):e._e()]):n("section",[n("section",{directives:[{name:"show",rawName:"v-show",value:e.isShow,expression:"isShow"}],staticClass:"content"},[e._t("content")],2)])])],1)},a=[];i._withStripped=!0,n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return a}))},Qx9U:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=c(n("/9Wh")),a=c(n("TcPG")),r=c(n("Kz1y")),s=n("WIBD"),o=c(n("WyVq")),l=c(n("0w5d")),u=n("GBhW");function c(e){return e&&e.__esModule?e:{default:e}}t.default={name:"job-mutual",mixins:[o.default,l.default],props:{mutexGroup:{type:Object,default:{}},disabled:{type:Boolean,default:!1},updateContainerParams:{type:Function,required:!0}},computed:{optionModel:function(){return u.JOB_MUTUAL||{}},enableMutual:function(){return this.mutexGroup&&this.mutexGroup.enable}},created:function(){this.disabled||this.initOptionConfig()},methods:(0,r.default)({},(0,s.mapActions)("atom",["setPipelineEditing"]),{getJobOptionDefault:u.getJobOptionDefault,handleUpdateJobMutual:function(e,t){this.setPipelineEditing(!0),this.updateContainerParams("mutexGroup",(0,r.default)(this.mutexGroup||{},(0,a.default)({},e,t)))},toggleMutual:function(e){var t=e.target.checked;this.handleUpdateJobMutual("enable",t)},initOptionConfig:function(){void 0!==this.mutexGroup&&"{}"!==(0,i.default)(this.mutexGroup)||this.updateContainerParams("mutexGroup",this.getJobOptionDefault(u.JOB_MUTUAL))}})}},RKWf:function(e,t,n){},RSyJ:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=r(n("06Hw")),a=r(n("YYXh"));function r(e){return e&&e.__esModule?e:{default:e}}t.default={directives:{focus:{inserted:function(e){e.focus()}}},props:{showInstanceCreate:Boolean},data:function(){return{pipelineName:"",instanceDialogConfig:{loading:!1,hasHeader:!1,hasFooter:!1,closeIcon:!1,quickClose:!1}}},computed:{projectId:function(){return this.$route.params.projectId}},watch:{showInstanceCreate:function(e){e||(this.pipelineName="")}},methods:{confirm:function(){var e=this;return(0,a.default)(i.default.mark((function t(){var n,a;return i.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.$validator.validate();case 2:if(!t.sent){t.next=21;break}return n=void 0,a=void 0,e.instanceDialogConfig.isLoading=!0,t.prev=6,t.next=9,e.$store.dispatch("pipelines/checkPipelineName",{projectId:e.projectId,pipelineName:e.pipelineName.trim()});case 9:t.sent||e.$parent.pipelineNameList.some((function(t){return t.pipelineName===e.pipelineName.trim()}))?(n="流水线名称已存在",a="error"):e.$emit("comfire",e.pipelineName.trim()),t.next=17;break;case 13:t.prev=13,t.t0=t.catch(6),n=t.t0.message||t.t0,a="error";case 17:return t.prev=17,n&&e.$showTips({message:n,theme:a}),e.instanceDialogConfig.isLoading=!1,t.finish(17);case 21:case"end":return t.stop()}}),t,e,[[6,13,17,21]])})))()},isFocus:function(){return this.showInstanceCreate},cancel:function(){this.$emit("cancel")}}}},RcsO:function(e,t,n){"use strict";n.r(t);var i=n("B01n"),a=n("00Av");for(var r in a)"default"!==r&&function(e){n.d(t,e,(function(){return a[e]}))}(r);n("hUON");var s=n("psIG"),o=Object(s.a)(a.default,i.a,i.b,!1,null,null,null);o.options.__file="src/components/template/instance-message.vue",t.default=o.exports},Rq9r:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=r(n("1kG9")),a=r(n("YuEV"));function r(e){return e&&e.__esModule?e:{default:e}}t.default={components:{Stages:i.default,KeyValueNormal:a.default},props:{showComparedInstance:Boolean,loading:Boolean,instanceVersion:String,curVersion:String,versionList:Array,curParamsList:Array,curTplParamsList:Array,targetParamsList:Array,targetTplParamsList:Array,curStages:Array,targetStages:Array,selectedVersion:Function},data:function(){return{comparedDialogConfig:{hasHeader:!1,hasFooter:!1,closeIcon:!1,quickClose:!1}}},methods:{cancelHandler:function(){this.$emit("cancel")}}}},RrVk:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={name:"accordion",props:{afterToggle:Function,showContent:{type:Boolean,default:!1},showCheckbox:{type:Boolean,default:!1},isError:{type:Boolean,default:!1},isVersion:{type:Boolean,default:!1},condition:{type:Boolean,default:!1}},data:function(){return{isShow:this.showContent}},watch:{showContent:function(e){this.isShow=e}},methods:{toggleContent:function(){this.isVersion?this.isShow=this.showContent?!this.isShow:this.isShow:this.isShow=!this.isShow,"function"==typeof this.afterToggle&&this.afterToggle(this.$el,this.isShow)}}}},S6TM:function(e,t,n){"use strict";var i=n("CSB3");n.n(i).a},SAjW:function(e,t,n){"use strict";var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{directives:[{name:"bk-clickoutside",rawName:"v-bk-clickoutside",value:e.handleBlur,expression:"handleBlur"}],staticClass:"select-input"},[n("input",e._b({ref:"inputArea",staticClass:"bk-form-input",attrs:{disabled:e.disabled||e.loading,title:e.value,autocomplete:"off"},on:{input:e.handleInput,focus:e.handleFocus,keypress:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:(t.preventDefault(),e.handleEnterOption(t))},keydown:[function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"up",38,t.key,["Up","ArrowUp"])?null:(t.preventDefault(),e.handleKeyup(t))},function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"down",40,t.key,["Down","ArrowDown"])?null:(t.preventDefault(),e.handleKeydown(t))},function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"tab",9,t.key,"Tab")?null:(t.preventDefault(),e.handleBlur(t))}]}},"input",e.restProps,!1)),e._v(" "),e.loading?n("i",{staticClass:"bk-icon icon-circle-2-1 option-fetching-icon spin-icon"}):!e.disabled&&e.value?n("i",{staticClass:"bk-icon icon-close-circle-shape option-fetching-icon",on:{click:function(t){return t.stopPropagation(),e.clearValue(t)}}}):e._e(),e._v(" "),n("div",{directives:[{name:"show",rawName:"v-show",value:e.hasOption&&e.optionListVisible&&!e.loading,expression:"hasOption && optionListVisible && !loading"}],ref:"dropMenu",staticClass:"dropbox-container"},[n("ul",e._l(e.filteredList,(function(t,i){return n("li",{key:t.id,class:{active:t.id===e.value,selected:e.selectedPointer===i},attrs:{disabled:t.disabled,title:t.name},on:{click:function(n){return n.stopPropagation(),e.selectOption(t)},mouseover:function(t){return e.setSelectPointer(i)}}},[e._v("\n                "+e._s(t.name)+"\n            ")])})),0)])])},a=[];i._withStripped=!0,n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return a}))},SJhp:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=o(n("06Hw")),a=o(n("YYXh")),r=o(n("q7rD")),s=o(n("eI+G"));function o(e){return e&&e.__esModule?e:{default:e}}t.default={name:"svnpath-input",components:{VuexInput:s.default},mixins:[r.default],props:{repositoryHashId:{type:String},value:{type:String},list:{type:Array,default:[]}},data:function(){return{fullPath:"",rootPath:""}},computed:{projectId:function(){return this.$route.params.projectId}},watch:{value:function(e){this.fullPath="",e&&this.rootPath&&this.setFullPath(this.rootPath,e)},rootPath:function(e){this.fullPath="",e&&this.value&&this.setFullPath(e,this.value)},repositoryHashId:function(e){this.rootPath="",this.setRootPath(e)},list:{deep:!0,handler:function(e,t){(""===this.rootPath||0===t.length)&&this.repositoryHashId&&this.setRootPath(this.repositoryHashId)}}},created:function(){var e=this;return(0,a.default)(i.default.mark((function t(){return i.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.repositoryHashId&&e.list.length&&e.setRootPath(e.repositoryHashId);case 1:case"end":return t.stop()}}),t,e)})))()},methods:{setRootPath:function(e){var t=this.list.filter((function(t){return t.repositoryHashId===e}));t.length&&(this.rootPath=t[0].url||"")},setFullPath:function(e,t){this.fullPath=e.replace(/\/$/,"")+"/"+t.replace(/^\//,"")}}}},SOFi:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i,a=n("tZmG"),r=(i=a)&&i.__esModule?i:{default:i};t.default={name:"container-app-selector",props:{apps:{type:Object,default:function(){return{}},required:!0},disabled:{type:Boolean,default:!1},handleChange:{type:Function,required:!1},envs:{type:Object},app:{type:String},version:{type:String},removeContainerApp:{type:Function},addContainerApp:{type:Function}},computed:{isLoading:function(){return!this.apps},appList:function(){var e=this.envs?(0,r.default)(this.envs):[];return this.isLoading?[]:(0,r.default)(this.apps).map((function(t){return{id:t,name:t,disalbed:e.indexOf(t)>-1}}))},versionList:function(){var e=this.app,t=this.apps;return t[e]?t[e].versions.map((function(e){return{id:e,name:e}})):[]}},methods:{handleAppSelector:function(e){this.handleChange(this.app,e,"")},handleVersionSelector:function(e){this.handleChange(this.app,this.app,e)}}}},SuKS:function(e,t,n){"use strict";n.r(t);var i=n("5An/"),a=n("AfBu");for(var r in a)"default"!==r&&function(e){n.d(t,e,(function(){return a[e]}))}(r);n("S6TM");var s=n("psIG"),o=Object(s.a)(a.default,i.a,i.b,!1,null,null,null);o.options.__file="src/components/ContainerPropertyPanel/index.vue",t.default=o.exports},SvME:function(e,t,n){var i=n("lBnu"),a=n("/Lgp"),r=n("T/1i"),s=n("kBaS").f;e.exports=function(e){return function(t){for(var n,o=r(t),l=a(o),u=l.length,c=0,d=[];u>c;)n=l[c++],i&&!s.call(o,n)||d.push(e?[n,o[n]]:o[n]);return d}}},Syue:function(e,t,n){"use strict";var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"bk-tag-selector"},[n("input",{staticClass:"bk-form-input",attrs:{type:"text",autocomplete:"off",name:e.name,placeholder:e.placeholder},domProps:{value:e.selectedText},on:{input:e.input,mousedown:e.focus,blur:e.hideAll}}),e._v(" "),n("div",{directives:[{name:"show",rawName:"v-show",value:(e.showList||e.openList)&&e.localList.length,expression:"(showList || openList) && localList.length"}],staticClass:"bk-selector-list"},[n("ul",e._l(e.list,(function(t,i){return n("li",{key:i,staticClass:"bk-selector-list-item",class:e.activeClass(i),on:{click:function(n){return n.stopPropagation(),e.selectList(t)}}},[n("div",{staticClass:"bk-selector-node"},[n("div",{staticClass:"text"},[e._v(e._s(t[e.displayKey]))])])])})),0)])])},a=[];i._withStripped=!0,n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return a}))},T03v:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=c(n("06Hw")),a=c(n("YYXh")),r=c(n("/9Wh")),s=c(n("Kz1y")),o=n("WIBD"),l=c(n("32o7")),u=c(n("66h0"));function c(e){return e&&e.__esModule?e:{default:e}}t.default={components:{FormField:l.default},props:{isDisabled:{type:Boolean,default:!1}},data:function(){return{noPermission:!1,isEditing:!1,isLoading:!0,resetFlag:!1,runTypeList:[{label:"可同时运行多个构建任务",value:"MULTIPLE"},{label:"锁定流水线，任何触发方式都无法运行",value:"LOCK"},{label:"同一时间最多只能运行一个构建任务",value:"SINGLE"}]}},computed:(0,s.default)({},(0,o.mapState)("soda",["pipelineSetting"]),(0,o.mapGetters)({tagGroupList:"pipelines/getTagGroupList"}),{projectId:function(){return this.$route.params.projectId},pipelineId:function(){return this.$route.params.pipelineId},templateId:function(){return this.$route.params.templateId},routeName:function(){return this.$route.name},grouInlineCol:function(){var e={},t="group-inline ";return e[t+=this.tagGroupList.length<3?this.tagGroupList.length<2?"":"column-2":"column-3"]=!0,e}}),watch:{pipelineSetting:{deep:!0,handler:function(e,t){void 0!==this.pipelineSetting.hasPermission&&!1===this.pipelineSetting.hasPermission?this.noPermission=!0:this.noPermission=!1,this.isLoading=!1,this.isEditing||"{}"===(0,r.default)(t)||null===e||this.resetFlag||(this.isEditing=!0),this.resetFlag=!1,this.isStateChange()}}},created:function(){var e=this;this.requestTemplateSetting(this.$route.params),this.requestGrouptLists(),this.clipboard=new u.default(".copy-icon").on("success",(function(t){e.$showTips({theme:"success",message:"内容复制成功"})}))},beforeDestroy:function(){this.clipboard.destroy()},methods:(0,s.default)({},(0,o.mapActions)("soda",["requestTemplateSetting"]),{isStateChange:function(){this.$emit("setState",{isLoading:this.isLoading,isEditing:this.isEditing})},exit:function(){this.$emit("cancel")},requestGrouptLists:function(){var e=this;return(0,a.default)(i.default.mark((function t(){var n,a;return i.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.$store,a=void 0,t.prev=2,t.next=5,n.dispatch("pipelines/requestGetGroupLists",{projectId:e.projectId});case 5:a=t.sent,n.commit("pipelines/updateGroupLists",a),e.dataList=e.tagGroupList,t.next=13;break;case 10:t.prev=10,t.t0=t.catch(2),e.$showTips({message:t.t0.message||t.t0,theme:"error"});case 13:case"end":return t.stop()}}),t,e,[[2,10]])})))()},savePipelineSetting:function(){var e=this;return(0,a.default)(i.default.mark((function t(){var n,a,r;return i.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!e.errors.any()){t.next=2;break}return t.abrupt("return");case 2:return e.isDisabled=!0,n=void 0,a=void 0,t.prev=5,r=e.pipelineSetting,(0,s.default)(r,{projectId:e.projectId}),t.next=10,e.$ajax.put("/process/api/user/templates/projects/"+e.projectId+"/templates/"+e.templateId+"/settings",r);case 10:(a=t.sent)&&a.data?(e.$showTips({message:r.pipelineName+"修改成功",theme:"success"}),e.isEditing=!1,e.isStateChange(),n=!0):e.$showTips({message:r.pipelineName+"修改失败",theme:"error"}),t.next=18;break;case 14:t.prev=14,t.t0=t.catch(5),"templateSetting"!==e.routeName&&403===t.t0.code?e.$showAskPermissionDialog({noPermissionList:[{resource:"流水线: "+e.pipelineSetting.pipelineName,option:"编辑"}],applyPermissionUrl:PERM_URL_PIRFIX+"/backend/api/perm/apply/subsystem/?client_id=pipeline&project_code="+e.projectId+"&service_code=pipeline&role_manager=pipeline:"+e.pipelineId}):e.$showTips({message:t.t0.message||t.t0,theme:"error"}),n=!1;case 18:return e.isDisabled=!1,t.abrupt("return",n);case 20:case"end":return t.stop()}}),t,e,[[5,14]])})))()}})}},T6tY:function(e,t,n){"use strict";var i=n("EQL2");n.n(i).a},TAzd:function(e,t,n){"use strict";var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"container-app-selector"},[n("bk-select",{attrs:{searchable:"",clearable:!1,disabled:e.disabled,loading:e.isLoading,value:e.app},on:{selected:e.handleAppSelector}},e._l(e.appList,(function(e){return n("bk-option",{key:e.id,attrs:{id:e.id,name:e.name,disabled:e.disalbed}})})),1),e._v(" "),n("bk-select",{attrs:{searchable:"",disabled:e.disabled,value:e.version},on:{selected:e.handleVersionSelector}},e._l(e.versionList,(function(e){return n("bk-option",{key:e.id,attrs:{id:e.id,name:e.name}})})),1),e._v(" "),e.addContainerApp&&!e.disabled?n("i",{staticClass:"bk-icon icon-plus",on:{click:e.addContainerApp}}):e._e(),e._v(" "),e.removeContainerApp&&!e.disabled?n("i",{staticClass:"bk-icon icon-minus",on:{click:function(t){return e.removeContainerApp(e.app)}}}):e._e()],1)},a=[];i._withStripped=!0,n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return a}))},TMp7:function(e,t,n){"use strict";var i=function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"experience-input"},[t("vuex-input",this._b({},"vuex-input",this.$props,!1)),this._v(" "),t("span",{staticClass:"experience-input-link",on:{click:this.goToArtifactory}},[this._v("查看仓库")])],1)},a=[];i._withStripped=!0,n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return a}))},ThMH:function(e,t,n){},TkSp:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=s(n("/9Wh")),a=s(n("WyVq")),r=s(n("0w5d"));function s(e){return e&&e.__esModule?e:{default:e}}t.default={name:"normal-atom",mixins:[a.default,r.default],data:function(){return{isShowEmailNotice:!1,optionalModel:["emailReceivers","emailTitle"]}},computed:{commonModel:function(){if("reportArchiveService"===this.element["@type"]){var e=this.newModel;return{row:{nodeId:e.nodeId,fileDir:e.fileDir,indexFile:e.indexFile,reportName:e.reportName}}}var t=this.newModel;return{row:{fileDir:t.fileDir,indexFile:t.indexFile,reportName:t.reportName}}}},created:function(){this.newModel=JSON.parse((0,i.default)(this.atomPropsModel)),this.element.enableEmail?this.isShowEmailNotice=!0:(this.handleUpdateElement("enableEmail",!1),this.handleUpdateElement("emailReceivers",[]),this.handleUpdateElement("emailTitle","【${pipeline.name}】  #${pipeline.build.num} 自定义报告已归档"))},methods:{toggleEmailNotice:function(e,t){t?(this.handleUpdateElement("enableEmail",!0),this.isShowEmailNotice=!0):(this.handleUpdateElement("enableEmail",!1),this.isShowEmailNotice=!1)}}}},"Tu/O":function(e,t,n){"use strict";var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{directives:[{name:"bkloading",rawName:"v-bkloading",value:{isLoading:e.loading.isLoading,title:e.loading.title},expression:"{\n        isLoading: loading.isLoading,\n        title: loading.title\n    }"}],staticClass:"biz-container pipeline-subpages create-instance-wrapper"},[n("inner-header",[n("div",{staticClass:"instance-header",attrs:{slot:"left"},slot:"left"},[n("span",{staticClass:"inner-header-title",attrs:{slot:"left"},slot:"left"},[n("i",{staticClass:"bk-icon icon-angle-left",on:{click:function(t){return e.toInstanceManage()}}}),e._v("模板实例化")])])]),e._v(" "),e.showContent?n("div",{staticClass:"sub-view-port"},[n("div",{staticClass:"template-information"},[n("div",{staticClass:"template-introduction"},[n("logo",{staticClass:"template-logo",attrs:{name:"pipeline"}}),e._v(" "),n("div",{staticClass:"template-name"},[e._v(e._s(e.template.templateName))]),e._v(" "),n("div",{staticClass:"template-creator"},[n("span",[e._v("创建人：")]),e._v(e._s(e.template.creator))]),e._v(" "),n("div",{staticClass:"template-brief"},[n("label",[e._v("简介：")]),e._v(" "),n("p",[e._v(e._s(e.template.description))])])],1),e._v(" "),n("div",{staticClass:"template-pipeline-conf"},[n("div",{staticClass:"template-version-handler"},[n("label",{staticClass:"conf-title"},[e._v("模板集版本")]),e._v(" "),n("div",{staticClass:"select-row"},[n("bk-select",{staticStyle:{width:"320px"},model:{value:e.instanceVersion,callback:function(t){e.instanceVersion=t},expression:"instanceVersion"}},e._l(e.versionList,(function(e,t){return n("bk-option",{key:t,attrs:{id:e.version,name:e.versionName}})})),1),e._v(" "),e.hashVal?e._e():n("label",{staticClass:"bk-form-checkbox template-setting-checkbox"},[n("bk-checkbox",{model:{value:e.isTemplateSetting,callback:function(t){e.isTemplateSetting=t},expression:"isTemplateSetting"}},[e._v("\n                                同时应用模板设置\n                            ")]),e._v(" "),n("bk-popover",{attrs:{placement:"top"}},[n("i",{staticClass:"bk-icon icon-info-circle"}),e._v(" "),n("div",{staticStyle:{"white-space":"pre-wrap","min-width":"200px"},attrs:{slot:"content"},slot:"content"},[n("div",[e._v("勾选则表示把模板的设置应用到实例化的流水线")])])])],1)],1)]),e._v(" "),n("div",{staticClass:"cut-line"}),e._v(" "),n("div",{staticClass:"instance-pipeline"},[n("label",{staticClass:"conf-title"},[e._v("实例化流水线名称")]),e._v(" "),n("div",{staticClass:"pipeline-name-box"},[e._l(e.pipelineNameList,(function(t,i){return n("div",{key:i,class:{"pipeline-item":!0,"active-item":t.selected,"unselect-hover":!t.selected},on:{click:function(t){return e.lastCilckPipeline(i)}}},[e._v(e._s(t.pipelineName)+"\n                            "),e.hashVal?e._e():n("i",{staticClass:"delete-btn",on:{click:function(t){return e.deletePipelineName(i)}}})])})),e._v(" "),e.hashVal?e._e():n("div",{staticClass:"pipeline-item add-item",on:{click:function(t){return e.addPipelineName()}}},[n("i",{staticClass:"plus-icon"}),e._v(" "),n("span",[e._v("新建流水线实例")])])],2)])])]),e._v(" "),e.pipelineNameList.length?n("div",{staticClass:"pipeline-instance-conf"},e._l(e.pipelineNameList,(function(t,i){return n("section",{key:i},[t.pipelineName===e.currentPipelineParams.pipelineName?[t.buildParams?n("section",{staticClass:"params-item"},[n("div",{staticClass:"info-title"},[n("span",[e._v(e._s(e.currentPipelineParams.pipelineName))]),e._v("的版本号设置")]),e._v(" "),t.buildParams?n("div",{staticClass:"build-params-content"},[n("div",{staticClass:"buildNo-params-content"},[n("pipeline-params-form",{ref:"paramsForm"+i,refInFor:!0,attrs:{"param-values":t.paramValues,"handle-param-change":e.handleParamChange,params:t.versionParams}})],1),e._v(" "),n("div",{ref:"buildForm",refInFor:!0,staticClass:"params-flex-col"},[n("form-field",{attrs:{required:!0,label:"构建号"}},[n("vuex-input",{directives:[{name:"validate",rawName:"v-validate.initial",value:"required|numeric",expression:'"required|numeric"',modifiers:{initial:!0}}],attrs:{disabled:e.disabled,"input-type":"number",name:"buildNo",placeholder:"BuildNo",value:t.buildParams.buildNo,"handle-change":e.handleBuildNoChange}}),e._v(" "),e.errors.has("buildNo")?n("p",{class:e.errors.has("buildNo")?"error-tips":"normal-tips"},[e._v("构建号不能为空")]):e._e()],1),e._v(" "),n("form-field",{staticClass:"flex-colspan-2",attrs:{required:!0,"is-error":e.errors.has("buildNoType"),"error-msg":e.errors.first("buildNoType")}},[n("enum-input",{directives:[{name:"validate",rawName:"v-validate.initial",value:"required|string",expression:'"required|string"',modifiers:{initial:!0}}],attrs:{list:e.buildNoRules,disabled:e.disabled,name:"buildNoType",value:t.buildParams.buildNoType,"handle-change":e.handleBuildNoChange}})],1)],1)]):e._e()]):e._e(),e._v(" "),t.params&&t.params.filter((function(t){return-1===e.buildNoParams.indexOf(t.id)})).length?n("section",{staticClass:"params-item"},[n("div",{staticClass:"info-title"},[n("span",[e._v(e._s(e.currentPipelineParams.pipelineName))]),e._v("的流水线变量")]),e._v(" "),n("div",{staticClass:"pipeline-params-content"},[n("pipeline-params-form",{ref:"paramsForm"+i,refInFor:!0,attrs:{"param-values":t.paramValues,"handle-param-change":e.handleParamChange,params:t.pipelineParams}})],1)]):e._e(),e._v(" "),e.templateParamList.length?n("section",{staticClass:"params-item"},[n("div",{staticClass:"info-title"},[n("span",[e._v(e._s(e.currentPipelineParams.pipelineName))]),e._v("的模板常量")]),e._v(" "),n("div",{staticClass:"pipeline-params-content template-params-content"},[n("pipeline-params-form",{ref:"paramsForm"+i,refInFor:!0,attrs:{disabled:!0,"param-values":e.templateParamValues,params:e.templateParamList}})],1)]):e._e()]:e._e()],2)})),0):e._e(),e._v(" "),n("div",{staticClass:"create-instance-footer"},[n("bk-button",{attrs:{theme:"primary",size:"normal"},on:{click:function(t){return e.submit()}}},[n("span",[e._v("实例化")])]),e._v(" "),n("span",{staticClass:"cancel-btn",on:{click:function(t){return e.toInstanceManage()}}},[e._v("取消")])],1)]):e._e(),e._v(" "),n("instance-pipeline-name",{attrs:{"show-instance-create":e.showInstanceCreate},on:{comfire:e.comfireHandler,cancel:e.cancelHandler}}),e._v(" "),n("instance-message",{attrs:{"show-instance-message":e.showInstanceMessage,"success-list":e.successList,"fail-list":e.failList,"fail-message":e.failMessage},on:{cancel:e.cancelMessage}})],1)},a=[];i._withStripped=!0,n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return a}))},U7Yr:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=r(n("eI+G")),a=r(n("q7rD"));function r(e){return e&&e.__esModule?e:{default:e}}t.default={name:"experience-input",components:{VuexInput:i.default},mixins:[a.default],props:{placeholder:String},computed:{artifactoryUrl:function(){return WEB_URL_PIRFIX+"/artifactory/"}},methods:{goToArtifactory:function(){window.open(this.artifactoryUrl,"_blank")}}}},"UR+t":function(e,t,n){"use strict";n.r(t);var i=n("3s8N"),a=n.n(i);for(var r in i)"default"!==r&&function(e){n.d(t,e,(function(){return i[e]}))}(r);t.default=a.a},USIQ:function(e,t,n){"use strict";n.r(t);var i=n("2IHQ"),a=n("MYVi");for(var r in a)"default"!==r&&function(e){n.d(t,e,(function(){return a[e]}))}(r);var s=n("psIG"),o=Object(s.a)(a.default,i.a,i.b,!1,null,null,null);o.options.__file="src/components/AtomPropertyPanel/CodeGitWebHookTrigger.vue",t.default=o.exports},UWGG:function(e,t,n){},UqLN:function(e,t,n){"use strict";n.r(t);var i=n("ytIF"),a=n("MXo5");for(var r in a)"default"!==r&&function(e){n.d(t,e,(function(){return a[e]}))}(r);n("m1ID");var s=n("psIG"),o=Object(s.a)(a.default,i.a,i.b,!1,null,null,null);o.options.__file="src/components/AtomPropertyPanel/index.vue",t.default=o.exports},V8n5:function(e,t,n){"use strict";n.r(t);var i=n("yqy6"),a=n("/eFY");for(var r in a)"default"!==r&&function(e){n.d(t,e,(function(){return a[e]}))}(r);n("f3nD");var s=n("psIG"),o=Object(s.a)(a.default,i.a,i.b,!1,null,"283beb88",null);o.options.__file="src/components/AtomPropertyPanel/BuildScript.vue",t.default=o.exports},VBMx:function(e,t,n){"use strict";n.r(t);var i=n("LfKL"),a=n.n(i);for(var r in i)"default"!==r&&function(e){n.d(t,e,(function(){return i[e]}))}(r);t.default=a.a},VKer:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=u(n("TcPG")),a=u(n("Kz1y")),r=n("WIBD"),s=u(n("WyVq")),o=u(n("0w5d")),l=n("ygAv");function u(e){return e&&e.__esModule?e:{default:e}}t.default={name:"u3d-build-code",mixins:[s.default,o.default],computed:(0,a.default)({},(0,r.mapGetters)("atom",["getPlatformList"]),{commonModel:function(){var e=this.atomPropsModel;return{row:{debug:e.debug,rootDir:e.rootDir,executeMethod:e.executeMethod}}},beloneKeys:function(){return{ANDROID:["certId","apkPath","apkName"],IPHONE:["enableBitCode","xcodeProjectName"]}}}),methods:{checkPlateform:function(e){return this.element.platform&&this.element.platform.includes(e)},updateProps:function(e){this.updateAtom({element:this.element,newParam:e})},togglePlatform:function(e,t){var n=e.querySelector(".accordion-checkbox").getAttribute("value"),i=(0,l.deepCopy)(this.element.platform);t?i.push(n):i=i.filter((function(e){return e!==n})),this.handleUpdateElement("platform",i)},filter:function(e,t){return e.filter((function(e){return t.indexOf(e)<0}))},updatePlatform:function(e){var t=this,n=this.element,i=this.atomPropsModel,a={platform:e},r="";if((n.platform.length-e.length||0)>0){var s=this.filter(n.platform,e);s&&(r=s[0]),r&&this.beloneKeys[r].map((function(e){t.deletePropKey({element:n,propKey:e})}))}else{var o=this.filter(e,n.platform);o&&(r=o[0]),r&&this.beloneKeys[r].reduce((function(e,t){return e[t]=i[t].default,e}),a)}this.updateProps(a)},handleUpdateElement:function(e,t){"platform"===e?this.updatePlatform(t):this.updateProps((0,i.default)({},e,t))}}}},Vu7B:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=g(n("TcPG")),a=g(n("tZmG")),r=g(n("Kz1y")),s=n("WIBD"),o=g(n("i7/w")),l=g(n("eI+G")),u=g(n("xBA8")),c=g(n("32o7")),d=g(n("1ZCx")),p=g(n("iBXJ")),f=g(n("Kjy/")),m=g(n("iLMM")),h=g(n("lwuc")),v=g(n("ewgn"));function g(e){return e&&e.__esModule?e:{default:e}}t.default={name:"container-property-panel",components:{VuexInput:l.default,FormField:c.default,ContainerAppSelector:d.default,BuildParams:f.default,VersionConfig:m.default,ContainerEnvNode:p.default,JobOption:h.default,JobMutual:v.default,Selector:u.default},props:{containerIndex:Number,stageIndex:Number,stages:Array,editable:Boolean},data:function(){return{DOCS_URL_PREFIX:DOCS_URL_PREFIX}},computed:(0,r.default)({},(0,s.mapGetters)("atom",["getAppEnvs","getContainerApps","getContainer","getContainers","getStage","isVmContainer","isTriggerContainer","isNormalContainer","getBuildResourceTypeList","execDetail","getContainerModalId","isThirdPartyContainer","isPublicResource","isDockerBuildResource"]),(0,s.mapState)("soda",["tstackWhiteList"]),{appEnvs:function(){return this.getAppEnvs(this.container.baseOS)},routeName:function(){return this.$route.name},projectId:function(){return this.$route.params.projectId},pipelineId:function(){return this.$route.params.pipelineId},buildId:function(){return this.$route.params.buildNo},stage:function(){var e=this.stageIndex,t=this.stages;return this.getStage(t,e)},containers:function(){var e=this.stage;return(0,this.getContainers)(e)},container:function(){var e=this.containers,t=this.containerIndex;return this.getContainer(e,t)},isPublicResourceType:function(){return this.isPublicResource(this.container)},isThirdParty:function(){return this.isThirdPartyContainer(this.container)},isDocker:function(){return this.isDockerBuildResource(this.container)},containerModalId:function(){var e=this.container.baseOS;return(0,this.getContainerModalId)(e)},hasBuildEnv:function(){return(0,a.default)(this.container.buildEnv).length>0},buildResourceType:function(){try{return this.container.dispatchType.buildType}catch(e){return""}},buildResource:function(){return this.container.dispatchType.value},apps:function(){var e=this.container.baseOS;return(0,this.getContainerApps)(e)},showDependencies:function(){var e=this,t=this.buildResourceTypeList.find((function(t){return t.type===e.buildResourceType}));return this.apps&&t&&t.enableApp},buildResourceTypeList:function(){var e=this.container.baseOS;return(0,this.getBuildResourceTypeList)(e)},containerAppList:function(){var e=this.apps,t=this.container.buildEnv,n=(0,a.default)(t);return(0,a.default)(e).filter((function(e){return!n.includes(e)}))},enableExt:function(){return this.$store.state.curProject.enableExternal||!1}}),watch:{errors:{deep:!0,handler:function(e,t){var n=e.any();this.handleContainerChange("isError",n)}}},created:function(){var e=this.container;this.isTriggerContainer(e)&&void 0===this.container.templateParams&&o.default.set(e,"templateParams",[]),this.isTriggerContainer(e)&&void 0===this.container.buildNo&&o.default.set(e,"buildNo",null),this.isTriggerContainer(e)||void 0!==this.container.jobControlOption||o.default.set(e,"jobControlOption",{}),this.isTriggerContainer(e)||void 0!==this.container.mutexGroup||o.default.set(e,"mutexGroup",{})},methods:(0,r.default)({},(0,s.mapActions)("atom",["updateContainer","deleteContainer","deleteStage"]),{setContainerValidate:function(e,t){var n=this.errors;e&&e.length&&e.map((function(e){n&&n.items.every((function(t){return t.field!==e.field}))&&n.add({field:e.field,msg:e.msg})})),t&&t.length&&t.map((function(e){return n.remove(e.field)}));var i=!!n.items.length;this.handleContainerChange("isError",i)},handleDelete:function(){var e=this.containerIndex,t=this.containers,n=this.stageIndex,i=this.stages;1===t.length?this.deleteStage({stageIndex:n,stages:i}):this.deleteContainer({containerIndex:e,containers:t})},changeBuildResource:function(e,t){var n="buildType"===e?{value:""}:{};this.handleContainerChange("dispatchType",(0,r.default)((0,r.default)({},this.container.dispatchType,(0,i.default)({},e,t)),n)),this.handleContainerChange("buildEnv",{})},handleContainerChange:function(e,t){this.updateContainer({container:this.container,newParam:(0,i.default)({},e,t)})},addContainerApp:function(){var e=this.container,t=this.containerAppList[0];this.handleContainerChange("buildEnv",(0,r.default)({},e.buildEnv,(0,i.default)({},t,"")))},removeContainerApp:function(e){var t=this.container;delete t.buildEnv[e],this.handleContainerChange("buildEnv",(0,r.default)({},t.buildEnv))},handleContainerAppChange:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",i=this.container.buildEnv,a=this.apps;e!==t&&i.hasOwnProperty(e)&&delete i[e],i[t]=n||a[t][0],this.handleContainerChange("buildEnv",(0,r.default)({},i))},appBinPath:function(e,t){var n=this.container.baseOS,i=this.apps[t];return i?"LINUX"===n?"export PATH=/data/bkdevops/apps/"+t+"/"+e+"/"+i.binPath+":$PATH":"export PATH=/data/soda/apps/"+t+"/"+e+"/"+i.binPath+":$PATH":""},appEnvPath:function(e,t,n){return"LINUX"===this.container.baseOS?"export "+n.name+"=/data/bkdevops/apps/"+t+"/"+e+"/"+n.path:"export "+n.name+"=/data/soda/apps/"+t+"/"+e+"/"+n.path},addThridSlave:function(){var e=WEB_URL_PIRFIX+"/environment/"+this.projectId+"/nodeList?type="+this.container.baseOS;window.open(e,"_blank")},addDockerImage:function(){var e=WEB_URL_PIRFIX+"/artifactory/"+this.projectId+"/depot/project-image";window.open(e,"_blank")}})}},Wav7:function(e,t,n){"use strict";n.r(t);var i=n("zg3u"),a=n("5myS");for(var r in a)"default"!==r&&function(e){n.d(t,e,(function(){return a[e]}))}(r);n("cRv7");var s=n("psIG"),o=Object(s.a)(a.default,i.a,i.b,!1,null,null,null);o.options.__file="src/components/atomFormField/CodeModeSelector/index.vue",t.default=o.exports},WyVq:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var _defineProperty2=__webpack_require__("TcPG"),_defineProperty3=_interopRequireDefault(_defineProperty2),_extends2=__webpack_require__("Kz1y"),_extends3=_interopRequireDefault(_extends2),_vuex=__webpack_require__("WIBD"),_Accordion=__webpack_require__("MMoO"),_Accordion2=_interopRequireDefault(_Accordion),_EnumInput=__webpack_require__("ZdkB"),_EnumInput2=_interopRequireDefault(_EnumInput),_VuexInput=__webpack_require__("eI+G"),_VuexInput2=_interopRequireDefault(_VuexInput),_ExperienceInput=__webpack_require__("vl+a"),_ExperienceInput2=_interopRequireDefault(_ExperienceInput),_VuexTextarea=__webpack_require__("7rx2"),_VuexTextarea2=_interopRequireDefault(_VuexTextarea),_Selector=__webpack_require__("xBA8"),_Selector2=_interopRequireDefault(_Selector),_AtomAceEditor=__webpack_require__("+K0d"),_AtomAceEditor2=_interopRequireDefault(_AtomAceEditor),_week=__webpack_require__("9GO0"),_week2=_interopRequireDefault(_week),_StaffInput=__webpack_require__("0wh+"),_StaffInput2=_interopRequireDefault(_StaffInput),_UserInput=__webpack_require__("Bny8"),_UserInput2=_interopRequireDefault(_UserInput),_RequestSelector=__webpack_require__("9XOw"),_RequestSelector2=_interopRequireDefault(_RequestSelector),_GitRequestSelector=__webpack_require__("woXs"),_GitRequestSelector2=_interopRequireDefault(_GitRequestSelector),_AtomCheckbox=__webpack_require__("h/YL"),_AtomCheckbox2=_interopRequireDefault(_AtomCheckbox),_AtomCheckboxList=__webpack_require__("NR86"),_AtomCheckboxList2=_interopRequireDefault(_AtomCheckboxList),_AtomDatePicker=__webpack_require__("48Ig"),_AtomDatePicker2=_interopRequireDefault(_AtomDatePicker),_CodeModeSelector=__webpack_require__("Wav7"),_CodeModeSelector2=_interopRequireDefault(_CodeModeSelector),_CodeModeInput=__webpack_require__("1h3O"),_CodeModeInput2=_interopRequireDefault(_CodeModeInput),_ParamsView=__webpack_require__("DkEz"),_ParamsView2=_interopRequireDefault(_ParamsView),_SvnpathInput=__webpack_require__("kvDO"),_SvnpathInput2=_interopRequireDefault(_SvnpathInput),_KeyValue=__webpack_require__("c1uh"),_KeyValue2=_interopRequireDefault(_KeyValue),_KeyValueNormal=__webpack_require__("YuEV"),_KeyValueNormal2=_interopRequireDefault(_KeyValueNormal),_NameSpaceVar=__webpack_require__("aCvm"),_NameSpaceVar2=_interopRequireDefault(_NameSpaceVar),_RouteTips=__webpack_require__("kKM+"),_RouteTips2=_interopRequireDefault(_RouteTips),_FormField=__webpack_require__("32o7"),_FormField2=_interopRequireDefault(_FormField),_groupIdSelector=__webpack_require__("M27C"),_groupIdSelector2=_interopRequireDefault(_groupIdSelector),_RemoteCurlUrl=__webpack_require__("Aii4"),_RemoteCurlUrl2=_interopRequireDefault(_RemoteCurlUrl),_AutoComplete=__webpack_require__("/wRU"),_AutoComplete2=_interopRequireDefault(_AutoComplete),_util=__webpack_require__("ygAv");function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}var atomMixin={props:{elementIndex:Number,containerIndex:Number,stageIndex:Number,element:Object,container:Object,stage:Object,atomPropsModel:Object,setAtomValidate:Function,atomValue:Object,disabled:Boolean},components:{Accordion:_Accordion2.default,RemoteCurlUrl:_RemoteCurlUrl2.default,VuexInput:_VuexInput2.default,VuexTextarea:_VuexTextarea2.default,EnumInput:_EnumInput2.default,Selector:_Selector2.default,AtomAceEditor:_AtomAceEditor2.default,CronTimer:_week2.default,StaffInput:_StaffInput2.default,UserInput:_UserInput2.default,RequestSelector:_RequestSelector2.default,GitRequestSelector:_GitRequestSelector2.default,AtomCheckbox:_AtomCheckbox2.default,AtomCheckboxList:_AtomCheckboxList2.default,FormField:_FormField2.default,AtomDatePicker:_AtomDatePicker2.default,CodeModeSelector:_CodeModeSelector2.default,CodeModeInput:_CodeModeInput2.default,ExperienceInput:_ExperienceInput2.default,ParamsView:_ParamsView2.default,SvnpathInput:_SvnpathInput2.default,KeyValue:_KeyValue2.default,KeyValueNormal:_KeyValueNormal2.default,NameSpaceVar:_NameSpaceVar2.default,RouteTips:_RouteTips2.default,GroupIdSelector:_groupIdSelector2.default,AutoComplete:_AutoComplete2.default},computed:(0,_extends3.default)({},(0,_vuex.mapGetters)("atom",["isThirdPartyContainer"]),{isThirdParty:function(){return this.isThirdPartyContainer(this.container)}}),methods:(0,_extends3.default)({},(0,_vuex.mapActions)("atom",["updateAtomInput","updateAtomOutput","updateAtomOutputNameSpace","updateAtom","deleteAtomProps"]),{deletePropKey:function(e){this.deleteAtomProps({element:this.element,propKey:e})},handleUpdateElement:function(e,t){this.updateAtom({element:this.element,newParam:(0,_defineProperty3.default)({},e,t)})},handleUpdateAtomInput:function(e,t){this.updateAtomInput({atom:this.element,newParam:(0,_defineProperty3.default)({},e,t)})},handleUpdateAtomOutput:function(e,t){this.updateAtomOutput({atom:this.element,newParam:(0,_defineProperty3.default)({},e,t)})},handleUpdateAtomOutputNameSpace:function(e,t){this.updateAtomOutputNameSpace((0,_defineProperty3.default)({atom:this.element},e,t))},handlePath:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(e.startsWith("./")&&(e=e.slice(2)),e.endsWith("/")&&(e=e.substring(0,e.length-1)),t&&e){var n=e.lastIndexOf("/");e=e.substring(n+1,e.length)}return e},isHidden:function isHidden(obj,element){var isHidden=eval("("+obj.isHidden+")");return"function"==typeof isHidden?isHidden(element):"boolean"==typeof obj.hidden?obj.hidden:"boolean"==typeof isHidden&&isHidden},getPlaceholder:function getPlaceholder(obj,element){if(obj.getPlaceholder){var getPlaceholder=eval("("+obj.getPlaceholder+")");return"function"==typeof getPlaceholder?getPlaceholder(element):""}return obj.placeholder||""},getComponentTips:function getComponentTips(obj,element){var tips=eval("("+obj.tips+")");return"function"==typeof tips?tips(element,_util.urlJoin,this.handlePath):{visible:!1}},rely:function(e,t){try{var n=e.rely,i=n.expression,a=void 0===i?[]:i,r=n.operation,s=function(e){var n=e.key,i=e.value;return Array.isArray(i)?void 0!==t[n]&&i.includes(t[n]):t[n]===i};switch(void 0===r?"AND":r){case"AND":return a.every(s);case"OR":return!(a.length>0)||a.some(s);default:return!0}}catch(e){return!0}}})};exports.default=atomMixin},WzoQ:function(e,t,n){"use strict";var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"code-mode-check bk-form-row bk-form"},[n("div",{staticClass:"bk-form-inline-item",class:{"is-required":e.required}},[n("label",{staticClass:"bk-label"},[e._v(e._s(e.text)+"：")]),e._v(" "),n("div",{staticClass:"bk-form-content"},[n("enum-input",{attrs:{list:e.gitPullModes,disabled:e.noPermission,name:"type","handle-change":e.handleModeChange,value:e.gitPullModeType}})],1)]),e._v(" "),n("div",{staticClass:"bk-form-inline-item",class:{"is-required":e.required}},[e.gitPullModeType?[n("label",{staticClass:"bk-label"},[e._v(e._s(e.gitPullModeList[e.gitPullModeType].label)+"：")]),e._v(" "),n("div",{staticClass:"bk-form-content"},[n("vuex-input",{attrs:{disabled:e.noPermission,placeholder:e.gitPullModeList[e.gitPullModeType].placeholder,name:"value","handle-change":e.handleValueChange,value:e.gitPullModeVal}})],1)]:e._e()],2)])},a=[];i._withStripped=!0,n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return a}))},XDaH:function(e,t,n){"use strict";n.r(t);var i=n("uA1I"),a=n.n(i);for(var r in i)"default"!==r&&function(e){n.d(t,e,(function(){return i[e]}))}(r);t.default=a.a},XEvX:function(e,t,n){},XNUb:function(e,t,n){"use strict";n.r(t);var i=n("vtTT"),a=n.n(i);for(var r in i)"default"!==r&&function(e){n.d(t,e,(function(){return i[e]}))}(r);t.default=a.a},XPi0:function(e,t,n){"use strict";var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"bk-tag-selector staff-selector",class:{"disable-status":e.disabled}},[e.selectedList.length||e.value.length?e._e():n("span",{staticClass:"staff-placeholder"},[e._v(e._s(e.placeholder))]),e._v(" "),n("div",{staticClass:"select-tags",on:{click:e.toEdit}},[n("div",{ref:"selectEditor",staticClass:"select-editor"},[e._l(e.selectedList,(function(t,i){return n("span",{key:i,staticClass:"tag-info",on:{click:function(n){return e.selectInfo(n,t)}}},[e._v(e._s(t))])})),e._v(" "),n("input",{ref:"staffInput",staticClass:"bk-tag-input form-input",attrs:{type:"text",id:"staffInput",autocomplete:"off",name:e.name},domProps:{value:e.value},on:{input:e.input,keydown:e.keydown,mousedown:e.mousedown,paste:e.paste,blur:e.hideAll}})],2)]),e._v(" "),n("div",{directives:[{name:"show",rawName:"v-show",value:e.showList&&e.list.length,expression:"showList && list.length"}],staticClass:"bk-selector-list"},[n("ul",{ref:"selectorList",staticClass:"outside-ul"},e._l(e.list,(function(t,i){return n("li",{key:i,staticClass:"bk-selector-list-item",on:{click:function(n){return n.stopPropagation(),e.selectList(t)}}},[n("div",{staticClass:"bk-selector-node",class:e.activeClass(i)},[n("span",{staticClass:"text"},[e._v(e._s(t))])])])})),0)])])},a=[];i._withStripped=!0,n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return a}))},Xqbb:function(e,t,n){"use strict";var i=n("ZCtZ");n.n(i).a},XrsJ:function(e,t,n){"use strict";n.r(t);var i=n("Zz7G"),a=n("MiLC");for(var r in a)"default"!==r&&function(e){n.d(t,e,(function(){return a[e]}))}(r);n("T6tY");var s=n("psIG"),o=Object(s.a)(a.default,i.a,i.b,!1,null,null,null);o.options.__file="src/components/AtomPropertyPanel/PullGithub.vue",t.default=o.exports},YR8h:function(e,t,n){"use strict";n.r(t);var i=n("KAMw"),a=n.n(i);for(var r in i)"default"!==r&&function(e){n.d(t,e,(function(){return i[e]}))}(r);t.default=a.a},Yb1Q:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=l(n("06Hw")),a=l(n("Kz1y")),r=l(n("YYXh")),s=l(n("q7rD")),o=l(n("xBA8"));function l(e){return e&&e.__esModule?e:{default:e}}t.default={components:{Selector:o.default},mixins:[s.default],props:{hasAddItem:{type:Boolean,default:!1},itemText:{type:String,default:"关联代码库"},itemTargetUrl:{type:String,default:"/codelib/{projectId}/"},searchable:{type:Boolean,default:!0},url:{type:String,default:""},paramId:{type:String,default:"id"},paramName:{type:String,default:"name"},tools:{type:Boolean,default:!1},placeholder:{type:String,default:"请选择"},multiSelect:{type:Boolean,default:!1},setNoUsePermission:{type:Function,default:function(){}}},data:function(){return{isLoading:!1,list:[],webUrl:WEB_URL_PIRFIX}},computed:{projectId:function(){return this.$route.params.projectId}},created:function(){this.freshList()},destroyed:function(){this.setNoUsePermission(!1)},methods:{edit:function(e){var t=this.list[e].repositoryHashId||"",n=this.list[e].type||"",i=this.list[e].groupHashId||"";if(t){var a=WEB_URL_PIRFIX+"/codelib/"+this.projectId+"/"+t+"/"+n;window.open(a,"_blank")}else if(i){var r=WEB_URL_PIRFIX+"/experience/"+this.projectId+"/setting/?groupId="+i;window.open(r,"_blank")}},toggleVisible:function(e){e&&this.freshList()},urlParse:function(e,t){return new Function("ctx","return '"+e.replace(/\{(.*?)\}/g,"'+ ctx.$1 +'")+"'")(t)},freshList:function(){var e=this;return(0,r.default)(i.default.mark((function t(){var n,r,s,o;return i.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,n=e.url,r=e.$route.params,s=e.urlParse(n,r),e.isLoading=!0,t.next=7,e.$ajax.get(s);case 7:o=t.sent,e.list=(o.data.records||o.data||[]).map((function(t){return(0,a.default)({},t,{id:t[e.paramId],name:t[e.paramName]})})),e.multiSelect?(e.value=e.value.length?e.value:[],e.value.map((function(t){""!==t&&0===e.list.filter((function(e){return e.id===t})).length&&e.list.splice(0,0,{id:t,name:"******（无权限查看）"})}))):""!==e.value&&0===e.list.filter((function(t){return t.id===e.value})).length?(e.setNoUsePermission(!0),e.list.splice(0,0,{id:e.value,name:"******（无权限查看）"})):e.setNoUsePermission(!1),e.$emit("change",e.list),t.next=16;break;case 13:t.prev=13,t.t0=t.catch(0),e.$showTips({message:t.t0.message,theme:"error"});case 16:return t.prev=16,e.isLoading=!1,t.finish(16);case 19:case"end":return t.stop()}}),t,e,[[0,13,16,19]])})))()}}}},Yfpw:function(e,t,n){},YuEV:function(e,t,n){"use strict";n.r(t);var i=n("nXrI"),a=n("pRQp");for(var r in a)"default"!==r&&function(e){n.d(t,e,(function(){return a[e]}))}(r);n("CPVx");var s=n("psIG"),o=Object(s.a)(a.default,i.a,i.b,!1,null,null,null);o.options.__file="src/components/atomFormField/KeyValueNormal/index.vue",t.default=o.exports},YybZ:function(e,t,n){"use strict";var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"sub-build-params"},[n("ul",{directives:[{name:"bkloading",rawName:"v-bkloading",value:{isLoading:e.isLoading},expression:"{ isLoading: isLoading }"}]},[e.paramList.length?e._l(e.paramList,(function(t){return n("li",{key:t.id,staticClass:"param-item"},[n("div",[n("vuex-input",{attrs:{disabled:!0,name:"key",value:t.id}})],1),e._v(" "),n("span",[e._v("=")]),e._v(" "),n("div",[n("select-input",e._b({attrs:{name:t.id,value:e.paramValues[t.id],disabled:e.disabled,type:"text",placeholder:"请输入参数"}},"select-input",e.dataInputConfig(t),!1))],1)])})):n("li",{staticClass:"param-item-empty"},[n("span",[e._v("该子流水线没有任何参数")])])],2)])},a=[];i._withStripped=!0,n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return a}))},Z6zs:function(e,t,n){"use strict";n.r(t);var i=n("fszL"),a=n("LFVd");for(var r in a)"default"!==r&&function(e){n.d(t,e,(function(){return a[e]}))}(r);n("xu+b");var s=n("psIG"),o=Object(s.a)(a.default,i.a,i.b,!1,null,null,null);o.options.__file="src/components/template/instance-compared.vue",t.default=o.exports},ZCtZ:function(e,t,n){},ZM23:function(e,t,n){"use strict";n.r(t);var i=n("Oyf1"),a=n.n(i);for(var r in i)"default"!==r&&function(e){n.d(t,e,(function(){return i[e]}))}(r);t.default=a.a},"ZMa+":function(e,t,n){"use strict";var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("form",{staticClass:"bk-form bk-form-vertical"},[e._l(e.newModel,(function(t,i){return[t.hidden?e._e():n("form-field",{key:i,attrs:{desc:t.desc,required:t.required,label:t.label,"is-error":e.errors.has(i),"error-msg":e.errors.first(i)}},[n(t.component,e._b({directives:[{name:"validate",rawName:"v-validate.initial",value:Object.assign({},t.rule,{required:!!t.required}),expression:"Object.assign({}, obj.rule, { required: !!obj.required })",modifiers:{initial:!0}}],tag:"component",attrs:{name:i,"handle-change":e.handleMethods,value:e.element[i],"repository-type":e.element.repositoryType,"repository-hash-id":e.element.repositoryHashId,"branch-name":e.element.branchName,"element-type":e.element["@type"],"no-use-permission":e.noUsePermission,"set-no-use-permission":e.setNoUsePermission},on:{change:e.listChange}},"component",t,!1)),e._v(" "),"path"===i&&t.warn?n("p",{staticClass:"bk-form-help is-warning"},[e._v(e._s(t.warn))]):e._e(),e._v(" "),"path"===i&&e.element.repositoryHashId?n("route-tips",{attrs:{visible:!0,"src-tips":e.srcTips,"path-tips":e.pathTips}}):e._e()],1)]}))],2)},a=[];i._withStripped=!0,n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return a}))},ZOaD:function(e,t,n){},ZQCD:function(e,t,n){},ZiKF:function(e,t,n){"use strict";var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"bkc-menu"},[e.menuList.length?n("ul",e._l(e.menuList,(function(t,i){return n("li",{key:i,staticClass:"bkc-menu-item"},[t.children&&t.children.length&&!1!==t.showChildren||t.childrenType?n("div",{staticClass:"bkc-menu-title-wrapper",class:[t.hide,t.disable,t.isChildSelected?"child-selected":"",t.isOpen?"open":""],on:{click:function(n){t.disable||t.hide||e.openChildren(t,i,n)}}},[n("i",{staticClass:"bk-icon left-icon",class:[t.disable,t.icon]}),e._v(" "),n("div",{staticClass:"bkc-menu-title"},[e._v(e._s(t.name))]),e._v(" "),n("i",{staticClass:"bk-icon right-icon icon-angle-down",class:{open:t.isOpen}})]):n("div",{staticClass:"bkc-menu-title-wrapper",class:[t.hide,t.disable,t.id===e.$route.name||t.children&&t.children.some((function(t){return t.id===e.$route.name}))?"selected":""],on:{click:function(n){t.disable||t.hide||e.handleClick(t,i,n)}}},[n("i",{staticClass:"bk-icon left-icon",class:[t.disable,t.icon]}),e._v(" "),n("div",{staticClass:"bkc-menu-title"},[e._v(e._s(t.name))]),e._v(" "),void 0!==t.badge?n("i",{staticClass:"biz-badge"},[e._v(e._s(t.badge))]):e._e()]),e._v(" "),"bk-tree"===t.childrenType?n("collapse-transition",[n("bk-trees",{directives:[{name:"show",rawName:"v-show",value:t.isOpen,expression:"item.isOpen"}],attrs:{list:t.children,"deep-count":1,"road-map":i}})],1):n("collapse-transition",[n("ul",{directives:[{name:"show",rawName:"v-show",value:t.isOpen,expression:"item.isOpen"}]},e._l(t.children,(function(a,r){return n("li",{key:r,staticClass:"bkc-menu-child-item"},[n("div",{staticClass:"bkc-menu-child-title-wrapper",class:a.id===e.$route.name?"selected":"",on:{click:function(n){return e.handleChildClick(t,i,a,r,n)}}},[e._v("\n                            "+e._s(a.name)+"\n                        ")])])})),0)])],1)})),0):[e._m(0)]],2)},a=[function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"biz-no-data",staticStyle:{"margin-top":"100px"}},[t("i",{staticClass:"bk-icon icon-empty"}),this._v(" "),t("p",[this._v("暂时没数据!")])])}];i._withStripped=!0,n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return a}))},Zz7G:function(e,t,n){"use strict";var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"pull-code-panel bk-form bk-form-vertical"},[[e._l(e.atomPropsModel,(function(t,i){return[t.hidden?e._e():n("form-field",{key:i,attrs:{desc:t.desc,"desc-link":t.descLink,"desc-link-text":t.descLinkText,required:t.required,label:t.label,"is-error":e.errors.has(i),"error-msg":e.errors.first(i)}},[n(t.component,e._b({directives:[{name:"validate",rawName:"v-validate.initial",value:Object.assign({},t.rule,{required:!!t.required}),expression:"Object.assign({}, obj.rule, { required: !!obj.required })",modifiers:{initial:!0}}],tag:"component",attrs:{container:e.container,element:e.element,name:i,"handle-change":e.handleMethods,value:e.element[i]}},"component",t,!1))],1)]}))]],2)},a=[];i._withStripped=!0,n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return a}))},a0nz:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i,a=n("q7rD"),r=(i=a)&&i.__esModule?i:{default:i};t.default={name:"atom-complete",mixins:[r.default],props:{name:{type:String,required:!0},value:{type:String},placeholder:{type:String,default:"请输入"},list:{type:Array,default:[]},displayKey:{type:String,default:""},settingKey:{type:String,default:""},openList:{type:Boolean,default:!1}},data:function(){return{showList:!1,focusList:"",localValue:"",localList:[]}},computed:{selectedText:function(){var e=this,t=this.list.find((function(t){if(t[e.settingKey]===e.value)return t}));return t?t[this.displayKey]:this.value}},watch:{list:function(e){this.getData()}},created:function(){this.getData()},methods:{input:function(e){this.showList=!0;var t=e.target.value;this.handleChange(this.name,t,!1),this.filterData(t)},hideAll:function(e){var t=this;setTimeout((function(){t.showList=!1;var n=e.target.value;t.localValue&&t.localValue!==n?t.handleChange(t.name,n,!0):t.handleChange(t.name,n,!1)}),250)},focus:function(e){var t=this;this.showList=!0,this.focusList=-1,this.localValue=this.value,this.value&&(this.filterData(this.value),this.localList.map((function(e,n){e===t.value&&(t.focusList=n)})))},mousemove:function(e){this.focusList=e},activeClass:function(e){return{"bk-selector-selected":e===this.focusList}},selectList:function(e){this.handleChange(this.name,e[this.settingKey],this.localValue!==e[this.settingKey])},filterData:function(e){var t=this;this.localList=this.list.filter((function(n){return n[t.displayKey].indexOf(e)>-1}))},getData:function(){this.localList=this.list}}}},a7YV:function(e,t,n){"use strict";n.r(t);var i=n("XPi0"),a=n("AU07");for(var r in a)"default"!==r&&function(e){n.d(t,e,(function(){return a[e]}))}(r);n("58Hg");var s=n("psIG"),o=Object(s.a)(a.default,i.a,i.b,!1,null,"55a66e6a",null);o.options.__file="src/components/common/custom-selector/index.vue",t.default=o.exports},aCvm:function(e,t,n){"use strict";n.r(t);var i=n("BDEw"),a=n("yElF");for(var r in a)"default"!==r&&function(e){n.d(t,e,(function(){return a[e]}))}(r);n("qDqU");var s=n("psIG"),o=Object(s.a)(a.default,i.a,i.b,!1,null,null,null);o.options.__file="src/components/atomFormField/NameSpaceVar/index.vue",t.default=o.exports},bEIi:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=l(n("/9Wh")),a=l(n("Kz1y")),r=l(n("WyVq")),s=l(n("0w5d")),o=n("WIBD");function l(e){return e&&e.__esModule?e:{default:e}}t.default={name:"code-pull-atom",mixins:[r.default,s.default],data:function(){return{tips:"当前流水线存在多个代码拉取插件，你需设置此字段以解决冲突问题",noUsePermission:!0,list:[],newModel:{}}},computed:(0,a.default)({},(0,o.mapGetters)("atom",["isCodePullAtom"]),{srcTips:function(){var e=this,t=this.list.find((function(t){return t.repositoryHashId===e.element.repositoryHashId}));return(t&&t.url?t.url:"${CODE_ROOT_URL}")+"/*"},pathTips:function(){if(""===this.element.path||"./"===this.element.path)return" ${WORKSPACE}/*";var e=this.element.path;return" ${WORKSPACE}/"+(e=this.handlePath(e))+"/*"}}),watch:{"element.path":function(e){this.setWarn(e)}},created:function(){this.newModel=JSON.parse((0,i.default)(this.atomPropsModel)),this.setWarn(this.element.path),this.element.repositoryType||"CODE_GIT"!==this.element["@type"]||this.handleUpdateElement("repositoryType","ID"),this.handleChooseCodelibType("repositoryType",this.element.repositoryType)},methods:{setWarn:function(e){var t=this.detectCodeContainer();t.length&&t.filter((function(t){return t===e})).length>1?this.newModel.path.warn=this.tips:this.newModel.path.warn=""},setNoUsePermission:function(e){this.noUsePermission=!!e},detectCodeContainer:function(){var e=this,t=[];return this.container.elements.length&&this.container.elements.forEach((function(n){e.isCodePullAtom(n)&&t.push(n.path)})),t},listChange:function(e){this.list=e||[]},handleMethods:function(e,t){"repositoryType"===e?this.handleChooseCodelibType(e,t):this.handleUpdateElement(e,t)},handleChooseCodelibType:function(e,t){"ID"===t?(this.newModel.repositoryHashId.hidden=!1,this.newModel.repositoryName.hidden=!0):"NAME"===t&&(this.newModel.repositoryHashId.hidden=!0,this.newModel.repositoryName.hidden=!1),this.handleUpdateElement(e,t)}}}},"bH+5":function(e,t,n){"use strict";n.r(t);var i=n("bXzj"),a=n.n(i);for(var r in i)"default"!==r&&function(e){n.d(t,e,(function(){return i[e]}))}(r);t.default=a.a},bJq6:function(e,t,n){"use strict";var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{class:{"container-node-selector":!0,"is-focus-selector":e.isFocus}},[e.isFocus?e._e():n("span",{class:{"build-resource-label":!0,disabled:e.disabled}},[e._v(e._s(e.buildResource))]),e._v(" "),n("select-input",{attrs:{name:"value",disabled:e.disabled,"is-loading":e.isLoading,"handle-change":e.handleSelect,options:e.nodeList,"has-error":e.hasError,value:e.value},on:{focus:e.handleFocus,blur:e.handleBlur}})],1)},a=[];i._withStripped=!0,n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return a}))},bXpj:function(e,t,n){},bXzj:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=c(n("06Hw")),a=c(n("YYXh")),r=c(n("wQpU")),s=c(n("Kz1y")),o=c(n("tuHn")),l=c(n("kWkj")),u=n("ygAv");function c(e){return e&&e.__esModule?e:{default:e}}t.default={name:"select-input",mixins:[o.default,l.default],props:{isLoading:Boolean,options:{type:Array,default:[]},optionsConf:{type:Object,default:function(){return{}}}},data:function(){return{optionList:Array.isArray(this.options)?this.options:[],optionListVisible:!1,isFocused:!1,loading:this.isLoading,selectedPointer:0}},computed:{mergedOptionsConf:function(){return(0,s.default)({},{url:"",paramId:"id",paramName:"name"},this.optionsConf)},restProps:function(){var e=this.$props,t=(e.options,e.optionsConf,e.atomvalue,e.container,(0,r.default)(e,["options","optionsConf","atomvalue","container"]));return t},hasUrl:function(){return this.mergedOptionsConf&&this.mergedOptionsConf.url&&"string"==typeof this.mergedOptionsConf.url},urlParamKeys:function(){if(this.hasUrl){var e=this.mergedOptionsConf.url.match(/\{(.*?)\}/g);return e?e.map((function(e){return e.replace(/\{(.*?)\}/,"$1")})):[]}return[]},queryParams:function(){var e=this.atomValue,t=void 0===e?{}:e,n=this.$route.params,i=void 0===n?{}:n;return(0,s.default)({},i,t)},isLackParam:function(){var e=this;return this.urlParamKeys.some((function(t){return e.queryParams.hasOwnProperty(t)&&(void 0===e.queryParams[t]||null===e.queryParams[t]||""===e.queryParams[t])}))},filteredList:function(){var e=this.value,t=this.optionList,n=e+"";return t.filter((function(e){return"string"==typeof e.name&&e.name.toLowerCase().indexOf(n.toLowerCase())>-1&&e}))},hasOption:function(){return Array.isArray(this.filteredList)&&this.filteredList.length>0}},watch:{atomValue:{handler:function(e,t){this.urlParamKeys.some((function(n){return e[n]!==t[n]}))&&this.debounceGetOptionList()}},options:function(e){var t=this;this.optionList=e,this.isFocused&&!this.disabled&&this.$nextTick((function(){t.$refs.inputArea.focus()}))},isLoading:function(e){this.loading=e}},created:function(){this.hasUrl&&(this.getOptionList(),this.debounceGetOptionList=(0,u.debounce)(this.getOptionList))},methods:{urlParse:function(e,t){return new Function("ctx","return '"+e.replace(/\{(.*?)\}/g,"'+ ctx.$1 +'")+"'")(t)},handleInput:function(e){var t=e.target,n=t.name,i=t.value;this.optionListVisible=!0,this.handleChange(n,i.trim())},selectOption:function(e){var t=e.id,n=(e.name,e.disabled);void 0!==n&&n||(this.handleBlur(),this.handleChange(this.name,t))},clearValue:function(){this.handleChange(this.name,""),this.$refs.inputArea.focus()},handleBlur:function(){this.optionListVisible=!1,this.selectedPointer=0,this.isFocused=!1,this.$refs.inputArea&&this.$refs.inputArea.blur(),this.$emit("blur",null)},handleFocus:function(e){this.isFocused=!0,this.optionListVisible||(this.optionListVisible=!0,this.$emit("focus",e))},setSelectPointer:function(e){this.selectedPointer=e,this.adjustViewPort()},getResponseData:function(e){try{if(Array.isArray(e.data))return e.data;if(Array.isArray(e.data.record))return e.data.record}catch(e){return console.error("获取列表数据失败",e),[]}},getOptionList:function(){var e=this;return(0,a.default)(i.default.mark((function t(){var n,a,r,o,l,c,d,p,f,m;return i.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!e.isLackParam){t.next=3;break}return e.optionList=[],t.abrupt("return");case 3:return t.prev=3,e.loading=!0,n=e.mergedOptionsConf,a=n.url,r=n.paramId,o=n.paramName,l=e.queryParams,c=e.urlParse,d=e.getResponseData,p=c(a,l),t.next=9,e.$ajax.get(p);case 9:f=t.sent,m=d(f),e.optionList=m.map((function(e){return(0,u.isObject)(e)?(0,s.default)({},e,{id:e[r],name:e[o]}):{id:e,name:e}})),t.next=17;break;case 14:t.prev=14,t.t0=t.catch(3),console.error(t.t0);case 17:return t.prev=17,e.loading=!1,t.finish(17);case 20:case"end":return t.stop()}}),t,e,[[3,14,17,20]])})))()}}}},bkED:function(e,t,n){"use strict";n.r(t);var i=n("8LB5"),a=n("dBAV");for(var r in a)"default"!==r&&function(e){n.d(t,e,(function(){return a[e]}))}(r);n("5Llr");var s=n("psIG"),o=Object(s.a)(a.default,i.a,i.b,!1,null,null,null);o.options.__file="src/components/common/bk-trees/index.vue",t.default=o.exports},bmG3:function(e,t,n){"use strict";n.r(t);var i=n("zaVn"),a=n.n(i);for(var r in i)"default"!==r&&function(e){n.d(t,e,(function(){return i[e]}))}(r);t.default=a.a},bn9r:function(e,t,n){"use strict";var i=n("zjxr");n.n(i).a},br82:function(e,t,n){"use strict";n.r(t);var i=n("a0nz"),a=n.n(i);for(var r in i)"default"!==r&&function(e){n.d(t,e,(function(){return i[e]}))}(r);t.default=a.a},bvWi:function(e,t,n){},c1uh:function(e,t,n){"use strict";n.r(t);var i=n("CodG"),a=n("jFtf");for(var r in a)"default"!==r&&function(e){n.d(t,e,(function(){return a[e]}))}(r);n("7z9a");var s=n("psIG"),o=Object(s.a)(a.default,i.a,i.b,!1,null,null,null);o.options.__file="src/components/atomFormField/KeyValue/index.vue",t.default=o.exports},c6AQ:function(e,t,n){"use strict";var i=n("2l9d");n.n(i).a},c8nl:function(e,t,n){"use strict";n.r(t);var i=n("SAjW"),a=n("bH+5");for(var r in a)"default"!==r&&function(e){n.d(t,e,(function(){return a[e]}))}(r);n("CzRM");var s=n("psIG"),o=Object(s.a)(a.default,i.a,i.b,!1,null,"513ab5ec",null);o.options.__file="src/components/AtomFormComponent/SelectInput/index.vue",t.default=o.exports},c8u7:function(e,t,n){"use strict";var i=function(){var e=this.$createElement;return(this._self._c||e)("custom-selector",{attrs:{name:"value",type:"text",value:this.curInsertVal,disabled:this.disabled,placeholder:this.placeholder,config:this.dataInputConfig,"selected-list":this.value,"set-value":this.setValue,"delete-item":this.deleteItem}})},a=[];i._withStripped=!0,n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return a}))},c9m7:function(e,t,n){"use strict";n.r(t);var i=n("6831"),a=n.n(i);for(var r in i)"default"!==r&&function(e){n.d(t,e,(function(){return i[e]}))}(r);t.default=a.a},cNXQ:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=u(n("06Hw")),a=u(n("YYXh")),r=u(n("nHZS")),s=u(n("JwXn")),o=u(n("Z6zs")),l=n("ygAv");function u(e){return e&&e.__esModule?e:{default:e}}t.default={components:{"inner-header":r.default,"empty-tips":s.default,"instance-compared":o.default},data:function(){var e=this;return{showContent:!1,showComparedInstance:!1,dialogLoading:!1,isInit:!1,instanceVersion:"",currentVersion:"",currentVersionId:"",currentVersionName:"",curComparedPipeline:"",selectItemList:[],instanceList:[],versionList:[],curParamsList:[],targetParamsList:[],curStages:[],curTplParamsList:[],targetStages:[],targetTplParamsList:[],loading:{isLoading:!1,title:""},emptyTipsConfig:{title:"创建第一个实例",desc:"创建自己的实例，快速生成你想要的流水线",btns:[{theme:"primary",size:"normal",handler:function(){return e.createInstance()},text:"创建新实例"}]}}},computed:{projectId:function(){return this.$route.params.projectId},pipelineId:function(){return this.$route.params.pipelineId},templateId:function(){return this.$route.params.templateId}},watch:{instanceVersion:function(e){e&&!this.isInit&&this.requestVersionCompare(e)}},mounted:function(){var e=this;return(0,a.default)(i.default.mark((function t(){return i.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.requestInstanceList();case 2:case"end":return t.stop()}}),t,e)})))()},methods:{requestInstanceList:function(){var e=this;return(0,a.default)(i.default.mark((function t(){var n,a;return i.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.$store,e.loading.isLoading=!0,t.prev=2,t.next=5,n.dispatch("pipelines/requestInstanceList",{projectId:e.projectId,templateId:e.templateId});case 5:a=t.sent,e.currentVersionId=a.latestVersion.version,e.currentVersionName=a.latestVersion.versionName,e.instanceList=a.instances,t.next=14;break;case 11:t.prev=11,t.t0=t.catch(2),e.$showTips({message:t.t0.message||t.t0,theme:"error"});case 14:return t.prev=14,e.loading.isLoading=!1,e.showContent=!0,t.finish(14);case 18:case"end":return t.stop()}}),t,e,[[2,11,14,18]])})))()},localConvertTime:function(e){return(0,l.convertTime)(e)},currentVersionFormatter:function(){return this.currentVersionName},createInstance:function(e,t){var n={name:"createInstance",params:{projectId:this.projectId,pipelineId:this.pipelineId,curVersionId:this.currentVersionId}};e&&(n.hash="single"===t?"#"+e:"#"+e.join("&")),this.$router.push(n)},selectItem:function(e){this.selectItemList=e},updateInstance:function(e){if(e.hasPermission){var t=e.pipelineId;this.createInstance(t,"single")}},handleBitch:function(){var e=[];this.selectItemList&&this.selectItemList.length?(this.selectItemList.forEach((function(t){e.push(t.pipelineId)})),this.createInstance(e,"bitch")):this.$showTips({message:"请选择至少一条流水线",theme:"error"})},toCompared:function(e){this.showComparedInstance=!0,this.isInit=!0,this.currentVersion=e.versionName,this.curComparedPipeline=e.pipelineId,this.requestVersionCompare(this.currentVersionId)},requestVersionCompare:function(e){var t=this;return(0,a.default)(i.default.mark((function n(){var a,r,s,o,l,u;return i.default.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return t.dialogLoading=!0,n.prev=1,n.next=4,t.$store.dispatch("pipelines/requestVersionCompare",{projectId:t.projectId,templateId:t.templateId,versionId:e,pipelineId:t.curComparedPipeline});case 4:a=n.sent,t.versionList=a.versions,r=t.versionList.filter((function(t){return t.version===parseInt(e)})),t.instanceVersion=r[0].version,s=a.origin,o=a.target,l=s.model.stages[0].containers[0],u=o.model.stages[0].containers[0],t.curStages=s.model.stages,t.targetStages=o.model.stages,t.curParamsList.splice(0,t.curParamsList.length),t.targetParamsList.splice(0,t.targetParamsList.length),t.curTplParamsList.splice(0,t.curTplParamsList.length),t.targetTplParamsList.splice(0,t.targetTplParamsList.length),s.params&&s.params.map((function(e,n){var i={key:e.id,value:e.defaultValue};t.curParamsList.push(i)})),o.params&&o.params.map((function(e,n){var i={key:e.id,value:e.defaultValue};t.targetParamsList.push(i)})),l.templateParams&&l.templateParams.map((function(e,n){var i={key:e.id,value:e.defaultValue};t.curTplParamsList.push(i)})),u.templateParams&&u.templateParams.map((function(e,n){var i={key:e.id,value:e.defaultValue};t.targetTplParamsList.push(i)})),n.next=27;break;case 24:n.prev=24,n.t0=n.catch(1),t.$showTips({message:n.t0.message||n.t0,theme:"error"});case 27:return n.prev=27,t.dialogLoading=!1,n.finish(27);case 30:case"end":return n.stop()}}),n,t,[[1,24,27,30]])})))()},isUpdate:function(e){return e.version<this.currentVersionId},comfireHandler:function(){},cancelHandler:function(){this.showComparedInstance=!1},selectedVersion:function(e){this.isInit=!1,this.instanceVersion=e},toPipelineHistory:function(e){var t=WEB_URL_PIRFIX+"/pipeline/"+this.projectId+"/"+e+"/history";window.open(t,"_blank")}}}},cRv7:function(e,t,n){"use strict";var i=n("vcXH");n.n(i).a},cgVe:function(e,t,n){"use strict";var i=function(){var e=this.$createElement;return(this._self._c||e)("bk-date-picker",this._b({staticClass:"plugin-date-picker",attrs:{value:this.date,disabled:this.disabled},on:{change:this.handleDateChange}},"bk-date-picker",this.config,!1))},a=[];i._withStripped=!0,n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return a}))},d9Jp:function(e,t,n){},dBAV:function(e,t,n){"use strict";n.r(t);var i=n("hqiq"),a=n.n(i);for(var r in i)"default"!==r&&function(e){n.d(t,e,(function(){return i[e]}))}(r);t.default=a.a},dODI:function(e,t,n){"use strict";n.r(t);var i=n("ry4i"),a=n.n(i);for(var r in i)"default"!==r&&function(e){n.d(t,e,(function(){return i[e]}))}(r);t.default=a.a},dON8:function(e,t,n){"use strict";var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("bk-checkbox",{attrs:{disabled:e.disabled,title:e.title,value:e.value},on:{change:e.handleSwitch}},[e._v("\n    "+e._s(e.text?e.text:"是否选中")+"\n    "),e.desc?n("bk-popover",{attrs:{placement:"right"}},[n("i",{staticClass:"bk-icon icon-info-circle"}),e._v(" "),n("div",{staticStyle:{"white-space":"pre-wrap","max-width":"300px"},attrs:{slot:"content"},slot:"content"},[n("div",{class:{"disabled-color":e.disabled}},[e._v(" "+e._s(e.desc)+" ")])])]):e._e()],1)},a=[];i._withStripped=!0,n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return a}))},dPok:function(e,t,n){"use strict";n.r(t);var i=n("4nBn"),a=n.n(i);for(var r in i)"default"!==r&&function(e){n.d(t,e,(function(){return i[e]}))}(r);t.default=a.a},dQSe:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=r(n("WyVq")),a=r(n("0w5d"));function r(e){return e&&e.__esModule?e:{default:e}}t.default={name:"code-git-web-hook-trigger",mixins:[i.default,a.default],created:function(){"MERGE_REQUEST"===this.element.eventType?this.atomPropsModel.block.hidden=!1:this.atomPropsModel.block.hidden=!0,this.element.repositoryType||this.handleUpdateElement("repositoryType","ID"),this.handleChooseCodelibType("repositoryType",this.element.repositoryType)},methods:{handleBlockEnable:function(e,t){this.atomPropsModel.block.hidden="MERGE_REQUEST"!==t,this.handleUpdateElement(e,t)},handleMethods:function(e,t){"repositoryType"===e?this.handleChooseCodelibType(e,t):this.handleUpdateElement(e,t)},handleChooseCodelibType:function(e,t){"ID"===t?(this.atomPropsModel.repositoryHashId.hidden=!1,this.atomPropsModel.repositoryName.hidden=!0):"NAME"===t&&(this.atomPropsModel.repositoryHashId.hidden=!0,this.atomPropsModel.repositoryName.hidden=!1),this.handleUpdateElement(e,t)}}}},"dg/d":function(e,t,n){"use strict";var i=n("ThMH");n.n(i).a},dwlt:function(e,t,n){var i={"./monokai":"5g6v"};function a(e){var t=r(e);return n(t)}function r(e){if(!n.o(i,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return i[e]}a.keys=function(){return Object.keys(i)},a.resolve=r,e.exports=a,a.id="dwlt"},eOqb:function(e,t,n){"use strict";var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{directives:[{name:"bkloading",rawName:"v-bkloading",value:{isLoading:e.isLoading},expression:"{ isLoading }"}],staticClass:"remote-trigger"},[n("p",[e._v("添加本插件后，当前流水线可过特定的URL触发构建（启动人是流水线的最后编辑人）。")]),e._v(" "),n("p",[e._v("示例：")]),e._v(" "),n("p",{staticClass:"curl-url"},[e._v("curl -X POST "+e._s(e.baseUrl)+"/external/pipelines/"+e._s(e.value)+'/build -H "Content-Type: application/json" -d "'+e._s(e.stringifyParmas)+'" ')])])},a=[];i._withStripped=!0,n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return a}))},eSaR:function(e,t,n){"use strict";n.r(t);var i=n("pdaa"),a=n("6NxU");for(var r in a)"default"!==r&&function(e){n.d(t,e,(function(){return a[e]}))}(r);n("E0LN");var s=n("psIG"),o=Object(s.a)(a.default,i.a,i.b,!1,null,null,null);o.options.__file="src/views/template/setting.vue",t.default=o.exports},ecFu:function(e,t,n){"use strict";n.r(t);var i=n("5WXw"),a=n.n(i);for(var r in i)"default"!==r&&function(e){n.d(t,e,(function(){return i[e]}))}(r);t.default=a.a},ewgn:function(e,t,n){"use strict";n.r(t);var i=n("/T6n"),a=n("1+y6");for(var r in a)"default"!==r&&function(e){n.d(t,e,(function(){return a[e]}))}(r);var s=n("psIG"),o=Object(s.a)(a.default,i.a,i.b,!1,null,null,null);o.options.__file="src/components/ContainerPropertyPanel/JobMutual.vue",t.default=o.exports},ex99:function(e,t,n){"use strict";n.r(t);var i=n("yRNN"),a=n.n(i);for(var r in i)"default"!==r&&function(e){n.d(t,e,(function(){return i[e]}))}(r);t.default=a.a},exwX:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=u(n("Kz1y")),a=u(n("06Hw")),r=u(n("/9Wh")),s=u(n("YYXh")),o=u(n("WyVq")),l=u(n("0w5d"));function u(e){return e&&e.__esModule?e:{default:e}}t.default={name:"build-archive-get",mixins:[o.default,l.default],data:function(){return{newModel:{},list:[]}},computed:{projectId:function(){return this.$route.params.projectId},srcTips:function(){var e=this,t=this.list.find((function(t){return t.id===e.element.pipelineId})),n="版本仓库/"+(t?t.name:"${pipeline.name}")+"/"+("ASSIGN"===this.element.buildNoType&&this.element.buildNo?this.element.buildNo:"${pipeline.build.id}")+"/";if(""===this.element.srcPaths||"./"===this.element.srcPaths)return n;var i=this.element.srcPaths;return n+(i=this.handlePath(i))},pathTips:function(){var e=this.element.srcPaths;if(e=this.handlePath(e,!0),""===this.element.destPath||"./"===this.element.destPath)return" ${WORKSPACE}/"+e;var t=this.element.destPath;return" ${WORKSPACE}/"+(t=this.handlePath(t))+"/"+e}},mounted:function(){var e=this;return(0,s.default)(a.default.mark((function t(){return a.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.newModel=JSON.parse((0,r.default)(e.atomPropsModel)),e.element.pipelineId&&(e.handleSelect("pipelineId",e.element.pipelineId,!0),e.handleChoose("buildNoType",e.element.buildNoType));case 2:case"end":return t.stop()}}),t,e)})))()},methods:{handleChoose:function(e,t){"ASSIGN"===t?this.newModel.buildNo.hidden=!1:(this.newModel.buildNo.hidden=!0,this.handleUpdateElement("buildNo","")),this.handleUpdateElement(e,t)},handleSelect:function(e,t){var n=this,r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return(0,s.default)(a.default.mark((function s(){var o,l,u,c;return a.default.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return n.handleUpdateElement(e,t),r||n.handleUpdateElement("buildNo",""),a.prev=2,o="/process/api/user/archive/"+n.projectId+"/pipelines/"+t+"/getAllBuildNo?page=1&pagesize=-1",a.next=6,n.$ajax.get(o);case 6:if(l=a.sent,u=[],l.data){for(c=0;c<l.data.length;c++)u.push((0,i.default)({},{id:l.data[c].key,name:l.data[c].key}));n.newModel.buildNo.list=u}a.next=14;break;case 11:a.prev=11,a.t0=a.catch(2),403===a.t0.code?"ASSIGN"===n.element.buildNoType&&n.element.buildNo&&(n.newModel.buildNo.list=[{id:n.element.buildNo,name:"******（无权限查看）"}]):n.$showTips({theme:"error",message:a.t0.message||a.t0});case 14:return a.prev=14,n.isLoading=!1,a.finish(14);case 17:case"end":return a.stop()}}),s,n,[[2,11,14,17]])})))()}}}},"f+YU":function(e,t,n){"use strict";n.r(t);var i=n("ht3m"),a=n.n(i);for(var r in i)"default"!==r&&function(e){n.d(t,e,(function(){return i[e]}))}(r);t.default=a.a},f2HB:function(e,t,n){"use strict";n.r(t);var i=n("g2Jq"),a=n("f+YU");for(var r in a)"default"!==r&&function(e){n.d(t,e,(function(){return a[e]}))}(r);n("dg/d");var s=n("psIG"),o=Object(s.a)(a.default,i.a,i.b,!1,null,null,null);o.options.__file="src/components/AtomPropertyPanel/TimerTrigger.vue",t.default=o.exports},f3nD:function(e,t,n){"use strict";var i=n("UWGG");n.n(i).a},f63N:function(e,t,n){"use strict";n.r(t);var i=n("VKer"),a=n.n(i);for(var r in i)"default"!==r&&function(e){n.d(t,e,(function(){return i[e]}))}(r);t.default=a.a},fXe6:function(e,t,n){"use strict";var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"bk-form bk-form-vertical"},[e._l(e.atomPropsModel,(function(t,i){return[e.isHidden(t,e.element)?e._e():n("form-field",{key:i,attrs:{desc:t.desc,"desc-link":t.descLink,"desc-link-text":t.descLinkText,required:t.required,label:t.label,"is-error":e.errors.has(i),"error-msg":e.errors.first(i)}},[n(t.component,e._b({directives:[{name:"validate",rawName:"v-validate.initial",value:Object.assign({},t.rule,{required:!!t.required}),expression:"Object.assign({}, obj.rule, { required: !!obj.required })",modifiers:{initial:!0}}],tag:"component",attrs:{container:e.container,element:e.element,name:i,"handle-change":e.handleUpdateElement,value:e.element[i],placeholder:e.getPlaceholder(t,e.element)}},"component",t,!1)),e._v(" "),n("route-tips",e._b({},"route-tips",e.getComponentTips(t,e.element),!1))],1)]}))],2)},a=[];i._withStripped=!0,n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return a}))},fszL:function(e,t,n){"use strict";var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("bk-dialog",{attrs:{"ext-cls":"template-compared-dialog","show-footer":e.comparedDialogConfig.hasFooter,"close-icon":e.comparedDialogConfig.closeIcon,width:"1380",position:{top:"100"}},model:{value:e.showComparedInstance,callback:function(t){e.showComparedInstance=t},expression:"showComparedInstance"}},[[n("section",{staticClass:"create-pipeline-content"},[n("div",{staticClass:"info-header"},[n("div",{staticClass:"title"},[e._v("差异对比")]),e._v(" "),n("i",{staticClass:"bk-icon icon-close",on:{click:function(t){return e.cancelHandler()}}})]),e._v(" "),n("div",{directives:[{name:"bkloading",rawName:"v-bkloading",value:{isLoading:e.loading},expression:"{\n                    isLoading: loading\n                }"}],staticClass:"compared-content"},[n("div",{staticClass:"update-version-compared"},[n("div",{staticClass:"update-before"},[e._v("\n                        更新前"),n("i",{staticClass:"bk-icon icon-minus"}),e._v(e._s(e.curVersion)+"\n                    ")]),e._v(" "),n("div",{staticClass:"update-after version-selector"},[n("div",{staticClass:"label"},[e._v("更新后"),n("i",{staticClass:"bk-icon icon-minus"})]),e._v(" "),n("bk-dropdown",{attrs:{placeholder:"请选择版本",list:e.versionList,"display-key":"versionName","setting-key":"version",searchable:!0,selected:e.instanceVersion},on:{"update:selected":function(t){e.instanceVersion=t},"item-selected":e.selectedVersion}})],1)]),e._v(" "),e.curParamsList.length||e.targetParamsList.length||e.curTplParamsList.length||e.targetTplParamsList.length?n("section",[n("div",{staticClass:"update-version-compared compared-title"},[n("div",{staticClass:"update-before"},[e._v("变量")])]),e._v(" "),n("div",{staticClass:"update-version-compared compared-params"},[n("div",{staticClass:"update-before params-list"},[n("key-value-normal",{attrs:{value:e.curParamsList,disabled:!0}}),e._v(" "),e.curTplParamsList.length?n("div",{staticClass:"cut-line"}):e._e(),e._v(" "),n("key-value-normal",{attrs:{value:e.curTplParamsList,disabled:!0}})],1),e._v(" "),n("div",{staticClass:"update-after params-list"},[n("key-value-normal",{attrs:{value:e.targetParamsList,disabled:!0}}),e._v(" "),e.targetTplParamsList.length?n("div",{staticClass:"cut-line"}):e._e(),e._v(" "),n("key-value-normal",{attrs:{value:e.targetTplParamsList,disabled:!0}})],1)])]):e._e(),e._v(" "),n("div",{staticClass:"update-version-compared pipeline-preview"},[n("div",{staticClass:"update-before"},[e._v("编排预览")])]),e._v(" "),n("div",{staticClass:"update-version-compared compared-pipeline-preview"},[n("div",{staticClass:"update-before previre-pipeline"},[n("div",{staticClass:"prevent-content"},[e.curStages?n("stages",{attrs:{stages:e.curStages,editable:!1}}):e._e()],1)]),e._v(" "),n("div",{staticClass:"update-after previre-pipeline"},[n("div",{staticClass:"prevent-content"},[e.targetStages?n("stages",{attrs:{stages:e.targetStages,editable:!1}}):e._e()],1)])])])])]],2)},a=[];i._withStripped=!0,n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return a}))},"fuO+":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=o(n("Kz1y")),a=n("WIBD"),r=n("eQpR"),s=o(n("E4OK"));function o(e){return e&&e.__esModule?e:{default:e}}t.default={name:"atom-selector",components:{Logo:s.default},props:{container:{type:Object,default:function(){return{}}},element:{type:Object,default:function(){return{}}},elementIndex:Number,freshAtomList:Function},data:function(){return{searchKey:"",searching:!1,classifyCode:"all",activeAtomCode:""}},computed:(0,i.default)({},(0,a.mapGetters)("atom",["getAtomTree","getAtomCodeListByCategory","getAtomModal","getDefaultVersion","classifyCodeListByCategory","isTriggerContainer"]),(0,a.mapState)("atom",["fetchingAtomList","showAtomSelectorPopup","isPropertyPanelVisible","atomClassifyMap","atomCodeList","storeAtomData","atomClassifyCodeList","atomMap","atomModalMap"]),{jobConst:function(){return r.jobConst},atomCode:function(){return this.element?this.element.atomCode&&this.element["@type"]!==this.element.atomCode?this.element.atomCode:this.element["@type"]:null},category:function(){return this.isTriggerContainer(this.container)?"TRIGGER":"TASK"},atomTree:function(){var e=this.searchKey,t=this.container,n=this.getAtomTree,i=this.getAtomFromStore,a=this.category,r=n(t.baseOS,a,e);return i(r),r},classifyCodeList:function(){var e=this.classifyCodeListByCategory(this.category);return"TRIGGER"!==this.category&&(e.unshift("all"),e.push(r.RD_STORE_CODE)),e},firstClassify:function(){return Array.isArray(this.classifyCodeList)?this.classifyCodeList[0]:"all"}}),watch:{showAtomSelectorPopup:function(e){var t=this,n=this.atomCode,i=this.getClassifyCls,a=this.getAtomClass,r=this.firstClassify,s=this.atomMap;e&&(this.classifyCode=s[n]?s[n].classifyCode:r,this.$refs.tab.calcActiveName=this.classifyCode,n&&(this.activeAtomCode=n,this.$nextTick((function(){var e=document.querySelector("."+i(t.classifyCode)+" ."+a(n)),r=document.querySelector("."+i(t.classifyCode)),s=r?r.parentElement:null;s&&e&&(s.scrollTop=e.offsetTop-s.offsetTop)}))))}},created:function(){(this.storeAtomData.page||1)<=1&&this.addStoreAtom()},methods:(0,i.default)({},(0,a.mapActions)("atom",["toggleAtomSelectorPopup","updateAtomType","fetchAtomModal","addStoreAtom","clearStoreAtom","setStoreSearch"]),{getAtomFromStore:function(e){var t=((e.all||{}).children||[]).map((function(e){return e.atomCode})),n=this.storeAtomData.data||[],i=this.container.baseOS,a=n.map((function(e){e.atomCode=e.code,e.atomType=e.rdType;var n=e.os||[],a=!n.length&&e.buildLessRunFlag||!n.length&&!i||n.findIndex((function(e){return e===i}))>-1;if(e.disabled=!a||"trigger"===e.classifyCode,e.notShowSelect=!0,a){var r=e.code,s=t.findIndex((function(e){return e===r})),o=s>-1;o&&t.splice(s,1),e.notShowSelect=!o&&!e.publicFlag,e.flag?e.tips="":e.tips="无权限安装该插件"}return e})).sort((function(e){return e.flag?1:-1})).sort((function(e){return e.notShowSelect?1:-1})).sort((function(e){return e.disabled?1:-1}));e.rdStore={children:a,classifyCode:r.RD_STORE_CODE,classifyName:"研发商店",level:0}},getClassifyCls:function(e){return"classify-"+e+"-cls"},getAtomClass:function(e){return"atom-"+e+"-cls"},getIconByCode:function(e){return document.getElementById(e)?e:"placeholder"},activeAtom:function(e){this.activeAtomCode=e.atomCode},getAtomList:function(e){var t=this.atomTree[e];return t&&Array.isArray(t.children)?t.children:[]},handleSearch:function(e){var t=this;if(this.searchKey=e.trim(),!this.searching){var n=this.classifyCodeList.indexOf(r.RD_STORE_CODE);this.classifyCode=n>-1?r.RD_STORE_CODE:this.firstClassify,this.searching=!0}clearTimeout(this.handleSearch.id),this.handleSearch.id=setTimeout((function(){t.clearStoreAtom(),t.setStoreSearch(t.searchKey),t.addStoreAtom()}),400)},clearSearch:function(){this.searching=!1,this.searchKey="",this.clearStoreAtom(),this.setStoreSearch(),this.addStoreAtom()},close:function(){this.toggleAtomSelectorPopup(!1),this.clearSearch()},handleUpdateAtomType:function(e){var t=this.elementIndex,n=this.container,i=this.updateAtomType,a=this.getAtomModal,r=this.fetchAtomModal,s=(0,this.getDefaultVersion)(e);(a({atomCode:e,version:s})?i:r)({projectCode:this.$route.params.projectId,container:n,version:s,atomCode:e,atomIndex:t}),this.close()},handleInstallStoreAtom:function(e){window.open(WEB_URL_PIRFIX+"/store/"+e+"/install/atom?projectCode="+this.$route.params.projectId+"#MARKET")},scrollLoadMore:function(e,t){if(e===r.RD_STORE_CODE){var n=event.target;n.scrollHeight-n.clientHeight-n.scrollTop<=400&&this.addStoreAtom()}}})}},g2Jq:function(e,t,n){"use strict";var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"cron-trigger"},[n("accordion",{attrs:{"show-checkbox":"","show-content":e.isShowBasicRule,"after-toggle":e.toggleBasicRule}},[n("header",{staticClass:"var-header",attrs:{slot:"header"},slot:"header"},[n("span",[e._v("基础规则")]),e._v(" "),n("input",{staticClass:"accordion-checkbox",staticStyle:{"margin-left":"auto"},attrs:{type:"checkbox"},domProps:{checked:e.showBasicRule}})]),e._v(" "),n("div",{attrs:{slot:"content"},slot:"content"},[n("form-field",{attrs:{required:!0,label:"基础规则","is-error":e.errors.has("newExpression"),"error-msg":e.errors.first("newExpression")}},[n("cron-timer",{directives:[{name:"validate",rawName:"v-validate.initial",value:{required:e.showBasicRule},expression:'{ "required": showBasicRule }',modifiers:{initial:!0}}],ref:"newExpression",attrs:{name:"newExpression",value:e.element.newExpression,"handle-change":e.handleUpdateElement}})],1)],1)]),e._v(" "),n("accordion",{attrs:{"show-checkbox":"","show-content":e.showAdvance,"after-toggle":e.toggleAdvance}},[n("header",{staticClass:"var-header",attrs:{slot:"header"},slot:"header"},[n("span",[e._v("高级（自定义crontab表达式）")]),e._v(" "),n("input",{staticClass:"accordion-checkbox",staticStyle:{"margin-left":"auto"},attrs:{type:"checkbox"},domProps:{checked:e.advance}})]),e._v(" "),n("div",{staticClass:"cron-build-tab",attrs:{slot:"content"},slot:"content"},[n("form-field",{attrs:{required:!1,label:"计划任务规则","is-error":e.errors.has("advanceExpression"),"error-msg":e.errors.first("advanceExpression")}},[n("vuex-textarea",{directives:[{name:"validate",rawName:"v-validate.initial",value:{required:e.advance},expression:'{ "required": advance }',modifiers:{initial:!0}}],attrs:{name:"advanceExpression","handle-change":e.handleUpdateElement,value:e.advanceValue,placeholder:"请填写语法正确的crontab表达式，多条表达式请换行输入"}})],1)],1)]),e._v(" "),e.showBasicRule||e.advance?e._e():n("p",{staticClass:"empty-trigger-tips"},[e._v("基础规则和自定义表达式不能同时为空")]),e._v(" "),n("form-field",{staticClass:"bk-form-checkbox"},[n("atom-checkbox",{attrs:{disabled:e.disabled,text:"源代码未更新时不触发",name:"noScm",value:e.element.noScm,"handle-change":e.handleUpdateElement}})],1)],1)},a=[];i._withStripped=!0,n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return a}))},giVD:function(e,t,n){"use strict";var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.showFormUI?n("section",{staticClass:"bk-form bk-form-vertical"},[e._l(e.paramsGroupMap,(function(t,i){return["rootProps"===i?[e._l(t.props,(function(t,i){return[!e.isHidden(t,e.atomValue)&&e.rely(t,e.atomValue)?n("form-field",{key:i,attrs:{desc:t.desc,"desc-link":t.descLink,"desc-link-text":t.descLinkText,required:t.required,label:t.label,"is-error":e.errors.has(i),"error-msg":e.errors.first(i)}},[n(t.type,e._b({directives:[{name:"validate",rawName:"v-validate.initial",value:Object.assign({},t.rule,{required:!!t.required}),expression:"Object.assign({}, obj.rule, { required: !!obj.required })",modifiers:{initial:!0}}],tag:"component",attrs:{container:e.container,"atom-value":e.atomValue,name:i,"handle-change":e.handleUpdateAtomInput,value:e.atomValue[i],placeholder:e.getPlaceholder(t,e.atomValue)}},"component",t,!1)),e._v(" "),n("route-tips",e._b({},"route-tips",e.getComponentTips(t,e.atomValue),!1))],1):e._e()]}))]:n("accordion",{key:i,attrs:{"show-checkbox":"","show-content":t.isExpanded}},[n("header",{staticClass:"var-header",attrs:{slot:"header"},slot:"header"},[n("span",[e._v(e._s(t.label))]),e._v(" "),n("i",{staticClass:"bk-icon icon-angle-down",staticStyle:{display:"block"}})]),e._v(" "),n("div",{attrs:{slot:"content"},slot:"content"},[e._l(t.props,(function(t,i){return[!e.isHidden(t,e.atomValue)&&e.rely(t,e.atomValue)?n("form-field",{key:i,attrs:{desc:t.desc,"desc-link":t.descLink,"desc-link-text":t.descLinkText,required:t.required,label:t.label,"is-error":e.errors.has(i),"error-msg":e.errors.first(i)}},[n(t.type,e._b({directives:[{name:"validate",rawName:"v-validate.initial",value:Object.assign({},t.rule,{required:!!t.required}),expression:"Object.assign({}, obj.rule, { required: !!obj.required })",modifiers:{initial:!0}}],tag:"component",attrs:{container:e.container,"atom-value":e.atomValue,name:i,"handle-change":e.handleUpdateAtomInput,value:e.atomValue[i],placeholder:e.getPlaceholder(t,e.atomValue)}},"component",t,!1)),e._v(" "),n("route-tips",e._b({},"route-tips",e.getComponentTips(t,e.atomValue),!1))],1):e._e()]}))],2)])]})),e._v(" "),e.outputProps?n("accordion",{attrs:{"show-checkbox":"","show-content":""}},[n("header",{staticClass:"var-header",attrs:{slot:"header"},slot:"header"},[n("span",[e._v("插件输出")]),e._v(" "),n("i",{staticClass:"bk-icon icon-angle-down",staticStyle:{display:"block"}})]),e._v(" "),n("div",{attrs:{slot:"content"},slot:"content"},[n("form-field",{staticClass:"output-namespace",attrs:{desc:e.outputNamespaceDesc,label:"输出字段命名空间","is-error":e.errors.has("namespace"),"error-msg":e.errors.first("namespace")}},[n("vuex-input",{directives:[{name:"validate",rawName:"v-validate.initial",value:{varRule:!0},expression:"{ varRule: true }",modifiers:{initial:!0}}],attrs:{name:"namespace","handle-change":e.handleUpdateAtomOutputNameSpace,value:e.namespace,placeholder:""}})],1),e._v(" "),n("div",{staticClass:"atom-output-var-list"},[n("h4",[e._v("输出字段列表：")]),e._v(" "),e._l(e.outputProps,(function(t,i){return n("p",{key:i},[e._v("\n                    "+e._s(e.namespace?e.namespace+"_":"")+e._s(i)+"\n                    "),n("bk-popover",{attrs:{placement:"right"}},[n("i",{staticClass:"bk-icon icon-info-circle"}),e._v(" "),n("div",{attrs:{slot:"content"},slot:"content"},[e._v("\n                            "+e._s(t.description)+"\n                        ")])])],1)}))],2)],1)]):e._e()],2):n("section",[n("div",{staticClass:"empty-tips"},[e._v("你正在使用的插件需要使用蓝鲸部署服务,请联系DevOps(蓝盾人工客服)开启")])])},a=[];i._withStripped=!0,n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return a}))},"h+/z":function(e,t,n){"use strict";var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{directives:[{name:"bk-clickoutside",rawName:"v-bk-clickoutside",value:e.close,expression:"close"}],staticClass:"bk-cascader",class:[{open:e.showList}]},[n("input",{staticClass:"bk-form-input",attrs:{type:"text",autocomplete:"off",name:e.name,disabled:e.disabled,placeholder:e.placeholder},domProps:{value:e.currentValue},on:{input:e.input,mousedown:function(t){e.showList=!0}}}),e._v(" "),n("i",{class:["bk-icon icon-angle-down bk-selector-icon",{disabled:e.disabled}],on:{click:function(t){t.stopPropagation(),e.showList=!e.showList}}}),e._v(" "),e.showList&&!e.searchKey&&e.atomTreeList.length?n("div",{staticClass:"bk-cascader-list bk-cascader-items"},[e.atomTreeList.length>1?n("ul",e._l(e.atomTreeList,(function(t){return n("li",{key:t[e.classifyKey],staticClass:"bk-cascader-list-item",class:{"bk-cascader-selected":e.selected[t.level]===t[e.classifyKey]},on:{click:function(n){return n.stopPropagation(),e.handleSelect(t,e.classifyKey)}}},[n("div",{staticClass:"bk-cascader-node",class:{"is-disabled":t.disabled}},[n("div",{staticClass:"text"},[e._v("\n                        "+e._s(t.classifyName)+"\n                        ")]),e._v(" "),t.children&&t.children.length?n("i",{staticClass:"bk-icon icon-angle-right"}):e._e()])])})),0):e._e(),e._v(" "),e.chList&&e.chList.length?n("ul",{staticClass:"bk-cascader-list-ulg"},e._l(e.chList,(function(t){return n("li",{key:t[e.leafKey],staticClass:"bk-cascader-list-item",class:{"bk-cascader-selected":e.selected[t.level]===t[e.leafKey]},on:{click:function(n){return n.stopPropagation(),e.handleSelect(t,e.leafKey)}}},[n("div",{staticClass:"bk-cascader-node",class:{"is-disabled":t.disabled}},[n("bk-popover",{attrs:{placement:"top-start",content:e.tips,disabled:!t.disabled}},[n("div",{staticClass:"text"},[e._v("\n                            "+e._s(t.name)+"\n                            "),t.atomLabelList.length?n("span",{staticClass:"new-service-icon"},[e._v(e._s(t.atomLabelList))]):e._e()])])],1)])})),0):e._e()]):e._e(),e._v(" "),e.showList&&e.searchKey?n("div",{staticClass:"bk-cascader-list bk-cascader-groups"},[n("ul",[e._l(e.searchList,(function(t,i){return n("li",{key:i,staticClass:"bk-cascader-group-list-item"},[n("div",{staticClass:"bk-cascader-group-name"},[e._v(e._s(t.classifyName))]),e._v(" "),n("ul",{staticClass:"bk-cascader-group-list"},e._l(t.children,(function(t,i){return n("li",{key:i,staticClass:"bk-cascader-list-item"},[n("div",{staticClass:"bk-cascader-node bk-cascader-sub-node",class:{"bk-cascader-selected":t[e.leafKey]===e.value,"is-disabled":t.disabled}},[n("bk-popover",{attrs:{placement:"top-start",content:e.tips,disabled:!t.disabled}},[n("div",{staticClass:"text",on:{click:function(n){return n.stopPropagation(),e.handleSelect(t,e.leafKey)}}},[e._v("\n                                    "+e._s(t.name)+"\n                                    "),t.atomLabelList.length?n("span",{staticClass:"new-service-icon"},[e._v(e._s(t.atomLabelList))]):e._e()])])],1)])})),0)])})),e._v(" "),0===e.searchList.length?n("li",{staticClass:"bk-cascader-list-item"},[n("div",{staticClass:"text"},[e._v("暂无数据")])]):e._e()],2)]):e._e()])},a=[];i._withStripped=!0,n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return a}))},"h/YL":function(e,t,n){"use strict";n.r(t);var i=n("dON8"),a=n("VBMx");for(var r in a)"default"!==r&&function(e){n.d(t,e,(function(){return a[e]}))}(r);n("9WkF");var s=n("psIG"),o=Object(s.a)(a.default,i.a,i.b,!1,null,null,null);o.options.__file="src/components/atomFormField/AtomCheckbox/index.vue",t.default=o.exports},hAt0:function(e,t,n){"use strict";n.r(t);var i=n("bEIi"),a=n.n(i);for(var r in i)"default"!==r&&function(e){n.d(t,e,(function(){return i[e]}))}(r);t.default=a.a},"hN9/":function(e,t,n){"use strict";var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.listData.length?n("section",{staticClass:"template-table"},[n("table",{staticClass:"bk-table template-list-table"},[e._m(0),e._v(" "),n("tbody",e._l(e.listData,(function(t,i){return n("tr",{key:i},[n("td",{attrs:{colspan:"7"}},[n("table",{staticStyle:{border:"0"}},[n("tr",[n("td",{staticClass:"icon-item",attrs:{width:"10%"}},[t.logoUrl?n("img",{staticClass:"pipeline-icon",attrs:{src:t.logoUrl}}):n("logo",{attrs:{size:"40",name:"pipeline"}})],1),e._v(" "),n("td",{class:{"template-name":e.isManagerUser},attrs:{width:"16%",title:t.name}},[n("span",{on:{click:function(n){return e.editTemplate(t)}}},[e._v(e._s(t.name))])]),e._v(" "),n("td",{staticClass:"template-version",attrs:{width:"10%",title:t.versionName}},[e._v(e._s(t.versionName))]),e._v(" "),n("td",{attrs:{width:"10%"}},[e._v(e._s(e._f("templateTypeFilter")(t.templateType)))]),e._v(" "),n("td",{staticClass:"template-code",attrs:{width:"30%"}},[n("section",{staticClass:"codelib-box",attrs:{title:e.handleFormat(t.associateCodes)}},[e._l((t.associateCodes||[]).slice(0,3),(function(t,i){return n("div",{key:i,staticClass:"codelib-item"},[e._v(e._s(t))])})),e._v(" "),t.associateCodes.length>3?n("div",{staticClass:"codelib-item ellipsis"},[e._v("......")]):e._e()],2)]),e._v(" "),n("td",{attrs:{width:"8%"}},[n("div",{class:[e.canCreatePP?"create-permission":"not-create-permission","pipeline-instance"],on:{click:function(n){return e.toInstanceList(t)}}},[e._v(e._s(t.associatePipelines.length))])]),e._v(" "),n("td",{class:[{"not-permission":!e.isManagerUser},"handler-btn"],attrs:{width:"16%"}},[n("span",{class:e.canCreatePP?"create-permission":"not-create-permission",on:{click:function(n){return e.toInstanceList(t)}}},[e._v("实例化")]),e._v(" "),n("span",{class:[{"has-show":t.showMore},"show-more"],attrs:{"data-name":"btns"},on:{click:function(n){return n.stopPropagation(),e.showTools(t)}}},[e._v("\n                                    更多\n                                    "),n("ul",{directives:[{name:"show",rawName:"v-show",value:t.showMore,expression:"row.showMore"}],staticClass:"btn-more"},[n("li",{attrs:{"data-name":"copy"},on:{click:function(n){return e.copyTemplate(t)}}},[e._v("复制")]),e._v(" "),["constraint","CONSTRAINT"].includes(t.templateType)?e._e():[["customize","CUSTOMIZE"].includes(t.templateType)&&t.storeFlag?n("li",{staticClass:"has-stored",attrs:{"data-name":"stored"}},[e._v("已关联商店")]):n("li",{attrs:{"data-name":"store"},on:{click:function(n){return e.toRelativeStore(t)}}},[e._v("关联商店")])],e._v(" "),n("li",{attrs:{"data-name":"delete"},on:{click:function(n){return e.deleteTemplate(t)}}},[e._v(e._s(["constraint","CONSTRAINT"].includes(t.templateType)?"卸载":"删除"))])],2)])])])])])])})),0)]),e._v(" "),n("bk-pagination",{attrs:{"paging-config":e.pagingConfig,limit:e.pagingConfig.limit,current:e.pagingConfig.current,count:e.pagingConfig.count,size:"small"},on:{"update:pagingConfig":function(t){e.pagingConfig=t},"update:paging-config":function(t){e.pagingConfig=t},"limit-change":e.pageCountChange,change:e.pageChange}}),e._v(" "),n("bk-dialog",{attrs:{width:"800","header-position":"left","ext-cls":"pipeline-form-dialog",title:e.copyTemp.title,"close-icon":e.copyTemp.closeIcon},on:{confirm:e.copyConfirmHandler,cancel:e.copyCancelHandler},model:{value:e.copyTemp.isShow,callback:function(t){e.$set(e.copyTemp,"isShow",t)},expression:"copyTemp.isShow"}},[[n("section",{staticClass:"copy-pipeline bk-form"},[n("div",{staticClass:"bk-form-item"},[n("label",{staticClass:"bk-label"},[e._v("模板名称：")]),e._v(" "),n("div",{staticClass:"bk-form-content"},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.copyTemp.templateName,expression:"copyTemp.templateName"},{name:"validate",rawName:"v-validate",value:"required|max:30",expression:'"required|max:30"'}],staticClass:"bk-form-input",class:{"is-danger":e.copyTemp.nameHasError},attrs:{type:"text",placeholder:"请输入模板名称，不能超过30个字符",name:"copyTemplateName",maxlength:"30"},domProps:{value:e.copyTemp.templateName},on:{input:[function(t){t.target.composing||e.$set(e.copyTemp,"templateName",t.target.value)},function(t){e.copyTemp.nameHasError=!1}]}})]),e._v(" "),e.errors.has("copyTemplateName")?n("p",{staticClass:"error-tips err-name"},[e._v("模板名称不能超过30个字符")]):e._e()]),e._v(" "),n("div",{staticClass:"bk-form-item"},[n("label",{staticClass:"bk-label tip-bottom"},[e._v("应用设置\n                        "),n("span",{directives:[{name:"bk-tooltips",rawName:"v-bk-tooltips.bottom-end",value:"选“是”则将流水线设置应用于复制后的模版",expression:"'选“是”则将流水线设置应用于复制后的模版'",modifiers:{"bottom-end":!0}}],staticClass:"bottom-end"},[n("i",{staticClass:"bk-icon icon-info-circle"})])]),e._v(" "),n("div",{staticClass:"bk-form-content"},[n("bk-radio-group",{model:{value:e.copyTemp.isCopySetting,callback:function(t){e.$set(e.copyTemp,"isCopySetting",t)},expression:"copyTemp.isCopySetting"}},e._l(e.copySettings,(function(t,i){return n("bk-radio",{key:i,staticClass:"form-radio",attrs:{value:t.value}},[e._v(e._s(t.label))])})),1)],1)])])]],2)],1):e._e()},a=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("thead",[n("tr",[n("th",{attrs:{width:"10%"}},[e._v("图标")]),e._v(" "),n("th",{attrs:{width:"16%"}},[e._v("模板名称")]),e._v(" "),n("th",{attrs:{width:"10%"}},[e._v("版本")]),e._v(" "),n("th",{attrs:{width:"10%"}},[e._v("来源")]),e._v(" "),n("th",{attrs:{width:"30%"}},[e._v("关联代码库")]),e._v(" "),n("th",{attrs:{width:"8%"}},[e._v("流水线实例")]),e._v(" "),n("th",{attrs:{width:"16%"}},[e._v("操作")])])])}];i._withStripped=!0,n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return a}))},"hON/":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=o(n("Kz1y")),a=o(n("WyVq")),r=o(n("0w5d")),s=n("WIBD");function o(e){return e&&e.__esModule?e:{default:e}}t.default={name:"build-script",mixins:[a.default,r.default],computed:(0,i.default)({},(0,s.mapGetters)("atom",["checkPipelineInvalid","getEditingElementPos"]),(0,s.mapState)("atom",["pipeline"]),{projectId:function(){return this.$route.params.projectId},pipelineId:function(){return this.$route.params.pipelineId},langList:function(){return this.atomPropsModel.scriptType.list},lang:function(){var e=this,t=this.langList.find((function(t){return t.value===e.element.scriptType}));return t?t.id:""}}),created:function(){void 0!==this.atomPropsModel.archiveFile&&(this.atomPropsModel.archiveFile.hidden=!this.element.enableArchiveFile)},methods:(0,i.default)({},(0,s.mapActions)("atom",["setPipeline"]))}},hUON:function(e,t,n){"use strict";var i=n("7Rhb");n.n(i).a},hk2v:function(e,t,n){"use strict";var i=function(){var e=this.$createElement;return(this._self._c||e)("bk-input",{attrs:{readonly:"",value:this.appName,disabled:""}})},a=[];i._withStripped=!0,n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return a}))},hqiq:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=o(n("Kz1y")),a=o(n("2eEL")),r=n("WIBD"),s=n("2K1W");function o(e){return e&&e.__esModule?e:{default:e}}t.default={name:"bk-trees",components:{CollapseTransition:a.default},props:{list:{type:Array,default:function(){return[]}},deepCount:{type:Number,default:1},isRoot:{type:Boolean,default:!0},roadMap:{type:[String,Number],default:"0"}},computed:(0,i.default)({},(0,r.mapState)("artifactory",["curNodeOnTree"]),(0,r.mapGetters)({sideMenuList:"artifactory/getSideMenuList"}),{_deepCount:function(){return this.deepCount+1}}),created:function(){var e=this;s.bus.$off("tree-item-click"),s.bus.$on("tree-item-click",(function(t){e.changeRoadMap(t)}))},methods:{itemDbClickHandler:function(e){this.timer&&clearTimeout(this.timer),e.src="dbClick",this.changeRoadMap(e)},itemClickHandler:function(e){var t=this;this.timer&&clearTimeout(this.timer),this.timer=setTimeout((function(){e.src="click",t.changeRoadMap(e)}),300)},changeRoadMap:function(e){var t=e.index,n=e.deepCount,i=e.item,a=e.src,r=void 0===a?"click":a,o=e.roadMap,l=void 0===o?"":o,u="";if(u="pipelines"===i.type?"2,"+t:"1,"+t,""===l&&(l=this.isRoot?u:this.getRoadMap(t,r)),i.folder&&i.isOpen&&"dbClick"===r?i.isOpen=!1:i.isOpen=!0,i.isOpen)if("dbClick"===r){var c={};c.roadMap=l,c.list=this.sideMenuList[0].list,c.noLoading=!0,s.bus.$emit("get-item",c)}else this.$store.commit("artifactory/updateCurNodeOnTree",{index:t,deepCount:n,item:i,roadMap:l})},getRoadMap:function(e,t){var n="";if("right"===t)n=this.curNodeOnTree.roadMap+","+e;else{var i=this;for(n=~~i.roadMap+","+e;!i.isRoot;)n=~~(i=i.$parent).roadMap+","+n}return n},isActive:function(e){return this.getRoadMap(e)===this.curNodeOnTree.roadMap}}}},ht3m:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=s(n("TcPG")),a=s(n("WyVq")),r=s(n("0w5d"));function s(e){return e&&e.__esModule?e:{default:e}}t.default={name:"timer-trigger",mixins:[a.default,r.default],data:function(){return{isShowBasicRule:!0,showBasicRule:!1,advance:!1,advanceValue:this.element.advanceExpression&&this.element.advanceExpression.join("\n")||[]}},computed:{showAdvance:function(){return void 0!==this.element.advanceExpression&&!!this.element.advanceExpression.length}},watch:{showBasicRule:function(e){var t=this;e||this.advance||setTimeout((function(){t.handleUpdateElement("isError",!0)}),200)},advance:function(e){var t=this;e||this.showBasicRule||setTimeout((function(){t.handleUpdateElement("isError",!0)}),200)}},created:function(){var e=this;this.showAdvance||void 0===this.element.expression||""===this.element.expression||(this.handleUpdateElement("advanceExpression",this.element.expression),this.deletePropKey({element:this.element,propKey:"expression"})),this.advanceValue&&this.advanceValue.length&&!this.element.newExpression.length&&(this.isShowBasicRule=!1),this.$nextTick((function(){e.toggleBasicRule(e.$el,e.isShowBasicRule),e.toggleAdvance(e.$el,e.showAdvance)}))},methods:{updateProps:function(e){this.updateAtom({element:this.element,newParam:e})},toggleBasicRule:function(e,t){if(t)this.showBasicRule=!0;else{this.showBasicRule=!1,this.handleUpdateElement("newExpression",[]),this.$refs.newExpression&&this.$refs.newExpression.resetSelectedWeek()}},toggleAdvance:function(e,t){if(t)this.advance=!0;else{this.advance=!1,this.advanceValue=[],this.handleUpdateElement("advanceExpression","")}},handleUpdateElement:function(e,t){"advanceExpression"===e&&(t=t.split("\n").filter((function(e){return""!==e}))),this.updateProps((0,i.default)({},e,t))}}}},hzH0:function(e,t,n){"use strict";n.r(t);var i=n("giVD"),a=n("ex99");for(var r in a)"default"!==r&&function(e){n.d(t,e,(function(){return a[e]}))}(r);n("IDyY");var s=n("psIG"),o=Object(s.a)(a.default,i.a,i.b,!1,null,null,null);o.options.__file="src/components/AtomPropertyPanel/NormalAtomV2.vue",t.default=o.exports},"i/qZ":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=s(n("q7rD")),a=s(n("ZdkB")),r=s(n("eI+G"));function s(e){return e&&e.__esModule?e:{default:e}}t.default={name:"code-mode-selector",components:{EnumInput:a.default,VuexInput:r.default},mixins:[i.default],props:{text:{type:String},repositoryHashId:{type:String,required:!0},branchName:{type:String,default:""},elementType:{type:String,default:""},value:{type:Object},noUsePermission:{type:Boolean}},data:function(){return{noPermission:!1,isLoading:!1,list:[],gitPullModeType:this.value&&this.value.type||"",gitPullModeVal:this.value&&this.value.value||"",gitPullModeList:{BRANCH:{label:"分支名称",placeholder:"请输入分支",default:"master"},TAG:{label:"Tag",placeholder:"请输入Tag",default:""},COMMIT_ID:{label:"CommitID",placeholder:"请输入指定CommitID",default:""}},gitPullModes:[{id:"branch",value:"BRANCH",label:"按分支"},{id:"tag",value:"TAG",label:"按TAG"},{id:"commitId",value:"COMMIT_ID",label:"按CommitID"}]}},computed:{projectId:function(){return this.$route.params.projectId},dataInputConfig:function(){return{data:this.list||[],onChange:this.onChange}}},watch:{elementType:function(e){this.gitPullModeType="BRANCH",this.changeGitPullMode(!0)},gitPullModeType:function(e){this.changeGitPullMode(!0)},repositoryHashId:function(e){this.noPermission=!1,this.changeGitPullMode(!0)},noUsePermission:function(e){this.noPermission=e,e||this.changeGitPullMode(!1)}},created:function(){var e=this;this.gitPullModeType?this.changeGitPullMode(!1):(this.gitPullModeType="BRANCH",this.$nextTick((function(){e.branchName&&(e.gitPullModeVal=e.branchName),e.handleElementChange()})))},methods:{onChange:function(e,t){this.handleValueChange("value",t)},changeGitPullMode:function(e){this.list=[],e&&this.handleValueChange("value",this.gitPullModeList[this.gitPullModeType].default)},handleElementChange:function(){this.handleChange("gitPullMode",{type:this.gitPullModeType,value:this.gitPullModeVal})},handleModeChange:function(e,t){this.gitPullModeType=t,this.gitPullModeVal="",this.handleElementChange()},handleValueChange:function(e,t){this.gitPullModeVal=t,this.handleElementChange()}}}},i5G6:function(e,t,n){"use strict";var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("selector",{attrs:{tools:e.tools,name:e.name,edit:e.edit,placeholder:e.isLoading?"获取数据中...":e.placeholder,"handle-change":e.handleChange,list:e.list,"toggle-visible":e.toggleVisible,"is-loading":e.isLoading,value:e.value,searchable:e.searchable,"multi-select":e.multiSelect,disabled:e.disabled||e.isLoading}},[e.hasAddItem?n("template",{slot:"props"},[n("div",{staticClass:"bk-selector-create-item"},[n("a",{attrs:{href:e.urlParse(e.webUrl+e.itemTargetUrl,{projectId:e.projectId}),target:"_blank"}},[n("i",{staticClass:"bk-icon icon-plus-circle"}),e._v("\n                "+e._s(e.itemText)+"\n            ")])])]):e._e()],2)},a=[];i._withStripped=!0,n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return a}))},iBXJ:function(e,t,n){"use strict";n.r(t);var i=n("bJq6"),a=n("B4pn");for(var r in a)"default"!==r&&function(e){n.d(t,e,(function(){return a[e]}))}(r);n("lmJ7");var s=n("psIG"),o=Object(s.a)(a.default,i.a,i.b,!1,null,null,null);o.options.__file="src/components/ContainerPropertyPanel/ContainerEnvNode.vue",t.default=o.exports},iLMM:function(e,t,n){"use strict";n.r(t);var i=n("wRgW"),a=n("bmG3");for(var r in a)"default"!==r&&function(e){n.d(t,e,(function(){return a[e]}))}(r);n("q7+V");var s=n("psIG"),o=Object(s.a)(a.default,i.a,i.b,!1,null,null,null);o.options.__file="src/components/ContainerPropertyPanel/VersionConfig.vue",t.default=o.exports},"ic+k":function(e,t,n){"use strict";var i=n("EXLY");n.n(i).a},itRb:function(e,t,n){"use strict";var i=function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"biz-container pipeline-subpages"},[t("div",{staticClass:"biz-side-bar"},[t("side-bar",{attrs:{nav:this.nav,"side-menu-list":this.sideMenuList,"sub-system-name":"pipelines"}})],1),this._v(" "),t("router-view",{staticClass:"biz-content"})],1)},a=[];i._withStripped=!0,n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return a}))},jFtf:function(e,t,n){"use strict";n.r(t);var i=n("PrK5"),a=n.n(i);for(var r in i)"default"!==r&&function(e){n.d(t,e,(function(){return i[e]}))}(r);t.default=a.a},jU13:function(e,t,n){"use strict";var i=n("t+6C");n.n(i).a},jzcZ:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=r(n("piGG")),a=r(n("E4OK"));function r(e){return e&&e.__esModule?e:{default:e}}t.default={name:"side-nav",components:{bkMenu:i.default,Logo:a.default},props:{sideMenuList:{type:Array,default:function(){return[{list:[],title:""}]}},dropdownConfig:{type:Object,default:function(){return{}}},nav:{type:Object,default:function(){return{icon:"",title:""}}}},computed:{projectId:function(){return this.$route.params.projectId},currentYear:function(){return(new Date).getFullYear()}},mounted:function(){this.projectId&&this.$store.commit("updateCurSelectedOnlineProject",this.projectId)},methods:{backUrl:function(e){this.$router.push({name:e})},menuSelected:function(e){e.item.isSelected=!0,this.$router.push({name:e.isChild?e.child.id:e.item.id,params:e.item.params})}}}},"kKM+":function(e,t,n){"use strict";n.r(t);var i=n("pPuX"),a=n("xZjW");for(var r in a)"default"!==r&&function(e){n.d(t,e,(function(){return a[e]}))}(r);n("NwYm");var s=n("psIG"),o=Object(s.a)(a.default,i.a,i.b,!1,null,null,null);o.options.__file="src/components/atomFormField/RouteTips/index.vue",t.default=o.exports},kPdS:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=s(n("Cffk")),a=s(n("q7rD")),r=n("ygAv");function s(e){return e&&e.__esModule?e:{default:e}}t.default={name:"atom-ace-editor",components:{Ace:i.default},mixins:[a.default],props:{lang:{type:String,default:"sh"}},data:function(){return{height:360,isFullScreen:!1}},watch:{isFullScreen:function(e){var t=(0,r.getActualTop)(this.$el),n=document.body.clientHeight;this.height=e?Math.max(n-10,360):Math.max(n-t-180,360)}},mounted:function(){var e=(0,r.getActualTop)(this.$el),t=document.body.clientHeight;this.height=Math.max(t-e-180,360)},methods:{handleScriptInput:function(e){this.handleChange(this.name,e)},setFullScreen:function(){this.isFullScreen=!this.isFullScreen}}}},kWkj:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={computed:{hasDropMenu:function(){return!!this.$refs.dropMenu&&this.$refs.dropMenu},pixelsToPointerTop:function(){var e=0;if(this.hasDropMenu)for(var t=0;t<this.selectedPointer;t++)e+=this.$refs.dropMenu.children[0].children[t].offsetHeight;return e},selectedElementHeight:function(){var e=!!this.hasDropMenu&&this.$refs.dropMenu.children[0].children[this.selectedPointer];return e?e.offsetHeight:0},pixelsToPointerBottom:function(){return this.pixelsToPointerTop+this.selectedElementHeight}},methods:{getViewPort:function(){var e=0,t=0;if(this.hasDropMenu){var n=this.$refs.dropMenu;e=n.scrollTop,t=n.scrollTop+n.offsetHeight}return{top:e,bottom:t}},adjustViewPort:function(){var e=this.getViewPort();if(this.pixelsToPointerTop<=e.top)return this.scrollTo(this.pixelsToPointerTop);this.pixelsToPointerBottom>=e.bottom&&this.scrollTo(e.top+this.selectedElementHeight)},scrollTo:function(e){this.hasDropMenu&&(this.$refs.dropMenu.scrollTop=e||null)},handleKeyup:function(){this.selectedPointer>0&&(this.selectedPointer--,this.adjustViewPort())},handleKeydown:function(){this.optionListVisible||(this.optionListVisible=!0),this.selectedPointer<this.filteredList.length-1&&(this.selectedPointer++,this.adjustViewPort())},handleEnterOption:function(){var e=this.filteredList[this.selectedPointer];e&&!e.disabled&&(this.handleChange(this.name,e.id),this.handleBlur())}}}},kXUh:function(e,t,n){},kiu7:function(e,t,n){},kpxA:function(e,t,n){"use strict";n.r(t);var i=n("EriE"),a=n("YR8h");for(var r in a)"default"!==r&&function(e){n.d(t,e,(function(){return a[e]}))}(r);var s=n("psIG"),o=Object(s.a)(a.default,i.a,i.b,!1,null,null,null);o.options.__file="src/components/AtomPropertyPanel/CodeSvnWebHookTrigger.vue",t.default=o.exports},kqdu:function(e,t,n){"use strict";n.r(t);var i=n("rZGR"),a=n("6FlX");for(var r in a)"default"!==r&&function(e){n.d(t,e,(function(){return a[e]}))}(r);n("GVNL");var s=n("psIG"),o=Object(s.a)(a.default,i.a,i.b,!1,null,null,null);o.options.__file="src/views/template/edit.vue",t.default=o.exports},kvDO:function(e,t,n){"use strict";n.r(t);var i=n("GZWC"),a=n("/Thn");for(var r in a)"default"!==r&&function(e){n.d(t,e,(function(){return a[e]}))}(r);n("yIhZ");var s=n("psIG"),o=Object(s.a)(a.default,i.a,i.b,!1,null,null,null);o.options.__file="src/components/atomFormField/SvnpathInput/index.vue",t.default=o.exports},lJ9I:function(e,t,n){"use strict";n.r(t);var i=n("N+iZ"),a=n("7LW0");for(var r in a)"default"!==r&&function(e){n.d(t,e,(function(){return a[e]}))}(r);var s=n("psIG"),o=Object(s.a)(a.default,i.a,i.b,!1,null,null,null);o.options.__file="src/components/AtomPropertyPanel/AtomOption.vue",t.default=o.exports},lb1u:function(e,t,n){},lmJ7:function(e,t,n){"use strict";var i=n("IknT");n.n(i).a},lvAI:function(e,t,n){"use strict";n.r(t);var i=n("cgVe"),a=n("dODI");for(var r in a)"default"!==r&&function(e){n.d(t,e,(function(){return a[e]}))}(r);var s=n("psIG"),o=Object(s.a)(a.default,i.a,i.b,!1,null,null,null);o.options.__file="src/components/AtomFormComponent/DatePicker/index.vue",t.default=o.exports},lwuc:function(e,t,n){"use strict";n.r(t);var i=n("vozC"),a=n("XNUb");for(var r in a)"default"!==r&&function(e){n.d(t,e,(function(){return a[e]}))}(r);var s=n("psIG"),o=Object(s.a)(a.default,i.a,i.b,!1,null,null,null);o.options.__file="src/components/ContainerPropertyPanel/JobOption.vue",t.default=o.exports},m1ID:function(e,t,n){"use strict";var i=n("ARnP");n.n(i).a},md7T:function(e,t,n){n("6JBb"),e.exports=n("TaGV").Object.values},nHZS:function(e,t,n){"use strict";n.r(t);var i=function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"inner-header clearfix"},[t("div",{staticClass:"inner-header-left"},[this._t("left")],2),this._v(" "),t("div",{staticClass:"inner-header-right"},[this._t("right")],2)])};i._withStripped=!0;n("/4vC");var a=n("psIG"),r=Object(a.a)({},i,[],!1,null,null,null);r.options.__file="src/components/devops/inner_header.vue";t.default=r.exports},nVah:function(e,t,n){"use strict";n.r(t);var i=n("LlyV"),a=n.n(i);for(var r in i)"default"!==r&&function(e){n.d(t,e,(function(){return i[e]}))}(r);t.default=a.a},nXrI:function(e,t,n){"use strict";var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"Key-value-nomal"},[n("ul",[e.paramList.length?e._l(e.paramList,(function(t,i){return n("li",{key:i,staticClass:"param-item",attrs:{isError:e.errors.any("param-"+i)}},[n("form-field",{attrs:{"is-error":e.errors.has("param-"+i+".key"),"error-msg":e.errors.first("param-"+i+".key")}},[n("vuex-input",{directives:[{name:"validate",rawName:"v-validate.initial",value:"required|unique:"+e.paramList.map((function(e){return e.key})).join(",")+"|max: 30|"+e.snonVarRule,expression:'`required|unique:${paramList.map(p => p.key).join(",")}|max: 30|${snonVarRule}`',modifiers:{initial:!0}}],attrs:{"data-vv-scope":"param-"+i,disabled:e.disabled,"handle-change":function(t,n){return e.handleParamChange(t,n,i)},name:"key",placeholder:"Key",value:t.key}})],1),e._v(" "),n("div",{staticClass:"bk-form-item"},[n("vuex-input",{attrs:{name:"value",disabled:e.disabled,placeholder:"Value",value:t.value,"handle-change":function(t,n){return e.handleParamChange(t,n,i)}}})],1),e._v(" "),e.disabled?e._e():n("i",{staticClass:"bk-icon icon-minus hover-click",on:{click:function(t){return t.stopPropagation(),t.preventDefault(),e.editParam(i,!1)}}})],1)})):e._e(),e._v(" "),e.disabled?e._e():n("a",{staticClass:"text-link hover-click",on:{click:function(t){return t.stopPropagation(),t.preventDefault(),e.editParam(e.paramList.length,!0)}}},[n("i",{staticClass:"bk-icon icon-plus-circle"}),e._v(" "),n("span",[e._v("新增变量")])])],2)])},a=[];i._withStripped=!0,n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return a}))},ndyi:function(e,t,n){"use strict";n.r(t);var i=n("6YkC"),a=n.n(i);for(var r in i)"default"!==r&&function(e){n.d(t,e,(function(){return i[e]}))}(r);t.default=a.a},o0s9:function(e,t,n){},oE9V:function(e,t,n){},obfs:function(e,t,n){},og3W:function(e,t,n){"use strict";var i=n("Kkf7");n.n(i).a},ohCf:function(e,t,n){"use strict";var i=n("N4e7");n.n(i).a},ohnJ:function(e,t,n){"use strict";n.r(t);var i=n("JsCa"),a=n.n(i);for(var r in i)"default"!==r&&function(e){n.d(t,e,(function(){return i[e]}))}(r);t.default=a.a},pHuA:function(e,t,n){"use strict";n.r(t);var i=n("C49R"),a=n("ERea");for(var r in a)"default"!==r&&function(e){n.d(t,e,(function(){return a[e]}))}(r);n("c6AQ");var s=n("psIG"),o=Object(s.a)(a.default,i.a,i.b,!1,null,null,null);o.options.__file="src/components/pipelineSetting/settingBase/index.vue",t.default=o.exports},pKk1:function(e,t,n){"use strict";var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"bk-form bk-form-vertical"},[e._l(e.newModel,(function(t,i){return[t.hidden?e._e():n("form-field",{key:i,attrs:{desc:t.desc,required:t.required,label:t.label,"is-error":e.errors.has(i),"error-msg":e.errors.first(i)}},[n(t.component,e._b({directives:[{name:"validate",rawName:"v-validate.initial",value:Object.assign({},t.rule,{required:t.required}),expression:"Object.assign({}, obj.rule, { required: obj.required })",modifiers:{initial:!0}}],tag:"component",attrs:{name:i,"handle-change":"buildNoType"===i?e.handleChoose:"pipelineId"===i?e.handleSelect:e.handleUpdateElement,value:e.element[i]}},"component",t,!1)),e._v(" "),"destPath"===i&&e.element.srcPaths?n("route-tips",{attrs:{visible:!0,"src-tips":e.srcTips,"path-tips":e.pathTips}}):e._e()],1)]}))],2)},a=[];i._withStripped=!0,n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return a}))},pPuX:function(e,t,n){"use strict";var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.visible?n("div",{staticClass:"route-tips",style:e.pathTips?"":"height:48px"},[n("div",{staticClass:"tips-icon"},[n("i",{staticClass:"bk-icon icon-info-circle-shape",style:e.pathTips?"":"margin: 15px 13px;"})]),e._v(" "),n("div",{staticClass:"tips-content"},[e.srcTips?n("p",{staticClass:"tips-row",style:e.pathTips?"":"margin-top: 15px"},[n("span",{staticClass:"tips-label"},[e._v("源 ：")]),e._v(" "),n("span",{staticClass:"tips-route",attrs:{title:e.srcTips}},[e._v(e._s(e.srcTips))])]):e._e(),e._v(" "),e.pathTips?n("p",{staticClass:"tips-row",staticStyle:{"margin-top":"0px"}},[n("span",{staticClass:"tips-label"},[e._v("目标 ：")]),e._v(" "),n("span",{staticClass:"tips-route",attrs:{title:e.pathTips}},[e._v(e._s(e.pathTips))])]):e._e(),e._v(" "),e.keystoreTips?n("p",{staticClass:"tips-row keystore-row",style:e.pathTips?"":"margin-top: 15px"},[n("span",{staticClass:"tips-label",staticStyle:{width:"78px"}},[e._v("证书文件 ：")]),e._v(" "),n("span",{staticClass:"tips-route",attrs:{title:e.keystoreTips}},[e._v(e._s(e.keystoreTips))])]):e._e(),e._v(" "),e.githubAppUrl?n("p",{staticClass:"tips-row",staticStyle:{"margin-top":"15px"}},[n("span",{staticClass:"tips-route normal-route",staticStyle:{"margin-left":"15px"}},[e._v("启用本插件需安装对应\n                "),n("a",{staticClass:"link",attrs:{href:e.githubAppUrl,target:"_blank"}},[e._v("GitHub APP")]),e._v("（Tencent DevOps）\n            ")])]):e._e()])]):e._e()},a=[];i._withStripped=!0,n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return a}))},pQI6:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=u(n("Kz1y")),a=u(n("eI+G")),r=u(n("ZdkB")),s=u(n("xBA8")),o=u(n("32o7")),l=n("TXTV");function u(e){return e&&e.__esModule?e:{default:e}}t.default={components:{Selector:s.default,EnumInput:r.default,VuexInput:a.default,FormField:o.default},props:{disabled:{type:Boolean,default:!1},paramValues:{type:Object,default:function(){return{}}},params:{type:Array,default:[]},handleParamChange:{type:Function,default:function(){return function(){}}}},computed:{paramList:function(){var e=this;return this.params.map((function(t){var n={};if(t.type!==l.STRING&&(n=(0,i.default)({},n,{displayKey:"value",settingKey:"key",list:e.getParamOpt(t)})),(0,l.isMultipleParam)(t.type)||(0,l.isEnumParam)(t.type)||(0,l.isSvnParam)(t.type)||(0,l.isCodelibParam)(t.type)){var a=e.getMultiSelectorValue(e.paramValues[t.id],t.options.map((function(e){return e.key}))),r=a.join(",");(0,i.default)(n,{multiSelect:(0,l.isMultipleParam)(t.type),value:a}),e.paramValues[t.id]!==r&&e.handleParamChange(t.id,r)}return(0,i.default)({},t,{component:l.ParamComponentMap[t.type],name:t.id,required:t.type===l.SVN_TAG,value:e.paramValues[t.id]},n)}))}},methods:{getParamOpt:function(e){switch(!0){case e.type===l.BOOLEAN:return l.BOOLEAN_LIST;case e.type===l.ENUM:case e.type===l.MULTIPLE:case e.type===l.SVN_TAG:case e.type===l.CODE_LIB:case e.type===l.CONTAINER_TYPE:return e.options;default:return[]}},submitForm:function(){this.$refs.previewParamsForm&&this.$refs.previewParamsForm.submit()},getMultiSelectorValue:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments[1];return"string"==typeof e&&e?e.split(",").filter((function(e){return t.includes(e)})):[]},getParamByName:function(e){return this.paramList.find((function(t){return t.name===e}))},handleParamUpdate:function(e,t){var n=this.getParamByName(e);(0,l.isMultipleParam)(n.type)&&(t=Array.isArray(t)?t.join(","):""),this.handleParamChange(e,t)}}}},pRQp:function(e,t,n){"use strict";n.r(t);var i=n("DYYE"),a=n.n(i);for(var r in i)"default"!==r&&function(e){n.d(t,e,(function(){return i[e]}))}(r);t.default=a.a},pa6M:function(e,t,n){"use strict";n.r(t);var i=n("h+/z"),a=n("5JvN");for(var r in a)"default"!==r&&function(e){n.d(t,e,(function(){return a[e]}))}(r);n("6Oak");var s=n("psIG"),o=Object(s.a)(a.default,i.a,i.b,!1,null,null,null);o.options.__file="src/components/atomFormField/Cascader/index.vue",t.default=o.exports},pd8l:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=o(n("06Hw")),a=o(n("YYXh")),r=o(n("WyVq")),s=o(n("0w5d"));function o(e){return e&&e.__esModule?e:{default:e}}t.default={name:"code-git-web-hook-trigger",mixins:[r.default,s.default],data:function(){return{githubAppUrl:"",list:[]}},mounted:function(){var e=this;return(0,a.default)(i.default.mark((function t(){var n;return i.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e.$store.dispatch("soda/getGithubAppUrl");case 3:n=t.sent,e.githubAppUrl=n.url,t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),e.$showTips({theme:"error",message:t.t0.message||t.t0});case 10:e.element.repositoryType||e.handleUpdateElement("repositoryType","ID"),e.handleChooseCodelibType("repositoryType",e.element.repositoryType);case 12:case"end":return t.stop()}}),t,e,[[0,7]])})))()},methods:{listChange:function(e){this.list=e||[]},handleMethods:function(e,t){"repositoryType"===e?this.handleChooseCodelibType(e,t):this.handleUpdateElement(e,t)},handleChooseCodelibType:function(e,t){"ID"===t?(this.atomPropsModel.repositoryHashId.hidden=!1,this.atomPropsModel.repositoryName.hidden=!0):"NAME"===t&&(this.atomPropsModel.repositoryHashId.hidden=!0,this.atomPropsModel.repositoryName.hidden=!1),this.handleUpdateElement(e,t)}}}},pdaa:function(e,t,n){"use strict";var i=function(){var e=this.$createElement,t=this._self._c||e;return t("section",{directives:[{name:"bkloading",rawName:"v-bkloading",value:{isLoading:this.isLoading},expression:"{ isLoading }"}],staticClass:"pipeline-edit-wrapper"},[this._m(0),this._v(" "),t("div",{staticClass:"setting-content-wrapper"},[t("setting-base",{on:{setState:this.setState,cancel:this.exit}})],1)])},a=[function(){var e=this.$createElement,t=this._self._c||e;return t("header",{staticClass:"create-pipeline-header"},[t("div",[t("span",{staticClass:"pointer"},[this._v("\n                设置\n            ")])])])}];i._withStripped=!0,n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return a}))},pg9h:function(e,t,n){},piGG:function(e,t,n){"use strict";n.r(t);var i=n("ZiKF"),a=n("+n9j");for(var r in a)"default"!==r&&function(e){n.d(t,e,(function(){return a[e]}))}(r);n("4DNr");var s=n("psIG"),o=Object(s.a)(a.default,i.a,i.b,!1,null,null,null);o.options.__file="src/components/common/menu/index.vue",t.default=o.exports},"q7+V":function(e,t,n){"use strict";var i=n("RKWf");n.n(i).a},qDqU:function(e,t,n){"use strict";var i=n("9o7p");n.n(i).a},qJYy:function(e,t,n){"use strict";n.r(t);var i=n("pQI6"),a=n.n(i);for(var r in i)"default"!==r&&function(e){n.d(t,e,(function(){return i[e]}))}(r);t.default=a.a},qWfG:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i,a=n("q7rD"),r=(i=a)&&i.__esModule?i:{default:i};t.default={name:"vuex-textarea",mixins:[r.default],methods:{handleInput:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=e.target,i=n.value,a=n.name,r=t?i.trim():i;r!==this.value&&(this.$emit("input",r),this.handleChange(a,r))},handleBlur:function(e){this.handleInput(e,!0)}},render:function(e){var t=this.value,n=this.disabled,i=this.handleInput,a=this.name;return e("textarea",{on:{blur:this.handleBlur,input:i},class:"bk-form-textarea",attrs:{name:a,disabled:n},domProps:{value:t}})}}},qeuZ:function(e,t,n){e.exports=n.p+"no-collect.png?57eda0c1f2985937c97819d1b5a6fa6e"},qk5f:function(e,t,n){},qy21:function(e,t,n){"use strict";var i=n("lb1u");n.n(i).a},r1rZ:function(e,t,n){},rZGR:function(e,t,n){"use strict";var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("section",{directives:[{name:"bkloading",rawName:"v-bkloading",value:{isLoading:e.isLoading},expression:"{ isLoading }"}],staticClass:"pipeline-edit-wrapper template-edit"},[e.template?[n("pipeline",{attrs:{pipeline:e.pipeline,"template-type":e.template.templateType,"is-saving":e.isSaving,"is-editing":e.isEditing}},[n("div",{attrs:{slot:"pipeline-bar"},slot:"pipeline-bar"},[n("bk-button",{attrs:{theme:"primary",disabled:e.isSaveDisable},on:{click:function(t){return e.savePipeline()}}},[e._v("保存")]),e._v(" "),n("bk-button",{on:{click:e.openVersionSideBar}},[e._v("版本列表")]),e._v(" "),n("bk-button",{on:{click:e.exit}},[e._v("取消")])],1)]),e._v(" "),n("bk-sideslider",{staticClass:"sodaci-property-panel",attrs:{title:"版本列表",width:"640","is-show":e.showVersionSideBar,"quick-close":!0},on:{"update:isShow":function(t){e.showVersionSideBar=t},"update:is-show":function(t){e.showVersionSideBar=t}}},[n("template",{slot:"content"},[n("section",{staticClass:"version-list-wrapper"},[n("bk-table",{attrs:{data:e.versionList,size:"small"}},[n("bk-table-column",{attrs:{label:"版本号",prop:"name"}}),e._v(" "),n("bk-table-column",{attrs:{label:"更新时间",prop:"updateTime"},scopedSlots:e._u([{key:"default",fn:function(t){return[n("span",[e._v(e._s(e.localConvertMStoString(t.row.updateTime)))])]}}],null,!1,3160165769)}),e._v(" "),n("bk-table-column",{attrs:{label:"最后更新人",prop:"creator"}}),e._v(" "),n("bk-table-column",{attrs:{label:"操作",width:"150"},scopedSlots:e._u([{key:"default",fn:function(t){return[n("bk-button",{attrs:{theme:"primary",text:""},on:{click:function(n){return n.stopPropagation(),e.requestTemplateByVersion(t.row.version)}}},[e._v("加载")]),e._v(" "),n("bk-button",{attrs:{theme:"primary",text:"",disabled:!e.template.hasPermission||e.currentVersionId===t.row.version||"CONSTRAINT"===e.template.templateType},on:{click:function(n){return e.deleteVersion(t.row)}}},[e._v("删除")])]}}],null,!1,1509419651)})],1)],1)])],2)]:e._e(),e._v(" "),n("bk-dialog",{attrs:{"ext-cls":"version-dialog","close-icon":!1,width:"400"},on:{confirm:e.saveTemplate},model:{value:e.showVersionDialog,callback:function(t){e.showVersionDialog=t},expression:"showVersionDialog"}},[n("div",[n("form-field",{attrs:{required:"true",label:"保存到版本","is-error":e.errors.has("versionName"),"error-msg":e.errors.first("versionName")}},[n("auto-complete",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],attrs:{list:e.versionList,name:"versionName","open-list":"true",placeholder:"搜索或创建版本",value:e.saveVersionName,"display-key":"name","setting-key":"versionName","handle-change":e.handleVersionChange}})],1)],1)])],2)},a=[];i._withStripped=!0,n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return a}))},raB1:function(e,t,n){"use strict";var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("bk-select",e._b({attrs:{name:e.name,loading:e.isLoading,placeholder:e.isLoading?"获取数据中...":e.placeholder,value:e.value,disabled:e.disabled||e.isLoading},on:{edit:e.edit,selected:e.handleSelect,toggle:e.toggleVisible,clear:e.handleClear}},"bk-select",e.dropdownConf,!1),[e._l(e.list,(function(e){return n("bk-option",{key:e.id,attrs:{id:e.id,name:e.name}})})),e._v(" "),e.mergedOptionsConf.hasAddItem?[n("div",{staticClass:"bk-selector-create-item",attrs:{slot:"extension"},slot:"extension"},[n("a",{attrs:{href:e.addItemUrl,target:"_blank"}},[n("i",{staticClass:"bk-icon icon-plus-circle"}),e._v("\n                "+e._s(e.mergedOptionsConf.itemText)+"\n            ")])])]:e._e()],2)},a=[];i._withStripped=!0,n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return a}))},rgNe:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=c(n("06Hw")),a=c(n("tZmG")),r=c(n("YYXh")),s=c(n("q7rD")),o=c(n("eI+G")),l=c(n("c8nl")),u=n("ygAv");function c(e){return e&&e.__esModule?e:{default:e}}var d=[{id:"true",name:"true"},{id:"false",name:"false"}];t.default={components:{VuexInput:o.default,SelectInput:l.default},mixins:[s.default],props:{url:{type:String,default:""},value:{type:Object}},data:function(){return{isLoading:!1,paramValues:{},paramList:[]}},computed:{projectId:function(){return this.$route.params.projectId},pipelineId:function(){return this.element.subPipelineId}},watch:{pipelineId:function(e){this.getParams()},paramValues:{deep:!0,handler:function(e){this.handleChange(this.name,e)}}},created:function(){var e=this;return(0,r.default)(i.default.mark((function t(){var n;return i.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.value&&(0,u.deepCopy)(e.value)||{},t.next=3,e.getParams();case 3:(0,a.default)(n).forEach((function(t){void 0!==e.paramValues[t]&&(e.paramValues[t]=n[t])}));case 4:case"end":return t.stop()}}),t,e)})))()},methods:{dataInputConfig:function(e){return{options:"BOOLEAN"===e.type?d:"ENUM"===e.type?e.options.map((function(e){return{id:e.key,name:e.key}})):[],handleChange:this.handleParamChange}},curItem:function(e){return this.paramList.length&&this.paramList.filter((function(t){return t.id===e}))[0]||[]},urlParse:function(e,t){return new Function("ctx","return '"+e.replace(/\{(.*?)\}/g,"'+ ctx.$1 +'")+"'")(t)},handleParamChange:function(e,t){"BOOLEAN"===this.curItem(e).type&&("true"===t?t=!0:"false"===t&&(t=!1)),this.paramValues[e]=t},getParams:function(){var e=this;return(0,r.default)(i.default.mark((function t(){var n,a,r,s,o,l;return i.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=e.url,a=e.pipelineId,r=e.projectId,!a){t.next=19;break}return t.prev=2,s=e.urlParse(n,{pipelineId:a,projectId:r}),e.isLoading=!0,e.paramList=[],t.next=8,e.$ajax.get(s);case 8:o=t.sent,(l=o.data.properties.length&&o.data.properties.filter((function(e){return e.required}))).length?(e.isDialogShow=!0,e.paramList=l.map((function(t){return e.$set(e.paramValues,t.id,t.defaultValue),t}))):e.paramValues={},t.next=16;break;case 13:t.prev=13,t.t0=t.catch(2),e.$showTips({message:t.t0.message,theme:"error"});case 16:return t.prev=16,e.isLoading=!1,t.finish(16);case 19:case"end":return t.stop()}}),t,e,[[2,13,16,19]])})))()}}}},rv72:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=u(n("06Hw")),a=u(n("Kz1y")),r=u(n("YYXh")),s=u(n("JwXn")),o=u(n("32o7")),l=u(n("PiNE"));function u(e){return e&&e.__esModule?e:{default:e}}t.default={components:{emptyTips:s.default,FormField:o.default,templateTable:l.default},directives:{focus:{inserted:function(e){e.focus()}}},data:function(){var e=this;return{isLoading:!1,isManagerUser:!1,setting:{value:"",isShow:!1},showSelfEmpty:!1,showStoreEmpty:!1,emptyTipsConfig:{desc:"合理的运用流水线模板，可以大大降低多个流水线的维护成本，开始创建你的第一个模板吧",btnDisabled:!0,btns:[{theme:"primary",size:"normal",handler:function(){e.setting.isShow=!0},text:"新建模板"}]},emptyParams:{name:"",desc:"",labels:[],stages:[{containers:[{"@type":"trigger",name:"构建触发",elements:[{"@type":"manualTrigger",name:"手动触发",id:"T-1-1-1",canElementSkip:!0,useLatestParameters:!1,executeCount:1,canRetry:!1,classType:"manualTrigger",taskAtom:""}],params:[],canRetry:!1,classType:"trigger"}],id:"stage-1"}]}}},computed:{projectId:function(){return this.$route.params.projectId}},methods:{showSetting:function(){this.setting.isShow=!0},getTempFromSelf:function(e){var t=this,n=this.$refs.selfTemp.pagingConfig,i=n.current,a=n.limit;this.getApiData(i,a).then((function(n){e(n);var i=n.models||[];t.showSelfEmpty=i.length<=0}))},getApiData:function(e,t){var n=this;return(0,r.default)(i.default.mark((function r(){var s;return i.default.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return n.isLoading=!0,i.prev=1,i.next=4,n.$store.dispatch("pipelines/requestTemplateList",{projectId:n.projectId,pageIndex:e,pageSize:t});case 4:return s=i.sent,n.isManagerUser=s.hasPermission,(0,a.default)(n.emptyTipsConfig,{btnDisabled:!n.isManagerUser}),i.abrupt("return",s);case 10:i.prev=10,i.t0=i.catch(1),n.$showTips({message:i.t0.message||i.t0,theme:"error"});case 13:return i.prev=13,n.isLoading=!1,i.finish(13);case 16:case"end":return i.stop()}}),r,n,[[1,10,13,16]])})))()},createTemplate:function(){var e=this;return(0,r.default)(i.default.mark((function t(){var n,r;return i.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.$validator.validate();case 2:if(!t.sent){t.next=17;break}return t.prev=4,n=(0,a.default)(e.emptyParams,{name:e.setting.value.trim()}),t.next=8,e.$store.dispatch("pipelines/createTemplate",{projectId:e.projectId,params:n});case 8:r=t.sent,e.$router.push({name:"templateEdit",params:{templateId:r.id}}),t.next=15;break;case 12:t.prev=12,t.t0=t.catch(4),e.$showTips({theme:"error",message:t.t0.message||t.t0});case 15:e.setting.value="",e.setting.isShow=!1;case 17:case"end":return t.stop()}}),t,e,[[4,12]])})))()},isFocus:function(){return this.setting.isShow},goToStore:function(){window.open(WEB_URL_PIRFIX+"/store/market/home?pipeType=template","_blank")}}}},ry4i:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=s(n("Kz1y")),a=s(n("tuHn")),r=n("ygAv");function s(e){return e&&e.__esModule?e:{default:e}}t.default={name:"date-picker",mixins:[a.default],props:{datePickerConf:{type:Object}},computed:{config:function(){return(0,i.default)({format:"yyyy-MM-dd",type:"date",startDate:new Date,readonly:!1},this.datePickerConf)},date:function(){return this.value?(0,r.convertTime)(this.value):""}},methods:{handleDateChange:function(e){var t=+new Date(e);t!==this.value&&this.handleChange(this.name,t)}}}},sJ6W:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=l(n("Kz1y")),a=l(n("/9Wh")),r=l(n("q7rD")),s=n("WIBD"),o=n("Vgl9");function l(e){return e&&e.__esModule?e:{default:e}}t.default={name:"remote-curl-url",mixins:[r.default],props:{container:Object,element:Object},computed:{baseUrl:function(){return AJAX_URL_PIRFIX+"/"+o.PROCESS_API_URL_PREFIX},stringifyParmas:function(){var e=this.container.params.filter((function(e){return e.required})).reduce((function(e,t){return e[t.id]=t.defaultValue,e}),{});return(0,a.default)(e).replace(/\"/g,'\\"')},isLoading:function(){return!this.value}},watch:{value:function(e,t){var n=this.$route.params;e!==t&&this.getRemoteTriggerToken((0,i.default)({},n,{preToken:e,element:this.element}))}},mounted:function(){var e=this.$route.params;this.getRemoteTriggerToken((0,i.default)({},e,{preToken:this.value,element:this.element}))},methods:(0,i.default)({},(0,s.mapActions)("atom",["getRemoteTriggerToken"]))}},"t+6C":function(e,t,n){},tJMi:function(e,t,n){"use strict";var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"u3d-build-panel bk-form bk-form-vertical"},[e._l(e.commonModel.row,(function(t,i){return n("form-field",{key:i,attrs:{desc:t.desc,required:t.required,label:t.label,"is-error":e.errors.has(i),"error-msg":e.errors.first(i)}},[n(t.component,e._b({directives:[{name:"validate",rawName:"v-validate.initial",value:Object.assign({},t.rule,{required:!!t.required}),expression:"Object.assign({}, obj.rule, { required: !!obj.required })",modifiers:{initial:!0}}],tag:"component",attrs:{name:i,"handle-change":e.handleUpdateElement,value:e.element[i]}},"component",t,!1))],1)})),e._v(" "),e._l(e.getPlatformList,(function(t,i){return n("accordion",{key:i,attrs:{"show-checkbox":"","show-content":e.checkPlateform(t.id),"after-toggle":e.togglePlatform}},[n("header",{staticClass:"var-header",attrs:{slot:"header"},slot:"header"},[n("span",[e._v(e._s(t.name))]),e._v(" "),n("input",{staticClass:"accordion-checkbox",attrs:{type:"checkbox",name:"platform"},domProps:{checked:e.checkPlateform(t.id),value:t.id}})]),e._v(" "),n("div",{staticClass:"bk-form bk-form-vertical",attrs:{slot:"content"},slot:"content"},e._l(e.beloneKeys[t.id],(function(t){return n("form-field",{key:t,attrs:{desc:e.atomPropsModel[t].desc,required:e.atomPropsModel[t].required,label:e.atomPropsModel[t].label,"is-error":e.errors.has(t),"error-msg":e.errors.first(t)}},[n(e.atomPropsModel[t].component,e._b({directives:[{name:"validate",rawName:"v-validate.initial",value:Object.assign({},e.atomPropsModel[t].rule,{required:!!e.atomPropsModel[t].required}),expression:"Object.assign({}, atomPropsModel[key].rule, { required: !!atomPropsModel[key].required })",modifiers:{initial:!0}}],tag:"component",attrs:{name:t,"handle-change":e.handleUpdateElement,value:e.element[t]}},"component",e.atomPropsModel[t],!1))],1)})),1)])}))],2)},a=[];i._withStripped=!0,n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return a}))},tLVg:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=s(n("q7rD")),a=s(n("ZdkB")),r=s(n("eI+G"));function s(e){return e&&e.__esModule?e:{default:e}}t.default={name:"code-mode-selector",components:{EnumInput:a.default,VuexInput:r.default},mixins:[i.default],props:{text:{type:String},repositoryType:{type:String,required:!0},repositoryHashId:{type:String,required:!0},branchName:{type:String,default:""},elementType:{type:String,default:""},value:{type:Object},noUsePermission:{type:Boolean}},data:function(){return{isLoading:!1,gitPullModeType:this.value&&this.value.type||"",gitPullModeVal:this.value&&this.value.value||"",gitPullModeList:{BRANCH:{label:"分支名称",placeholder:"请输入分支",default:"master"},TAG:{label:"Tag",placeholder:"请输入Tag",default:""},COMMIT_ID:{label:"CommitID",placeholder:"请输入指定CommitID",default:""}},gitPullModes:[{id:"branch",value:"BRANCH",label:"按分支"},{id:"tag",value:"TAG",label:"按TAG"},{id:"commitId",value:"COMMIT_ID",label:"按CommitID"}]}},computed:{projectId:function(){return this.$route.params.projectId}},watch:{elementType:function(e){this.gitPullModeType="BRANCH",this.changeGitPullMode(!0)},repositoryType:function(e){this.changeGitPullMode(!0)},gitPullModeType:function(e){this.changeGitPullMode(!0)},repositoryHashId:function(e){this.noPermission=!1,this.changeGitPullMode(!0)}},methods:{changeGitPullMode:function(e){e&&this.handleValueChange("value",this.gitPullModeList[this.gitPullModeType].default)},handleElementChange:function(){this.handleChange("gitPullMode",{type:this.gitPullModeType,value:this.gitPullModeVal})},handleModeChange:function(e,t){this.gitPullModeType=t,this.gitPullModeVal="",this.handleElementChange()},handleValueChange:function(e,t){this.gitPullModeVal=t,this.handleElementChange()}}}},tNV3:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFsAAAA5CAYAAABZClfIAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyZpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMDY3IDc5LjE1Nzc0NywgMjAxNS8wMy8zMC0yMzo0MDo0MiAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIDIwMTUgKFdpbmRvd3MpIiB4bXBNTTpJbnN0YW5jZUlEPSJ4bXAuaWlkOkU1NzFFNzcxRjUzQzExRTdBMkU1QUQxMkE2RTNCRDUwIiB4bXBNTTpEb2N1bWVudElEPSJ4bXAuZGlkOkU1NzFFNzcyRjUzQzExRTdBMkU1QUQxMkE2RTNCRDUwIj4gPHhtcE1NOkRlcml2ZWRGcm9tIHN0UmVmOmluc3RhbmNlSUQ9InhtcC5paWQ6RTU3MUU3NkZGNTNDMTFFN0EyRTVBRDEyQTZFM0JENTAiIHN0UmVmOmRvY3VtZW50SUQ9InhtcC5kaWQ6RTU3MUU3NzBGNTNDMTFFN0EyRTVBRDEyQTZFM0JENTAiLz4gPC9yZGY6RGVzY3JpcHRpb24+IDwvcmRmOlJERj4gPC94OnhtcG1ldGE+IDw/eHBhY2tldCBlbmQ9InIiPz5558DUAAAHDUlEQVR42uycS2wbVRSGj9/vxInfsRMnsZu6DVBUXhIEVWwQgg1s6AYkBGIBEkVl1RXqigUgFq0qVNHCBpCg6mPBAomKDWyQAInSiDRJEzuOHceJ83BiO3H84Py3TpqWksaJp4md+aWra8+MZ3w/nznnzLkzVpTLZdqufv1z4Ch3x7gd4maixlCG21/cPu07HLpcix0qfvnjn/tuxAfbCPQp7t5raTKR1WIilUrZEKSLpRLNLWRpdn4Rb0899UjP+/faTqPe/HjV27TotwA60O4ij6OFGk1eZytNTM3Szejksd+uDQ4w8M+3s7+7Ya/6FMUmQD/B3Rm33Upo45Mpmpyep9xyvu4hK3j0ep2W3DYrtTlbKLuUB/TTDHyYgf9UK9ibtWgHdxctJr0OVj0wEqOZdIYcLU3kYvAKhaKuYSOOZXLLFI5PUTqTo1CXl5aW86rZdOYCA3+Ggfc/ENgMWsXddxq1qj3U7aNYcoZS7Nf28xeCz24ktTSZaSgSo7HEtBjf34ORZv4RrjDwpxn4VLX7U1ZcR3mdC6H/Wbaqj9lwnwt1eymfL1AkPs3+urXhQN+CbSKfy07RiWmaX8jQATYuNrIgzmoGrt0K7Gqs+lXuPuj0Osls0NON0RiZDDpqd9uoUdXGQbK12UyDkQkqlUt0MOCDm3yWV53bCmzFukbrAuQdyxj0Q9x9ZWe/jCg9PJaglWKRAh2euvfR91N3u5u0Gg39czNGBr2OevweLH6drftEzS2bQTdzd5mt2Njjd9Nkap6mZtPU5XWRXquhRpdKqaSezjbKFwo0GI6To7WJfLfO5o+Yzcu1hA2z/UatUgUPsJ9eZj89Ep0UmYfNaqG9IhhVkM/i2fQijbEP72xzkN1qEWwY+GNbga24R479IbeX9nd6SMsHHBiNk0ajJvjtvSYkAV4OmICdmltga/eQxWQw8qorDNx3X6vdqDbCO3iRux86PHYFN2HRiek5OhjsEIFxr2ooEqf5xSwd2t8pyhPXBsK0vFL4nVcd6TscylbtRhg0UpxvORIL0DOcS8f50rWdX+9l0LcDppoD5rjw5weDPlIqlY/zqq+Zm6Iq2PwBnBqXDDptswgMKwWR+lg573TbW2ivSwRM/+2AaeI0ONTVhlWvIGhWa9lf8g4fRkDEjm/wDpWc3gV8bpJVCZg67R0BE7k4gibrBBvra5uCzRse5+7oPs4ljewuUGBKs38K8KmjVqvqDgq+v6QB02lbC5hIB102ZMl0njn2bQibNzjC3Se4aLG3WEQRZmxiSlyON5mNdQd6MbtEMYaNXip5XTZh1UPsZlEdDHa4qdlixKX8pUrc+y/sSupygTdUIa0r8NXhDU7zzAYD+Vz1dTle4gwLRtI/PCbeo4/Ep8RySQImu1dNJWCWSmVRJWQ3A59yuXJBeBs2L8AvcVGn1TiwIa6+oxMpATzAv1S9XY4jvnR4HNTLKSqE3s/+VCnROJD+IWBy+kfRRArFKuoN+EitUqLE8X2lUrpWYj3DX+RJBERNxS/DBxn1OpFPViOL0UAGvXZXQDcb9eI0R1+NcuwOFrK5qo9n5HGDW6fXIRigBM1n1fN8Qp3m1e9iDvINFJj2+d3s3K1rH0ShCTWQaieE4YLW76ceNZmao3AsWfXn4AE8divn4a61ZRNTc3QzmsDLN2HZJ8UMy12A4OjRqhGfLg2V3m000b1ZeRxWWshkKTmTPgmf7a/HTKOeZDEJvh1KGcUDDNwyAhm2DFuWDFuGLUuGLcOWYcva3bBRG0CJsd6FMWCGalfDRnVtcQvVst0mjMEowaR2TWGjoDWbzojbbetV2aVlMQaMZVfDdjusoqY7GI5Rtg6B4ztjthxjwFhqLXVNfzn22b3BduofHqfrw2Pilluz0bDrn7MpFkvCdcCiARpjkGJWR13rHeLmlUdDflE0T87MiwlXPAy0m4VgiJmVLq9T1J+lmgZUS7FTfFk8i4ImS86zZdgybFky7HqUeicPjtskRmNJzDxToVCUdqAqFTltTSLj2KmbjnYUNkDPL+ao0+cWMKQU7u6aSKbEo4S4iWbPuRFYtMdpkxz0qmXjWInUnOyz5QApsZytTZRIzohTXGohJuBY7h28NQ4+O18ql3bkTkgEK/jtcDQhOfDVAOlvsz/wceLJYNYiYI/klvKhnYCNrKDb5xKtkYW7YlkRuJEf8W8x5XKZZEmT3lb+jecqYJ9fXikU8XyjrNoL/8QDvvzynLLvcOg6vzg7Mp6s+sZ3WRsLPEdj4m9JzoLzajZynM39av9QlOIcsWWXsn3XEU/OEnjy65/BV8SoVbCV52o+4/aOVqNW4gkoFNSlmGVuVGGSBMEQT0PnVwpIQb4AaLbq3B2wV8XQe7l7m9sL3Lq5aWSMmxb+CzCMYAgfXXHRa/pXgAEAdjq+qfD3Of4AAAAASUVORK5CYII="},tNgP:function(e,t,n){"use strict";var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("selector",{attrs:{tools:e.tools,name:e.name,edit:e.edit,placeholder:e.isLoading?"获取数据中...":e.placeholder,"handle-change":e.handleChange,list:e.list,"toggle-visible":e.toggleVisible,"is-loading":e.isLoading,value:e.value,searchable:e.searchable,"multi-select":e.multiSelect,disabled:e.disabled||e.isLoading}},[e.hasAddItem?n("template",{slot:"props"},[n("div",{staticClass:"bk-selector-create-item"},[n("a",{attrs:{href:e.urlParse(e.webUrl+e.itemTargetUrl,{projectId:e.projectId}),target:"_blank"}},[n("i",{staticClass:"bk-icon icon-plus-circle"}),e._v("\n                "+e._s(e.itemText)+"\n            ")])])]):e._e()],2)},a=[];i._withStripped=!0,n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return a}))},thd8:function(e,t,n){"use strict";n.r(t);var i=n("MoGG"),a=n("xdZI");for(var r in a)"default"!==r&&function(e){n.d(t,e,(function(){return a[e]}))}(r);var s=n("psIG"),o=Object(s.a)(a.default,i.a,i.b,!1,null,null,null);o.options.__file="src/components/AtomPropertyPanel/CodeGithubWebHookTrigger.vue",t.default=o.exports},tuHn:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={props:{name:{type:String,required:!0},value:{type:String,required:!0,default:""},disabled:{type:Boolean,default:!1},handleChange:{type:Function,default:function(){return function(){}}},atomValue:{type:Object,default:function(){return{}}},container:{type:Object,default:function(){return{}}},rule:{type:Object,default:function(){return{}}},component:String,required:Boolean,hasError:{type:Boolean},hidden:{type:Boolean,default:!1}},watch:{value:function(e,t){e!==t&&this.$emit("input",e)}}}},uA1I:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i,a=n("8sPE"),r=(i=a)&&i.__esModule?i:{default:i};t.default={components:{"side-bar":r.default},data:function(){return{sideMenuList:[{list:[{id:"templateEdit",name:"编辑",icon:"icon-edit"},{id:"templateSetting",name:"设置",icon:"icon-cog"},{id:"templateInstance",name:"实例管理",icon:"icon-list",isSelected:!1,showChildren:!1,children:[{id:"createInstance",name:"新增实例",icon:"icon-list"}]}]}],nav:{backUrl:"pipelinesTemplate",title:"模板管理",icon:""}}}}},"uAN+":function(e,t,n){"use strict";n.r(t);var i=n("raB1"),a=n("ecFu");for(var r in a)"default"!==r&&function(e){n.d(t,e,(function(){return a[e]}))}(r);n("qy21");var s=n("psIG"),o=Object(s.a)(a.default,i.a,i.b,!1,null,null,null);o.options.__file="src/components/AtomFormComponent/Selector/index.vue",t.default=o.exports},uKoZ:function(e,t,n){"use strict";var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"bk-form bk-form-vertical"},[e.isThirdParty?n("section",[n("div",{staticClass:"empty-tips"},[e._v("第三方构建机暂不支持IOS证书安装插件")])]):n("section",e._l(e.newModel,(function(t,i){return t.hidden?e._e():n("form-field",{key:i,attrs:{desc:t.desc,required:t.required,label:t.label,"is-error":e.errors.has(i),"error-msg":e.errors.first(i)}},[n(t.component,e._b({directives:[{name:"validate",rawName:"v-validate.initial",value:Object.assign({},t.rule,{required:t.required}),expression:"Object.assign({}, obj.rule, { required: obj.required })",modifiers:{initial:!0}}],tag:"component",attrs:{name:i,"handle-change":e.handleUpdateElement,value:e.element[i]}},"component",t,!1))],1)})),1)])},a=[];i._withStripped=!0,n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return a}))},ummT:function(e,t,n){"use strict";var i=n("NOux");n.n(i).a},ur1F:function(e,t,n){"use strict";n.r(t);var i=n("fuO+"),a=n.n(i);for(var r in i)"default"!==r&&function(e){n.d(t,e,(function(){return i[e]}))}(r);t.default=a.a},uzLy:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=o(n("snOE")),a=o(n("Kz1y")),r=o(n("66h0")),s=n("WIBD");function o(e){return e&&e.__esModule?e:{default:e}}t.default={props:{container:Object,stages:{type:Array,default:[]},globalEnvs:{type:Array,default:[]}},computed:(0,a.default)({},(0,s.mapGetters)("atom",["getAppEnvs","hasBuildNo","userParams"]),{appEnvs:function(){return this.getAppEnvs(this.container.baseOS)},columnList:function(){return[{prop:"name",label:"构建号",width:120},{prop:"desc",label:"源材料"},{prop:"clipboard",label:"触发方式",width:60}]},userEnvs:function(){try{return this.userParams.map((function(e){return{name:e.id,desc:e.desc}}))}catch(e){return console.warn(e.message),[]}},buildEnvs:function(){try{var e=this.container,t=this.appEnvs;if(!e.baseOS)return[];var n=[];for(var a in e.buildEnv)e.buildEnv.hasOwnProperty(a)&&Array.isArray(t[a])&&(n=[].concat((0,i.default)(n),(0,i.default)(t[a])));return n}catch(e){return console.warn(e.message),[]}},envsData:function(){var e=this.stages,t=this.globalEnvs,n=this.userEnvs,a=this.buildEnvs,r=(0,this.hasBuildNo)(e)?[{name:"BuildNo",desc:"构建号"}]:[];return[].concat((0,i.default)(t),(0,i.default)(n),(0,i.default)(a),r)}}),created:function(){var e=this;this.clipboard=new r.default(".env-copy-icon").on("success",(function(t){e.$showTips({theme:"success",message:"变量复制成功"})}))},beforeDestroy:function(){this.clipboard.destroy()}}},vEGH:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=r(n("WyVq")),a=r(n("0w5d"));function r(e){return e&&e.__esModule?e:{default:e}}t.default={name:"pull-github",mixins:[i.default,a.default],created:function(){this.element.repositoryType||this.handleUpdateElement("repositoryType","ID"),this.handleChooseCodelibType("repositoryType",this.element.repositoryType)},methods:{handleMethods:function(e,t){"repositoryType"===e?this.handleChooseCodelibType(e,t):this.handleUpdateElement(e,t)},handleChooseCodelibType:function(e,t){"ID"===t?(this.atomPropsModel.repositoryHashId.hidden=!1,this.atomPropsModel.repositoryName.hidden=!0):"NAME"===t&&(this.atomPropsModel.repositoryHashId.hidden=!0,this.atomPropsModel.repositoryName.hidden=!1),this.handleUpdateElement(e,t)}}}},vFIl:function(e,t,n){"use strict";n.r(t);var i=n("SOFi"),a=n.n(i);for(var r in i)"default"!==r&&function(e){n.d(t,e,(function(){return i[e]}))}(r);t.default=a.a},vRhp:function(e,t,n){"use strict";n.r(t);var i=n("IMLN"),a=n.n(i);for(var r in i)"default"!==r&&function(e){n.d(t,e,(function(){return i[e]}))}(r);t.default=a.a},vST7:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i,a=n("tNV3"),r=(i=a)&&i.__esModule?i:{default:i};t.default={props:{imgType:{type:String,default:"noData"},title:{type:String,default:""},desc:{type:String,default:""},btns:{type:Array,default:function(){return[]}},btnDisabled:{type:Boolean,default:!1}},data:function(){return{noDataSrc:""}},created:function(){this.noDataSrc=r.default}}},vYsh:function(e,t,n){"use strict";n.r(t);var i=n("TkSp"),a=n.n(i);for(var r in i)"default"!==r&&function(e){n.d(t,e,(function(){return i[e]}))}(r);t.default=a.a},vcXH:function(e,t,n){},"vl+a":function(e,t,n){"use strict";n.r(t);var i=n("TMp7"),a=n("JDfl");for(var r in a)"default"!==r&&function(e){n.d(t,e,(function(){return a[e]}))}(r);n("H0V5");var s=n("psIG"),o=Object(s.a)(a.default,i.a,i.b,!1,null,null,null);o.options.__file="src/components/atomFormField/ExperienceInput/index.vue",t.default=o.exports},vozC:function(e,t,n){"use strict";var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("accordion",{key:"otherChoice",attrs:{"show-checkbox":"","show-content":""}},[n("header",{staticClass:"var-header",attrs:{slot:"header"},slot:"header"},[n("span",[e._v("流程控制选项")]),e._v(" "),n("i",{staticClass:"bk-icon icon-angle-down",staticStyle:{display:"block"}})]),e._v(" "),n("div",{staticClass:"bk-form bk-form-vertical",attrs:{slot:"content"},slot:"content"},[e._l(e.optionModel,(function(t,i){return[e.isHidden(t,e.jobOption)?e._e():n("form-field",{key:i,attrs:{desc:t.desc,required:t.required,label:t.label,"is-error":e.errors.has(i),"error-msg":e.errors.first(i)}},[n(t.component,e._b({directives:[{name:"validate",rawName:"v-validate.initial",value:Object.assign({},t.rule,{required:!!t.required}),expression:"Object.assign({}, obj.rule, { required: !!obj.required })",modifiers:{initial:!0}}],tag:"component",attrs:{"set-parent-validate":e.setKeyValueValidate,name:i,"handle-change":e.handleUpdateJobOption,value:e.jobOption[i],disabled:e.disabled}},"component",t,!1))],1)]}))],2)])},a=[];i._withStripped=!0,n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return a}))},vtTT:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=c(n("/9Wh")),a=c(n("TcPG")),r=c(n("Kz1y")),s=n("WIBD"),o=c(n("WyVq")),l=c(n("0w5d")),u=n("GBhW");function c(e){return e&&e.__esModule?e:{default:e}}t.default={name:"job-config",mixins:[o.default,l.default],props:{jobOption:{type:Object,default:{}},disabled:{type:Boolean,default:!1},updateContainerParams:{type:Function,required:!0}},computed:{optionModel:function(){return u.JOB_OPTION||{}}},created:function(){this.disabled||this.initOptionConfig()},methods:(0,r.default)({},(0,s.mapActions)("atom",["setPipelineEditing"]),{getJobOptionDefault:u.getJobOptionDefault,handleUpdateJobOption:function(e,t){this.setPipelineEditing(!0),this.updateContainerParams("jobControlOption",(0,r.default)(this.jobOption||{},(0,a.default)({},e,t)))},initOptionConfig:function(){void 0!==this.jobOption&&"{}"!==(0,i.default)(this.jobOption)||this.updateContainerParams("jobControlOption",this.getJobOptionDefault())},setKeyValueValidate:function(e,t){this.$emit("setKeyValueValidate",e,t)}})}},wBIv:function(e,t,n){"use strict";n.r(t);var i=n("hk2v"),a=n("ndyi");for(var r in a)"default"!==r&&function(e){n.d(t,e,(function(){return a[e]}))}(r);var s=n("psIG"),o=Object(s.a)(a.default,i.a,i.b,!1,null,null,null);o.options.__file="src/components/AtomFormComponent/CcAppId/index.vue",t.default=o.exports},wR2U:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={props:{config:{type:Object,default:{data:[],onChange:function(){}},required:!0},name:{type:String,required:!0},value:{type:String},placeholder:{type:String,default:"请输入"},disabled:{type:Boolean,default:!1}},data:function(){return{showList:!1,focusList:"",list:[],groupIdStr:this.value}},watch:{"config.data":function(e){this.getData()}},created:function(){this.getData()},methods:{input:function(e){this.showList=!0,this.focusList=-1;var t=void 0;if(e){var n=e.target.value;t=e.target.value,n=n.replace(new RegExp(";+","gm"),";");var i=t.lastIndexOf(";");i>-1?(this.groupIdStr=t.substring(0,i+1)||"",t=t.substring(i+1)):this.groupIdStr="",this.config.onChange(this.name,n)}else t="";this.filterData(t)},hideAll:function(e){var t=this;setTimeout((function(){t.showList=!1}),250)},focus:function(e){var t=this;if(this.showList=!0,this.focusList=-1,this.value){var n=this.value.lastIndexOf(";"),i=n>-1?this.value.substring(n+1):this.value;this.filterData(i),this.list.map((function(e,n){e===i&&(t.focusList=n)}))}},mousemove:function(e){this.focusList=e},keydown:function(e){var t=e.keyCode;if(this.showList){switch(t){case 40:e.preventDefault(),this.focusList++;break;case 38:e.preventDefault(),this.focusList--;break;case 13:if(this.focusList<0)return!1;this.selectList(this.list[this.focusList]),this.showList=!1,this.input();break;case 27:this.showList=!1}var n=this.list.length-1;13===t||8===t&&!this.groupIdStr?this.focusList=-1:this.focusList=this.focusList>n?0:this.focusList<0?n:this.focusList}},activeClass:function(e){return{"bk-selector-selected":e===this.focusList}},selectList:function(e){e&&(this.groupIdStr+=e+";"),this.config.onChange(this.name,this.groupIdStr)},filterData:function(e){this.list=this.config.data.filter((function(t){return t.indexOf(e)>-1})),this.list.length||(this.showList=!1)},getData:function(){this.list=this.config.data}}}},wRBT:function(e,t,n){"use strict";n.r(t);var i=n("7xSW"),a=n.n(i);for(var r in i)"default"!==r&&function(e){n.d(t,e,(function(){return i[e]}))}(r);t.default=a.a},wRgW:function(e,t,n){"use strict";var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"build-params-comp"},[e.isExecDetail?n("ul",{directives:[{name:"bkloading",rawName:"v-bkloading",value:{isLoading:!e.buildParams},expression:"{ isLoading: !buildParams }"}]},e._l(e.buildParams,(function(t){return n("li",{key:t.key,staticClass:"param-item"},[n("vuex-input",{attrs:{disabled:!0,name:"key",value:t.key}}),e._v(" "),n("span",[e._v("=")]),e._v(" "),n("vuex-input",{attrs:{disabled:!0,name:"value",value:t.value}})],1)})),0):[n("accordion",{attrs:{"show-checkbox":"","show-content":e.isShowVersionParams,"is-version":"true"}},[n("template",{slot:"header"},[n("span",[e._v("\n                    推荐版本号\n                    "),n("bk-popover",{attrs:{placement:"right"}},[n("i",{staticClass:"bk-icon icon-info-circle",staticStyle:{display:"block"}}),e._v(" "),n("div",{staticStyle:{"white-space":"pre-wrap"},attrs:{slot:"content"},slot:"content"},[n("div",[e._v(" 可以在插件中引用该变量,用于设置版本号或其他需要用到该变量的地方 ")])])])],1),e._v(" "),n("input",{staticClass:"accordion-checkbox",attrs:{disabled:e.disabled,type:"checkbox",name:"versions"},domProps:{checked:e.showVersions},on:{click:function(e){e.stopPropagation()},change:e.toggleVersions}})]),e._v(" "),n("div",{attrs:{slot:"content"},slot:"content"},[e.showVersions?n("div",{staticClass:"params-flex-col"},e._l(e.allVersionKeyList,(function(t){return n("form-field",{key:t,attrs:{required:t.required,label:e.versionConfig[t].label,"is-error":e.errors.has(t),"error-msg":e.errors.first(t)}},[n("vuex-input",{directives:[{name:"validate",rawName:"v-validate.initial",value:"required|numeric",expression:'"required|numeric"',modifiers:{initial:!0}}],attrs:{disabled:e.disabled,"input-type":"number",name:t,placeholder:e.versionConfig[t].placeholder,value:e.getVersionById(t).defaultValue,"handle-change":e.handleVersionsChange}})],1)})),1):e._e(),e._v(" "),e.buildNo?[n("div",{staticClass:"params-flex-col"},[n("form-field",{attrs:{required:!0,label:"构建号","is-error":e.errors.has("buildNo"),"error-msg":e.errors.first("buildNo")}},[n("vuex-input",{directives:[{name:"validate",rawName:"v-validate.initial",value:"required|numeric",expression:'"required|numeric"',modifiers:{initial:!0}}],attrs:{disabled:e.disabled,"input-type":"number",name:"buildNo",placeholder:"BuildNo",value:e.buildNo.buildNo,"handle-change":e.handleBuildNoChange}})],1),e._v(" "),n("form-field",{staticClass:"flex-colspan-2",attrs:{required:!0,"is-error":e.errors.has("buildNoType"),"error-msg":e.errors.first("buildNoType")}},[n("enum-input",{directives:[{name:"validate",rawName:"v-validate.initial",value:"required|string",expression:'"required|string"',modifiers:{initial:!0}}],attrs:{list:e.buildNoRules,disabled:e.disabled,name:"buildNoType",value:e.buildNo.buildNoType,"handle-change":e.handleBuildNoChange}})],1)],1)]:e._e()],2)],2)]],2)},a=[];i._withStripped=!0,n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return a}))},wgB3:function(e,t,n){"use strict";var i=n("1kY+");n.n(i).a},woXs:function(e,t,n){"use strict";n.r(t);var i=n("i5G6"),a=n("Naye");for(var r in a)"default"!==r&&function(e){n.d(t,e,(function(){return a[e]}))}(r);var s=n("psIG"),o=Object(s.a)(a.default,i.a,i.b,!1,null,null,null);o.options.__file="src/components/atomFormField/GitRequestSelector/index.vue",t.default=o.exports},wxkS:function(e,t,n){"use strict";n.r(t);var i=n("zPs+"),a=n("zAws");for(var r in a)"default"!==r&&function(e){n.d(t,e,(function(){return a[e]}))}(r);n("FeYA");var s=n("psIG"),o=Object(s.a)(a.default,i.a,i.b,!1,null,null,null);o.options.__file="src/views/template/instance.vue",t.default=o.exports},x7Ti:function(e,t,n){"use strict";var i=n("Jz+m");n.n(i).a},xHIY:function(e,t,n){},xZSC:function(e,t,n){"use strict";var i=n("/91b");n.n(i).a},xZjW:function(e,t,n){"use strict";n.r(t);var i=n("1JUa"),a=n.n(i);for(var r in i)"default"!==r&&function(e){n.d(t,e,(function(){return i[e]}))}(r);t.default=a.a},xdZI:function(e,t,n){"use strict";n.r(t);var i=n("pd8l"),a=n.n(i);for(var r in i)"default"!==r&&function(e){n.d(t,e,(function(){return i[e]}))}(r);t.default=a.a},xfDL:function(e,t,n){"use strict";n.r(t);var i=n("tJMi"),a=n("f63N");for(var r in a)"default"!==r&&function(e){n.d(t,e,(function(){return a[e]}))}(r);var s=n("psIG"),o=Object(s.a)(a.default,i.a,i.b,!1,null,null,null);o.options.__file="src/components/AtomPropertyPanel/Unity3dBuild.vue",t.default=o.exports},"xu+b":function(e,t,n){"use strict";var i=n("kiu7");n.n(i).a},yElF:function(e,t,n){"use strict";n.r(t);var i=n("Bxa+"),a=n.n(i);for(var r in i)"default"!==r&&function(e){n.d(t,e,(function(){return i[e]}))}(r);t.default=a.a},yIhZ:function(e,t,n){"use strict";var i=n("obfs");n.n(i).a},"yN+C":function(e,t,n){"use strict";var i=n("qk5f");n.n(i).a},yRNN:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=m(n("TcPG")),a=m(n("Kz1y")),r=m(n("wQpU")),s=m(n("tZmG")),o=m(n("WyVq")),l=m(n("0w5d")),u=m(n("uAN+")),c=m(n("wBIv")),d=m(n("MMoO")),p=m(n("c8nl")),f=m(n("lvAI"));function m(e){return e&&e.__esModule?e:{default:e}}t.default={name:"normal-atom-v2",components:{Selector:u.default,Accordion:d.default,CcAppId:c.default,SelectInput:p.default,DatePicker:f.default},mixins:[o.default,l.default],computed:{hasAppId:function(){return this.$store.state.curProject&&this.$store.state.curProject.cc_app_id},appId:function(){return this.hasAppId?this.$store.state.curProject.cc_app_id:""},showFormUI:function(){return!this.CcAppIdPropsKey||this.CcAppIdPropsKey&&this.hasAppId},outputNamespaceDesc:function(){return"用于解决流水线下，相同插件有多个实例时，输出字段使用冲突的问题。\n当没有冲突时，无需添加命名空间。\n当修改了命名空间后，后续使用到对应字段的地方也需要同步修改"},CcAppIdPropsKey:function(){var e=this,t=void 0;return(0,s.default)(this.atomPropsModel.input).every((function(n){return"cc-app-id"!==e.atomPropsModel.input[n].type||(t=n,!1)})),t},inputProps:function(){try{var e=this.atomPropsModel.input,t=e[this.CcAppIdPropsKey],n=(0,r.default)(e,[this.CcAppIdPropsKey]);return(0,a.default)({},t?(0,i.default)({},this.CcAppIdPropsKey,t):{},n)}catch(e){return console.warn("getAtomModalInput error",e),{}}},paramsGroupMap:function(){var e=this,t=(this.atomPropsModel.inputGroups||[]).reduce((function(e,t){return e[t.name]=(0,a.default)({},t,{props:{}}),e}),{rootProps:{props:{}}});return(0,s.default)(this.inputProps).map((function(n){var i=e.inputProps[n];(i.groupName&&t[i.groupName]?t[i.groupName]:t.rootProps).props[n]=i})),t},outputProps:function(){try{return this.atomPropsModel.output}catch(e){return console.warn("getAtomModalOpt error",e),null}},namespace:function(){try{return(this.element.data.namespace||"").trim().replace(/(.+)?\_$/,"$1")}catch(e){return console.warn("getAtomOutput namespace error",e),""}},atomValue:function(){try{return(0,a.default)({},this.element.data.input)}catch(e){return console.warn("getAtomInput error",e),{}}}},updated:function(){this.CcAppIdPropsKey&&this.atomValue[this.CcAppIdPropsKey]!==this.appId&&this.handleUpdateAtomInput(this.CcAppIdPropsKey,this.appId)}}},yTbM:function(e,t,n){"use strict";n.r(t);var i=n("RSyJ"),a=n.n(i);for(var r in i)"default"!==r&&function(e){n.d(t,e,(function(){return i[e]}))}(r);t.default=a.a},yY28:function(e,t,n){"use strict";n.r(t);var i=n("zYbx"),a=n.n(i);for(var r in i)"default"!==r&&function(e){n.d(t,e,(function(){return i[e]}))}(r);t.default=a.a},yhQ3:function(e,t,n){"use strict";var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"reference-var"},[e._m(0),e._v(" "),e.globalEnvs?n("div",{staticClass:"env-layout"},[n("bk-table",{attrs:{data:e.envsData,"show-header":!1,size:"small"}},e._l(e.columnList,(function(t){return n("bk-table-column",e._b({key:t.prop,scopedSlots:e._u(["clipboard"===t.prop?{key:"default",fn:function(e){return[n("i",{staticClass:"bk-icon icon-clipboard env-copy-icon",attrs:{"data-clipboard-text":"${"+e.row.name+"}"}})]}}:{key:"default",fn:function(n){return[e._v("\n                    "+e._s(n.row[t.prop])+"\n                ")]}}],null,!0)},"bk-table-column",t,!1))})),1)],1):e._e()])},a=[function(){var e=this.$createElement,t=this._self._c||e;return t("span",[this._v("引用变量 "),t("i",{staticClass:"bk-icon icon-angle-down"}),t("i",{staticClass:"bk-icon icon-angle-up"})])}];i._withStripped=!0,n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return a}))},yqy6:function(e,t,n){"use strict";var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("section",[n("div",{staticClass:"bk-form bk-form-vertical"},[e._l(e.atomPropsModel,(function(t,i){return[e.isHidden(t,e.element)?e._e():n("form-field",{key:i,attrs:{desc:t.desc,"desc-link":t.descLink,"desc-link-text":t.descLinkText,required:t.required,label:t.label,"is-error":e.errors.has(i),"error-msg":e.errors.first(i)}},[n(t.component,e._b({directives:[{name:"validate",rawName:"v-validate.initial",value:Object.assign(t.rule,{required:!!t.required}),expression:"Object.assign(obj.rule, { required: !!obj.required })",modifiers:{initial:!0}}],tag:"component",attrs:{disabled:e.disabled,lang:e.lang,name:i,"handle-change":e.handleUpdateElement,value:e.element[i]}},"component",t,!1))],1)]}))],2)])},a=[];i._withStripped=!0,n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return a}))},ytIF:function(e,t,n){"use strict";var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.element?n("section",{class:{"atom-property-panel":!0},attrs:{slot:"content"},on:{click:function(t){return e.toggleAtomSelectorPopup(!1)}},slot:"content"},[n("header",{staticClass:"property-panel-header"},[n("div",{staticClass:"atom-name-edit"},[n("input",{directives:[{name:"show",rawName:"v-show",value:e.nameEditing,expression:"nameEditing"},{name:"bk-focus",rawName:"v-bk-focus",value:1,expression:"1"},{name:"validate",rawName:"v-validate.initial",value:"required|max:30",expression:'"required|max:30"',modifiers:{initial:!0}}],staticClass:"bk-form-input",attrs:{name:"name",placeholder:"请输入名称"},domProps:{value:e.element.name},on:{blur:function(t){return e.toggleEditName(!1)},keydown:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.toggleEditName(!1)},"@keyup":function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.toggleEditName(t)},input:e.handleEditName}}),e._v(" "),e.nameEditing?e._e():n("p",[e._v(e._s(e.atomCode?e.element.name:"待选择插件"))]),e._v(" "),e.atomCode&&e.editable?n("i",{staticClass:"bk-icon icon-edit",class:e.nameEditing?"editing":"",on:{click:function(t){return e.toggleEditName(!0)}}}):e._e()]),e._v(" "),n("reference-variable",{attrs:{"global-envs":e.globalEnvs,stages:e.stages,container:e.container}})],1),e._v(" "),n("div",{directives:[{name:"bkloading",rawName:"v-bkloading",value:{isLoading:e.fetchingAtmoModal},expression:"{ isLoading: fetchingAtmoModal }"}],staticClass:"atom-main-content"},[n("div",{staticClass:"atom-type-selector bk-form-row bk-form bk-form-vertical"},[n("form-field",{attrs:{inline:!0,label:"插件","is-error":e.errors.has("@type"),"error-msg":e.errors.first("@type")}},[n("div",{staticClass:"atom-select-entry"},[e.atom?[n("span",{staticClass:"atom-selected-name",attrs:{title:e.atom.name}},[e._v(e._s(e.atom.name))]),e._v(" "),n("bk-button",{staticClass:"atom-select-btn reselect-btn",attrs:{theme:"primary",disabled:!e.editable},on:{click:function(t){return t.stopPropagation(),e.toggleAtomSelectorPopup(!0)}}},[e._v("重选")])]:e.atomCode?[n("bk-button",{staticClass:"atom-select-btn",attrs:{theme:"primary"},on:{click:function(t){return t.stopPropagation(),e.toggleAtomSelectorPopup(!0)}}},[e._v("重选")])]:[n("bk-button",{staticClass:"atom-select-btn",attrs:{theme:"primary"},on:{click:function(t){return t.stopPropagation(),e.toggleAtomSelectorPopup(!0)}}},[e._v("请在左侧选择一个插件")])]],2)]),e._v(" "),e.hasVersionList?n("form-field",{attrs:{desc:"主版本号.latest：表示执行时使用对应\n 主版本号下最新版本的插件",label:"版本"}},[n("bk-select",{attrs:{value:e.element.version,clearable:!1,placeholder:"请选择插件版本",name:"version",disabled:!e.editable},on:{selected:e.handleUpdateVersion}},e._l(e.atomVersionList,(function(e){return n("bk-option",{key:e.versionName,attrs:{id:e.versionValue,name:e.versionName}})})),1)],1):e._e()],1),e._v(" "),n("div",{staticClass:"atom-form-content"},[!e.atom&&e.atomCode?n("div",{staticClass:"no-atom-tips"},[e._m(0),e._v(" "),n("p",[e._v("当前插件没有可用版本。可能是插件已取消发布或者发布流程进行中。")])]):e._e(),e._v(" "),e.atom?n("div",{class:{"atom-form-box":!0,readonly:!e.editable}},[e.atom.atomModal?n(e.AtomComponent,{tag:"div",staticClass:"atom-content",attrs:{"element-index":e.elementIndex,"container-index":e.containerIndex,"stage-index":e.stageIndex,element:e.element,container:e.container,stage:e.stage,"atom-props-model":e.atom.atomModal.props,"set-parent-validate":e.setAtomValidate,disabled:!e.editable}}):e._e(),e._v(" "),n("div",{staticClass:"atom-option"},["manualTrigger"!==e.element["@type"]?n("atom-option",{attrs:{"element-index":e.elementIndex,"container-index":e.containerIndex,"stage-index":e.stageIndex,element:e.element,container:e.container,"set-parent-validate":e.setAtomValidate}}):e._e()],1)],1):e._e()])])]):e._e()},a=[function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"no-atom-tips-icon"},[t("i",{staticClass:"bk-icon icon-info-circle-shape",attrs:{size:"14"}})])}];i._withStripped=!0,n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return a}))},zAws:function(e,t,n){"use strict";n.r(t);var i=n("cNXQ"),a=n.n(i);for(var r in i)"default"!==r&&function(e){n.d(t,e,(function(){return i[e]}))}(r);t.default=a.a},zLKB:function(e,t,n){"use strict";var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"build-params-comp"},[[n("accordion",{attrs:{"show-checkbox":"","show-content":e.hasGlobalParams}},[n("template",{slot:"header"},[n("span",[e._v("\n                    "+e._s(e.title)+"\n                    "),n("bk-popover",{attrs:{placement:"right"}},[n("i",{staticClass:"bk-icon icon-info-circle",staticStyle:{display:"block"}}),e._v(" "),n("div",{staticStyle:{"white-space":"pre-wrap"},attrs:{slot:"content"},slot:"content"},[n("div",[e._v(" 可以在插件中引用该变量 ")])])])],1)]),e._v(" "),n("template",{slot:"content"},[e.hasGlobalParams?[n("draggable",{attrs:{options:e.paramsDragOptions},model:{value:e.globalParams,callback:function(t){e.globalParams=t},expression:"globalParams"}},e._l(e.globalParams,(function(t,i){return n("accordion",{key:i,attrs:{"is-error":e.errors.any("param-"+i)}},[n("header",{staticClass:"param-header",attrs:{slot:"header"},slot:"header"},[n("span",[e._v(e._s(t.id))]),e._v(" "),e.disabled||"templateParams"===e.settingKey?e._e():n("i",{staticClass:"bk-icon",class:[t.required?"icon-eye":"icon-eye-slash"],on:{click:function(t){return t.stopPropagation(),t.preventDefault(),e.editParamShow(i)}}}),e._v(" "),e.disabled?e._e():n("i",{staticClass:"bk-icon icon-move"}),e._v(" "),e.disabled?e._e():n("i",{staticClass:"bk-icon icon-minus",on:{click:function(t){return t.stopPropagation(),t.preventDefault(),e.editParam(i,!1)}}})]),e._v(" "),n("bk-form",{attrs:{slot:"content"},slot:"content"},[n("div",{staticClass:"params-flex-col"},[n("bk-form-item",{staticClass:"flex-colspan-7",attrs:{label:"变量类型"}},[n("selector",{attrs:{"data-vv-scope":"param-"+i,disabled:e.disabled,name:"type",list:e.paramsList,"handle-change":function(n,i){return e.handleParamTypeChange(n,i,e.getParamIndex(t.id))},value:t.type}})],1),e._v(" "),"templateParams"!==e.settingKey?n("bk-form-item",{staticClass:"flex-colspan-2"},[n("atom-checkbox",{attrs:{disabled:e.disabled,text:"执行时显示",value:t.required,name:"required","handle-change":function(n,i){return e.handleUpdateParam(n,i,e.getParamIndex(t.id))}}})],1):e._e()],1),e._v(" "),n("div",{staticClass:"params-flex-col pt10"},[n("bk-form-item",{attrs:{label:"名称","is-error":e.errors.has("param-"+i+".id"),"error-msg":e.errors.first("param-"+i+".id")}},[n("vuex-input",{directives:[{name:"validate",rawName:"v-validate.initial",value:"required|unique:"+e.validateParams.map((function(e){return e.id})).join(","),expression:'`required|unique:${validateParams.map(p => p.id).join(",")}`',modifiers:{initial:!0}}],attrs:{"data-vv-scope":"param-"+i,disabled:e.disabled,"handle-change":function(n,i){return e.handleUpdateParam(n,i,e.getParamIndex(t.id))},name:"id",placeholder:"请输入名称",value:t.id}})],1),e._v(" "),n("bk-form-item",{attrs:{label:"默认值",required:e.isBooleanParam(t.type),"is-error":e.errors.has("param-"+i+".defaultValue"),"error-msg":e.errors.first("param-"+i+".defaultValue"),desc:e.showTips}},[e.isSelectorParam(t.type)?n("selector",{attrs:{"handle-change":function(n,i){return e.handleUpdateParam(n,i,e.getParamIndex(t.id))},list:e.transformOpt(t.options),"multi-select":e.isMultipleParam(t.type),name:"defaultValue","data-vv-scope":"param-"+i,placeholder:"请输入默认值",disabled:e.disabled,value:e.getSelectorDefaultVal(t)}}):e._e(),e._v(" "),e.isBooleanParam(t.type)?n("enum-input",{staticStyle:{"line-height":"30px"},attrs:{name:"defaultValue",list:e.boolList,disabled:e.disabled,"data-vv-scope":"param-"+i,"handle-change":function(n,i){return e.handleUpdateParam(n,i,e.getParamIndex(t.id))},value:t.defaultValue}}):e._e(),e._v(" "),e.isStringParam(t.type)||e.isSvnParam(t.type)?n("vuex-input",{attrs:{disabled:e.disabled,"handle-change":function(n,i){return e.handleUpdateParam(n,i,e.getParamIndex(t.id))},name:"defaultValue","data-vv-scope":"param-"+i,placeholder:"请输入默认值",value:t.defaultValue}}):e._e(),e._v(" "),e.isCodelibParam(t.type)?n("request-selector",e._b({attrs:{url:e.getCodeUrl(t.scmType),disabled:e.disabled,name:"defaultValue",value:t.defaultValue,"handle-change":function(n,i){return e.handleUpdateParam(n,i,e.getParamIndex(t.id))},"data-vv-scope":"param-"+i}},"request-selector",e.codelibOption,!1)):e._e(),e._v(" "),e.isBuildResourceParam(t.type)?n("request-selector",{attrs:{url:e.getBuildResourceUrl(t.containerType),"param-id":"name",disabled:e.disabled,name:"defaultValue",value:t.defaultValue,"handle-change":function(n,i){return e.handleUpdateParam(n,i,e.getParamIndex(t.id))},"data-vv-scope":"param-"+i}}):e._e()],1)],1),e._v(" "),e.isSelectorParam(t.type)?n("bk-form-item",{attrs:{label:"下拉选项",desc:"用换行符分隔选项，选项不能包含英文逗号，重复的选项将只会显示一个","is-error":e.errors.has("param-"+i+".options"),"error-msg":e.errors.first("param-"+i+".options")}},[n("vuex-textarea",{directives:[{name:"validate",rawName:"v-validate.initial",value:"excludeComma",expression:'"excludeComma"',modifiers:{initial:!0}}],attrs:{disabled:e.disabled,"handle-change":function(n,i){return e.editOption(n,i,e.getParamIndex(t.id))},name:"options","data-vv-scope":"param-"+i,placeholder:"多行记录请换行输入",value:e.getOptions(t)}})],1):e._e(),e._v(" "),e.isSvnParam(t.type)?n("bk-form-item",{attrs:{label:"请选择svn代码库","is-error":e.errors.has("param-"+i+".repoHashId"),"error-msg":e.errors.first("param-"+i+".repoHashId")}},[n("request-selector",e._b({directives:[{name:"validate",rawName:"v-validate.initial",value:"required",expression:'"required"',modifiers:{initial:!0}}],attrs:{disabled:e.disabled,name:"repoHashId",value:t.repoHashId,"handle-change":function(n,i){return e.handleUpdateParam(n,i,e.getParamIndex(t.id))},"data-vv-scope":"param-"+i}},"request-selector",e.svnPathOption,!1))],1):e._e(),e._v(" "),e.isSvnParam(t.type)?n("bk-form-item",{attrs:{label:"代码库相对目录","is-error":e.errors.has("param-"+i+".relativePath"),"error-msg":e.errors.first("param-"+i+".relativePath")}},[n("vuex-input",{attrs:{disabled:e.disabled,"handle-change":function(n,i){return e.handleUpdateParam(n,i,e.getParamIndex(t.id))},name:"relativePath","data-vv-scope":"param-"+i,placeholder:"请填写代码库相对目录,如为空则会拉取所选代码库的根路径下的子目录",value:t.relativePath}})],1):e._e(),e._v(" "),e.isCodelibParam(t.type)?n("bk-form-item",{attrs:{label:"请选择代码库类型","is-error":e.errors.has("param-"+i+".scmType"),"error-msg":e.errors.first("param-"+i+".scmType")}},[n("selector",{attrs:{disabled:e.disabled,list:e.codeTypeList,"handle-change":function(n,i){return e.handleCodeTypeChange(n,i,e.getParamIndex(t.id))},name:"scmType","data-vv-scope":"param-"+i,placeholder:"",value:t.scmType}})],1):e._e(),e._v(" "),e.isBuildResourceParam(t.type)?[n("bk-form-item",{attrs:{label:"请选择构建环境","is-error":e.errors.has("param-"+i+".os"),"error-msg":e.errors.first("param-"+i+".os")}},[n("selector",{attrs:{disabled:e.disabled,list:e.baseOSList,"handle-change":function(n,i){return e.handleBuildResourceChange(n,i,e.getParamIndex(t.id),t)},name:"os","data-vv-scope":"param-"+i,placeholder:"",value:t.containerType.os}})],1),e._v(" "),n("bk-form-item",{attrs:{label:"请选择构建资源类型","is-error":e.errors.has("param-"+i+".buildType"),"error-msg":e.errors.first("param-"+i+".buildType")}},[n("selector",{attrs:{disabled:e.disabled,list:e.getBuildTypeList(t.containerType.os),"setting-key":"type","handle-change":function(n,i){return e.handleBuildResourceChange(n,i,e.getParamIndex(t.id),t)},name:"buildType","data-vv-scope":"param-"+i,placeholder:"",value:t.containerType.buildType}})],1)]:e._e(),e._v(" "),n("bk-form-item",{attrs:{label:"描述"}},[n("vuex-input",{attrs:{disabled:e.disabled,"handle-change":function(n,i){return e.handleUpdateParam(n,i,e.getParamIndex(t.id))},name:"desc",placeholder:"请输入参数描述",value:t.desc}})],1)],2)],1)})),1),e._v(" "),e.disabled?e._e():n("a",{staticClass:"text-link",on:{click:function(t){return t.stopPropagation(),t.preventDefault(),e.editParam(e.globalParams.length,!0)}}},[n("i",{staticClass:"bk-icon icon-plus-circle"}),e._v(" "),n("span",[e._v("新增变量")])])]:n("div",{staticClass:"no-prop"},[n("bk-button",{attrs:{theme:"primary",disabled:e.disabled},on:{click:function(t){return e.editParam(null,!0)}}},[e._v("添加变量")])],1)],2)],2)]],2)},a=[];i._withStripped=!0,n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return a}))},"zPs+":function(e,t,n){"use strict";var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{directives:[{name:"bkloading",rawName:"v-bkloading",value:{isLoading:e.loading.isLoading,title:e.loading.title},expression:"{\n        isLoading: loading.isLoading,\n        title: loading.title\n    }"}],staticClass:"biz-container pipeline-subpages instance-manage-wrapper"},[n("inner-header",[n("div",{staticClass:"instance-header",attrs:{slot:"left"},slot:"left"},[n("span",{staticClass:"inner-header-title",attrs:{slot:"left"},slot:"left"},[e._v("实例管理")])])]),e._v(" "),e.showContent&&e.instanceList.length?n("div",{staticClass:"sub-view-port"},[n("div",{staticClass:"instance-handle-row"},[n("bk-button",{staticClass:"batch-update",attrs:{size:"normal"},on:{click:function(t){return e.handleBitch()}}},[n("span",[e._v("批量更新")])]),e._v(" "),n("bk-button",{attrs:{theme:"primary",size:"normal"},on:{click:function(t){return e.createInstance()}}},[n("span",[e._v("创建新实例")])])],1),e._v(" "),n("section",{staticClass:"instance-table"},[n("bk-table",{attrs:{data:e.instanceList,size:"small"},on:{select:e.selectItem,"select-all":e.selectItem}},[n("bk-table-column",{attrs:{type:"selection",width:"60",align:"center",disalbed:!1}}),e._v(" "),n("bk-table-column",{attrs:{label:"流水线名称",prop:"pipelineName"},scopedSlots:e._u([{key:"default",fn:function(t){return[n("span",{staticClass:"pipeline-name",on:{click:function(n){return e.toPipelineHistory(t.row.pipelineId)}}},[e._v(e._s(t.row.pipelineName))])]}}],null,!1,751394558)}),e._v(" "),n("bk-table-column",{attrs:{label:"实例版本",prop:"versionName"}}),e._v(" "),n("bk-table-column",{attrs:{label:"模板最新版本",formatter:e.currentVersionFormatter}},[[n("span",[e._v(e._s(e.currentVersionName))])]],2),e._v(" "),n("bk-table-column",{attrs:{label:"状态",prop:"updateTime"},scopedSlots:e._u([{key:"default",fn:function(t){return[n("div",{class:{"status-card":!0,"need-update":e.isUpdate(t.row)}},[e._v("\n                            "+e._s(e.isUpdate(t.row)?"需更新":"无需更新")+"\n                        ")])]}}],null,!1,3053179209)}),e._v(" "),n("bk-table-column",{attrs:{label:"上次更新时间",prop:"updateTime"},scopedSlots:e._u([{key:"default",fn:function(t){return[n("span",[e._v(e._s(e.localConvertTime(t.row.updateTime)))])]}}],null,!1,35466732)}),e._v(" "),n("bk-table-column",{attrs:{label:"操作",width:"150"},scopedSlots:e._u([{key:"default",fn:function(t){return[n("bk-button",{attrs:{theme:"primary",text:"",disabled:!t.row.hasPermission},on:{click:function(n){return e.updateInstance(t.row)}}},[e._v("编辑")]),e._v(" "),n("bk-button",{attrs:{theme:"primary",text:""},on:{click:function(n){return e.toCompared(t.row)}}},[e._v("差异对比")])]}}],null,!1,2782471040)})],1)],1)]):e._e(),e._v(" "),e.showContent&&!e.instanceList.length?n("empty-tips",{attrs:{title:e.emptyTipsConfig.title,desc:e.emptyTipsConfig.desc,btns:e.emptyTipsConfig.btns}}):e._e(),e._v(" "),n("instance-compared",{attrs:{"show-compared-instance":e.showComparedInstance,loading:e.dialogLoading,"instance-version":e.instanceVersion,"cur-version":e.currentVersion,"version-list":e.versionList,"cur-params-list":e.curParamsList,"cur-tpl-params-list":e.curTplParamsList,"target-params-list":e.targetParamsList,"target-tpl-params-list":e.targetTplParamsList,"cur-stages":e.curStages,"target-stages":e.targetStages,"selected-version":e.selectedVersion},on:{comfire:e.comfireHandler,cancel:e.cancelHandler}})],1)},a=[];i._withStripped=!0,n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return a}))},zYbx:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=l(n("06Hw")),a=l(n("YYXh")),r=l(n("/9Wh")),s=l(n("WyVq")),o=l(n("0w5d"));function l(e){return e&&e.__esModule?e:{default:e}}t.default={name:"pushimage-to-thiedrepo",mixins:[s.default,o.default],data:function(){return{newModel:{}}},computed:{projectId:function(){return this.$route.params.projectId}},created:function(){this.newModel=JSON.parse((0,r.default)(this.atomPropsModel)),this.requestImageList(),this.element.srcImageName&&this.requestImageTagList(this.element.srcImageName)},methods:{requestImageList:function(){var e=this;return(0,a.default)(i.default.mark((function t(){var n;return i.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e.$store.dispatch("soda/getImageList",{projectId:e.projectId});case 3:(n=t.sent)&&n.imageList.length&&(e.newModel.srcImageName.list=n.imageList),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),e.$showTips({message:t.t0.message||t.t0,theme:"error"});case 10:case"end":return t.stop()}}),t,e,[[0,7]])})))()},requestImageTagList:function(e){var t=this;return(0,a.default)(i.default.mark((function n(){var a;return i.default.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,t.$store.dispatch("soda/getImageTagList",{repo:e});case 3:(a=n.sent)&&a.tags.length&&(t.newModel.srcImageTag.list=a.tags),n.next=10;break;case 7:n.prev=7,n.t0=n.catch(0),t.$showTips({message:n.t0.message||n.t0,theme:"error"});case 10:case"end":return n.stop()}}),n,t,[[0,7]])})))()},handleChooseImage:function(e,t,n){if(n){var i=this.newModel.srcImageName.list.find((function(e){return e.name===t}));i&&this.requestImageTagList(i.repo),this.handleUpdateElement("srcImageTag",""),this.newModel.srcImageTag.list=[]}this.handleUpdateElement(e,t)},handleChange:function(e,t,n){"srcImageName"===e?this.handleChooseImage(e,t,n):this.handleUpdateElement(e,t)}}}},za6S:function(e,t,n){},zaVn:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=h(n("wv3L")),a=h(n("snOE")),r=h(n("TcPG")),s=h(n("Kz1y")),o=n("WIBD"),l=n("ygAv"),u=h(n("MMoO")),c=h(n("eI+G")),d=h(n("ZdkB")),p=h(n("32o7")),f=h(n("0w5d")),m=n("TXTV");function h(e){return e&&e.__esModule?e:{default:e}}t.default={name:"version-config",components:{Accordion:u.default,VuexInput:c.default,FormField:p.default,EnumInput:d.default},mixins:[f.default],props:{params:{type:Array,default:function(){return[]}},buildNo:{type:Object},disabled:{type:Boolean,default:!1},updateContainerParams:{type:Function,required:!0}},data:function(){return{isShowVersionParams:!1,showTips:'若value为版本号,则不能包含“”""等符号；\n如果参数类型为复选框，选择多个值时将以a,b的方式传递给流水线'}},computed:(0,s.default)({},(0,o.mapGetters)("atom",["buildNoRules","defaultBuildNo"]),(0,o.mapState)("atom",["buildParamsMap"]),{allVersionKeyList:function(){return["MajorVersion","MinorVersion","FixVersion"]},versionConfig:function(){return{MajorVersion:{label:"主版本",type:"STRING",desc:"主版本（MajorVersion）",default:"0",placeholder:"MajorVersion"},MinorVersion:{label:"特性版本",type:"STRING",desc:"特性版本（MinorVersion）",default:"0",placeholder:"MinorVersion"},FixVersion:{label:"修正版本",type:"STRING",desc:"修正版本（FixVersion）",default:"0",placeholder:"FixVersion"}}},globalParams:{get:function(){var e=this.allVersionKeyList;return this.params.filter((function(t){return!e.includes(t.id)}))},set:function(e){this.updateContainerParams("params",e)}},versions:function(){var e=this.allVersionKeyList;return this.params.filter((function(t){return e.includes(t.id)}))},showVersions:function(){return 0!==this.versions.length},buildParams:function(){var e=this.$route.params.buildNo;return this.buildParamsMap[e]},isExecDetail:function(){return!!this.$route.params.buildNo}}),created:function(){var e=this.$route.params,t=e.projectId,n=e.pipelineId,i=e.buildNo;i&&!this.buildParamsMap[i]&&this.requestBuildParams({projectId:t,pipelineId:n,buildId:i}),this.isShowVersionParams=0!==this.versions.length},methods:(0,s.default)({},(0,o.mapActions)("atom",["updateContainer","requestBuildParams"]),{getVersionById:function(e){return this.versions.find((function(t){return t.id===e}))||{}},handleUpdateParam:function(e,t,n){try{var i=this.params[n];(0,m.isMultipleParam)(i.type)&&"defaultValue"===e?(0,s.default)(i,(0,r.default)({},e,t.join(","))):i&&(0,s.default)(i,(0,r.default)({},e,t)),this.handleChange(this.params)}catch(e){console.log("update error",e)}},editParam:function(e,t){var n=this.globalParams,i=this.versions;if(t){var r=(0,s.default)({},(0,l.deepCopy)(m.DEFAULT_PARAM[m.STRING]),{id:"param"+Math.floor(100*Math.random())});n.splice(e+1,0,r)}else n.splice(e,1);this.handleChange([].concat((0,a.default)(n),(0,a.default)(i)))},handleChange:function(e){this.updateContainerParams("params",e)},handleVersionsChange:function(e,t){var n=this.versions.find((function(t){return t.id===e}));n&&"object"===(void 0===n?"undefined":(0,i.default)(n))&&(0,s.default)(n,{defaultValue:t}),this.handleChange([].concat((0,a.default)(this.versions),(0,a.default)(this.globalParams)))},handleBuildNoChange:function(e,t){this.updateContainerParams("buildNo",(0,s.default)({},this.buildNo,(0,r.default)({},e,t)))},toggleVersions:function(e){var t=this,n=e.target.checked,i=this.allVersionKeyList;if(n){var r=i.map((function(e){return{desc:t.versionConfig[e].desc,defaultValue:t.versionConfig[e].default,id:e,required:!1,type:t.versionConfig[e].type}}));this.updateContainerParams("params",[].concat((0,a.default)(this.globalParams),(0,a.default)(r))),this.updateContainerParams("buildNo",(0,s.default)({},this.defaultBuildNo)),this.isShowVersionParams=!0}else this.updateContainerParams("params",this.globalParams),this.updateContainerParams("buildNo",null),this.isShowVersionParams=!1}})}},zg3u:function(e,t,n){"use strict";var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"code-mode-check-selector bk-form-row bk-form"},[n("div",{staticClass:"bk-form-inline-item",class:{"is-required":e.required}},[n("label",{staticClass:"bk-label"},[e._v(e._s(e.text)+"：")]),e._v(" "),n("div",{staticClass:"bk-form-content"},[n("enum-input",{attrs:{list:e.gitPullModes,disabled:e.noPermission,name:"type","handle-change":e.handleModeChange,value:e.gitPullModeType}})],1)]),e._v(" "),n("div",{staticClass:"bk-form-inline-item",class:{"is-required":e.required}},[e.gitPullModeType?[n("label",{staticClass:"bk-label"},[e._v(e._s(e.gitPullModeList[e.gitPullModeType].label)+"：")]),e._v(" "),n("div",{staticClass:"bk-form-content"},[n("vuex-input",{attrs:{placeholder:e.gitPullModeList[e.gitPullModeType].placeholder,name:"value","handle-change":e.handleValueChange,value:e.gitPullModeVal}})],1)]:e._e()],2)])},a=[];i._withStripped=!0,n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return a}))},zjxr:function(e,t,n){},zlVo:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAJAAAABfCAYAAAAH+E7ZAAAVyUlEQVR4nO2dW2wb6XXHf7xfRZESSYmiqLtpedfRbm03alMHQVFv0aYv7cNunlIUbWMjAZKilYu1/ND2yXIDOw8JtoGNtAHapGg3TZOHFgi6bouifhGw9na1F8u0dZeoKyWR4p0cTh84lEmKV5ESJS9/gGDr03DmzHz/Oed855v5KBNFkdPCw8fTXwG+BbwGGBpsTr0IAR8Cdy5fGP5Zo42pFtlRC+jh4+mKtx0dcRf92+SU57vANy0mA+YWAwqFvA7WNZ5EUsAfDLMbCAF8d3TE/SfVfF6lbOx1UDb06BUyOeX5I+Cbg64OHDZLo82pOy7a8W7uMLu0/q3JKc/06Ij7+422qVIaJaCM25OV23ByyvPLwDudVjOdVjPL6z7Wt/xEYvGjtfAYkMlAq1HT2W6my24hEo2zurnzvckpz/PREfd7jbavEk60B5qc8tiAn7YYtJpBVwfTsytsB0LYLCY6rGZksrL6O9GIokgoEmPeu0kgFGG430k0FlfsBEI/mZzy/NroiPuTRttYjhMroMkpjwL4Z5VS4Roe6GZlYxufP8jZfifmlpclf05jMRl5trDC4toWZ/udfORZaA1FYj+fnPJ8YXTEvdlo+0pxnBmYmPVTqi3Dt2Uyfn14wEk8nmTBu4XD1vbSiQfAYjLQ3WFlaXUL/16IcwPdqJSKIeCnk1MedaPtK8WJHMpMTnneAv6sz2nHqNPydG4Fg06Dq7O90aYdGV32NtpajXgWVkmJKV4Z7EYmk30R+EGjbSvFcQpIlvVTtG1yynMe+KHVYsJpb+P54hoJQWCwx3Hqc55yDLg6UatUPJlZQafV4O51AHx1cspzo9G2FeNEeaDJKU8r8DODTqN393ay7vOzuROg39mBVq1qtHlHjkIux93XRTyZxDPvxdZmojvtdW9NTnl+t9H2FeIkCUgG/FipUAydG3ASiyeZXVrHZjHRbm5ptG3HhlatYqjHwU4gyOLqFn1dNqzmFhnw48kpz8VG25dPowSUH8oA/gL4nbN9DtRqFdNzXlQqJX1OewPMayzmFgPODiuLq1v4dvdw9zloMej0wM8npzzd2dsmkqmafmrlyKcyypFIppic8nwZ+Lceh1XW47Ayu7TO2tYurwz1YNBpGmpfI3m24MUfDPPa2T4UCjlT0/PEEsn3gS+NjrjD9ThGrVMhDQ9hk1OeIeAf21qNsh6HlW1/EO/mDi6H9TMtHsgk1UqezCyjkMt5ZagbuVx+CfjR5JTnRIwoGiqgh4+n9cC/6jTqVndfF/FEEs/CKmaTgU7ryzfnVS0KuRx374uk2qDTMtzfBfB7wK0Gmwc0OIQ9fDz9Twq5/Cuvne1Fp9Xw8fNFItE4nzvTi1KpaJhdh0EUIRiO4N8LEYzEiMbiJAUBQUihUMhRKhRo1Cpa9FqMBh0mox55hWWJ3b0QnvkVXJ1WehxWltd8zHs3Ab46OuL+US121xrCGiagh4+n/xT4znC/E6ulhaU1H4urmwz3d2My6hti02FIJAU2fLusbu6g1agxt+gx6nVoNSqUSgVKhQJBSJEUBKLxBMFQhEAoQiQao92cntOrpESxsu5jed3HuQEn7eYWni2ssu7zx4HfGB1xPzys/adSQA8fT38J+E+nvU3R320nEIrwkWcBh60NV6f12O05DKIosra1i3djm3ZzCx1WMzpN5bMOGeGt+XaxWUw47e1ln3F6tuAlEAwzcrYPnUbFx8+X8O+FN4EvjI64nx/mPE6dgB4+nu4GHre26G3nh3oQUgIfPJlHrVRyLl2+P1Z7DkMsnuDZwipqqcygVh1+TjqZFFha22J3L8RQj4MWg67otoKQ4pOZRRDh9eE+UqLIh08XiMbiHwOXR0fc/mqPf6oE9PDxtBr4X41a9fnXh/tQKRXMLW+w5tvlc2d60ZyCavNeKMKzBS/dHVbs7a0H/p4UBPx7YcKRGLFEAkFIIZfLUCmV6HUaWo36gue5uxdidmkdl8OKzWIqevxoLM5Hzxbpslnoc9qIRON8+HSepJD6D+DLoyNuoZrzqVVAx/04xztymezz5wacqKQk2be7h16rwR+srqzRoteh0x7vRHVAEs+ZHseBPG0vFMG7uU0wFKXVqJMSZS0KhQIhlSIm5T/L6z40KiUOm4W21hcVdnOLgVeGXEzPLhMIhkt6Ir1WjW93jz6nDZ1WzfBAN588X/xNUeR7wDeO6vwLcWwe6OHj6T8Afnimt5OOdvN++/PFNdZ9fqq1o89pz9nPURONJ/j0+SJDeeJJCgLzKxsEw1Fcne3Y20zI5cXvalFkf5oC0rWe7Nwpc5xEsrgjkclkOKxmBlwd+22rm7vMLK0B/OHoiPuHlZ7XqQlhDx9Pz9sspt6z6TpGrfs6VgGlRJFPni3SaTVja3sRtsKRGE/nV7C3tdLjsCKXV5e/rW3tsuDdpL+7A4vJuN8eCIZ5vrjK6+f60VSRX3nmvWxsBxZHR9y9lX7mNFWie0/T8Dwb78Y2Wo0qVzzRGNNzKwy4Ouhz2qoWD0Cn1cyrQy7mVzbY9u/tt5uMemxtrcwurlW1vxaDHqCnakNqoOFTGSedeCLJum+H3q4Xk7qJpMDTuRUGezqw1vikgFGv5dUhF3MrG4Qisf12p72dvXCUQJW54XHTFFAZ1rZ2sFlac4bqC94N7G2tNYsng0GnYcjVwczS6n4uKJfLcNjaWFnfrssxjoqmgEogiiKbO4GcXGsvHCEUidLTVd+Cp9ViQqtRs+57UcqxtZnYDYaJxhN1PVY9aQqoBIFgBJ1anVO3WdvcpbujveJ5rGro6bSytrWz/7tCLsfSYsS3s1fiU42lKaAS+IMhWk0v3gJJCgKBYBh7W/FCXy20GLQoFXL2QpH9NrPJwO4JzoOaAipBKBLDqNfu/+7fC9Ni0Jas89RKW6sxp6hq1GsJhaNHdrxaaQqoBNFYPGemPByNlawQ1wODXkso8kIwGrUq/VhIqvbHT4+CpoBKkBQEVMoXo69kUqhp4rQS1Col8UQyp02lVJasTFfK5JRHnJzy1LVy3BRQCVIpMadAKKRSKI4wfAEoFXLEVG4fy+UyBOFkeqAT+258KWQyGanU0U/BKBTy/ScKM8c96lAiCOKB54IEIYWyhvWQ8r1O5vfREXfNQ8lT6YGMei3BcKT8hjWiUihIJF+EE61adeQ1mVgigSovTCYF4cQ+4nsqPZDNYtov/R/lmxtajZpILI5Wmi036LSs+3aP7HgAe8FIzsgvFk+gUiprCp0ZT1NPz5PhVHqgTpsZvVaNZ36FcNb8Ub0x6rUEQy9GRC1GHXuhCEmh9oS2GD5/EJPhxaRzMBw90a83nUoPJJfJeHXIxSfPl/n4+SIWkwGjXlf3dRMFUcS/F8LlSE9bKORyzCYD61t+nB1tdT0WpJ9KlMnI8UC7e6GcRz1qoZ6eJ8OpFBCkh7uvD/eyurnLxraflXXfkSW4kWgMnTbtBbrsbUzPLtNhbUWpqG9eMr+yidP+YgkbIZViNxBioPvkvt59agUE6VFRl91Cl/3oXkJcWt1idWuXge700396rQaLycj8yiZDPZ11O87q5g4ymSxnIYnN7QBmk56kIBCLJ9FpVXUXba2cagEdBw6bhUefzhKJWfYfPe3psvHxs0VWN3fqsmqsfy/M4qqPV4dc+23p14Z2iCeSBMMxFAo50VicVqOeAdfJWe6mKaAyKJUKXJ1W5lc2ODeQXhhDIZdztt/Jk5klRJGaPOBuIMT0vJczvV05s/7b/iDmFgMd7eb9lwdSqRRrW7t8+GSevm7bsT4TXoxTOQo7bjJeZnXzxcNdWrWKVwZdrG7t8nTeS7LKqYZUSmRhdQvPghd3XxemrDm2YDhKPJGgz2nPefNELpfTZW/j3KAL78YOn84sk8ib9jhumgKqAJkMzvZ3se7bZScQ3G/XqFWcH+pBqVDw6NM5Fle3iJUpNCYFgdXNHR59OksoHOX8UC8t+hfiCUdjPJ1bodS7DjqtmleHetBpNXwwPc9WA58X+kyEMFEUmVvZYGM7ULWnyOfZwiqDrs79ZFcul9HjsGFvN7O2ucMHT+bRalS0GHRo1CqUCjmpVIpYIkkwHCUYjmJuMTDU48gZrgOEIlGeznvRqFWUe15NJpPR3dGOucXA7NIaPv8eRp229IeOgM+EgOZWNvAHI/R1d9Y8ionFE8x7N4jE4jjt7fsdrVWr6HPa6e2yEYrE0mEoniQsCMjlctQqBZ1WCyaDvuAbHL7dPRa8mwz1dhKLJQhGKnsGyKjXcv5ML0trmyyt+Wo6t8PwmRDQxnagLuKBdNjq73bg3Ui/z97vtGPIuvNlMhlGvfaAdylGPJFkwbtJNBbn/BkXBp2GaDzB0pqP7o5kzuMkxZDLZfR22bGYjMwsrTE55fkb4M9HR9yhw55npTRzoEOgUMhxOeyYW4w8nfPikVbNqIZQJMrM4hofeRYw6jW8Pty3P2WhVavospl5Ordy4NmgUpiMekbcfVgtpq8DH0xOeX61KqMOwXG+mSoOujpx2I5/6Dm7vE4gGKXT3lb3QpwoTXfs+PcQRZHWFgNGvRatOr0+UGYSNJEUiMbihCJRdvfCiKJIZ3srnTbL/joB+aysb7O07qPXYcNaYsGFQuz4g8ytrAuJpPBt4K9GR9wFv53mNL3aHOvvtqud9vrPIZVjP4n2BY50IhTSQ22tWoVKqSAhCKSk6RWVUolWo8Ko09Laoq84xKUT61W0ahX9zo6qHutIJAXmltfZCQQ/BH5/dMQ9lb/NaRLQk06rebie5f/PCilRZNG7xbpv98B79JWwtRNg3rsRE4TUXwJ3speAOU3vxv9ixx+sehWOJumnD/qcNs4NdLO4usns8npVj7haLSY+d6ZXYzLqbwP/MznlGayXbcfpgc4D/zfo6lC8jN86eFwIqRRzyxvsBEIMuDpzKtiVsLa1w9LaViiVEq8D9y5fGK5JAMe9Qtk7MpnsG+fPuGg9pSt1nBR2AiGeLazS1tqCy2Gt6k3ZSCzO7NIawXD0F8AfX74wvHJYOxqxxN2/y2WyK31OGw6b5VSsiXhSSSSTfPJ8GSGVYtDVmVOPKocoing3tlnZ2PaJovjm5QvD/30YGxqxyKYa+A7wdbVKKW9rNaLTqo/8dZmXCSGVIhKNs+0PEk9/4cV/yWSyi057m6XL3lbVTbkXivB0biUqpFKjly8MHxillaOR60S/CnwN+C1gADgZD7icDkLAPPAA+MHoiPvjySmPA/hbg07724M9nVUtOZxeKW3jXy5fGH6zWkMa/mUrp516fONNvZC+P+NrcrnsjqvT2lLp10UkkgKPP53xX74wXHWVtxk3XiJGR9zi6Ij7fiol/tKCd/Phk9nlso+XAJnJ3UO99N8U0EvI6Ih7BvhSIBh++6NnC7HNnUDJ7aXVPz46zLGaAnpJGR1xp0ZH3N8WhNSl2aW1Dzzz3oILNKRSYmbJ4e8f5jhNAb3kjI64PwZ+ZScQvPWRZz654fOTFARSKRF/MMynM0uEItG/B/7uMPtvJtE1cpKS6HJMTnleA24CXwSswGPgncsXhv/hsPtsCqhGTpOACnGaJlObvIQ0PVCTmmh6oCY10RRQk5poCqhJTTQF1KQmmgJqUhNNATWpiaaAmtREU0BNaqIpoCY10RRQk5poCqjJ6UYUxZp+PsuMjU/MjI1PvFfm7/eO0oayHmhsfOK9UkYW2P7e2PjETJltxLHxiauV7rPKYxdUlXQeJe2q8Bg12y7ZUszOe9IxLpbZx0XSb7P8pBZbauXIF5iS7oDsC35N+vfi2PiEeP3m7Uz77J1bNwYBrt+8XYlr2d++Qq4A96uwk7sT47K8ba5K7feLCaAID+5OjL8h7eOiZMu1IttekbZ/VGaft4HZuxPjRc+pEiTncKXKj+2fz3GtUDZ7d2J8v7Olznp0d2JcJooi12/evkfWSdy5dWO/4yQxPbhz68Yb+Tu9fvP2xbHxifeBS6UueFbHXyskFIkH+YIpwNuk38U6IK4Cx7wI5NiWJ7p7WeHlwd2J8TckOweAgUICzRyzkAhLCOFqAY95/+7EeLaA9wWRtz+KtWdQSo3FLmr2B4vdcfeljsk5AWn7WaQLfhgkYZERz/Wbt2eAv75z60a1d92bvOj4a+Td/ZWEtqyQ8VaVx87nWrbXyOuQtznYuYX65zakPaH09xngrfybSGp/kL+/eqKUDDlwUbOMKKjEfLJc9D3gSsbjSL9n31HZd01OCCuw26vkhp0HwD1KhKIC9mfu1kuVfqYImU4rF1oORcb7lOvsrPO5n/W5Wu26UiInK9S+7xQaGcIoFsIgx/tkX9D7wNXrN2/fy2svxe3ym5Qmq9Oy24p57QMepELeprIb413S1zNzjLep3SvWFsJOGtdv3r5KunNyOuLOrRuPrt+8/aDQ3wpRqOMPybtF2vNvjEOP8u5OjA+OjU9cHBufeK+It5/N+jfbYzy4OzH+KCvnyudADlRBrlcxRyogSa2zFE4K742NT9wrEsIyL/nfy3iifKT2cnfsu6Td7aFFlAnBpAV7pDUViStj4xP3inmxvNHc+5nfpRB2WGEcPoRVkkCX2FGGfLc9MDY+IWYpPT8pFJGSyULFwEIjrmwk8QyUsTczonkL6c6U2oqJoJDIZ6WfS0DJukwVZI++MmQS/Edj4xPXpG3ul8lr3qUCL1whhw9hFSTQmbu3bGyXXPgAea69VqTR14NM3pP59/rN26U69U3yEmdp1HLAa0l2z5YaKJQr7FVBqVFYpsb0JmmBFLyGGc8ubZu55pekz5S8scjrx3KDo3zyty8awrJrFNK/V8bGJ64WK1xJJ/UWaW92Ja+9UAjJCWEFaj/5XJVyowwPgBvF7M9z9aeNG8D7ha53ZpQr/V8kt84EJW707BytjDfO/kzJyFNQQNlD8SxXNiiV2B8Vcq1ZHXagPWNsoeRNMjCnVpQtJjjogbLaGy2OggW/WpFC2X3SXvQ+kleX/lY0YlR5jGLeOCOsfcdRKuk+ICBJMANFQtAl0nfGtWKeqJixY+MTb+aPMDLiLJfznGDqGqqzqbQUkJXD1iyqzL7uTozLskLrpXxPl408bwcipL1NoQPcnRh/JKnxXn7sLocknIFMaMwKbYcu8N25dePR3Ylx2VEV90pxd2L82lGJpxxZE66Z/pLVYU5MJO04crxNVp+/XyD5PzCVUVERLKPQUsos8rlMGMzkMpfu3LpRaefn50DVTqYeNxehbpXrAaSQkpXwFwsrhea+ipIVgkv2Y16f7+tEmfEE1RaXpNzmImllHhgG5hmZnbDNZoQEvH/95u0cEUkiOTDMrZdYSuQshfKZiqvKRQp5hT5bdBhfYr8DwCMoHh2yqDSJzkSAitORrDw3I6QHZUVT6VxYnkgyE6z7HVJMoFnDUCgy616K6zdv54/yci7gWIFZ8UaRXf/Kasu5vkVGrSVv0KOg0n7/f0gsTP2/3IlgAAAAAElFTkSuQmCC"}}]);